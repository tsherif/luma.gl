{"version":3,"sources":["webpack:///../examples/getting-started/shader-hooks/app.js","webpack:///./templates/getting-started/example-shader-hooks.jsx"],"names":["vs","fs","offsetLeftModule","name","inject","offsetRightModule","AppAnimationLoop","debug","getInfo","onInitialize","gl","programManager","positionBuffer","Float32Array","model1","modules","attributes","position","uniforms","color","vertexCount","model2","onRender","clear","onFinalize","AnimationLoop","window","animationLoop","Example","render","pageContext","this","exampleConfig","React","Component"],"mappings":"gNAGA,IAKMA,EAAN,yIASMC,EAAN,0FAQMC,EAAmB,CACvBC,KADuB,aAEvBC,OAAQ,CACN,qBAAsB,uBAIpBC,EAAoB,CACxBF,KADwB,cAExBC,OAAQ,CACN,qBAAsB,uBAILE,E,oBACnB,aAAe,OACb,YAAM,CAACC,OAAO,KADF,K,yFAIPC,QAAP,WACE,MA1CJ,mD,2BA6CEC,yBAAoB,IAANC,EAAK,EAALA,GACNC,EAAiB,IAAI,EAAJ,EAAvB,GACAA,2DAEA,IAAMC,EAAiB,IAAI,EAAJ,IAAe,IAAIC,aAAa,kBAAvD,MA8BA,MAAO,CAACC,OA5BO,IAAI,EAAJ,IAAc,CAC3Bd,GAD2B,EAE3BC,GAF2B,EAG3BU,eAH2B,EAI3BI,QAAS,CAJkB,GAK3BC,WAAY,CACVC,SAAUL,GAEZM,SAAU,CACRC,MAAO,CAAC,EAAI,EAAL,IAETC,YAAa,IAiBCC,OAdD,IAAI,EAAJ,IAAc,CAC3BrB,GAD2B,EAE3BC,GAF2B,EAG3BU,eAH2B,EAI3BI,QAAS,CAJkB,GAK3BC,WAAY,CACVC,SAAUL,GAEZM,SAAU,CACRC,MAAO,CAAC,EAAI,EAAL,IAETC,YAAa,IAGSR,mB,EAG1BU,qBAAgC,IAAtBZ,EAAqB,EAArBA,GAAII,EAAiB,EAAjBA,OAAQO,EAAS,EAATA,OACpBE,YAAMb,EAAI,CAACS,MAAO,CAAC,EAAE,EAAH,OAClBL,SACAO,U,EAGFG,uBAA8C,IAAlCV,EAAiC,EAAjCA,OAAQO,EAAyB,EAAzBA,OAAQT,EAAiB,EAAjBA,eAC1BE,WACAO,WACAT,Y,GAvD0Ca,KA4D1C,oBAAOC,QAA2BA,OAAtC,UACwB,IAAtB,GACAC,Q,4CCjGmBC,E,gLACnBC,kBAAU,IACAC,EAAgBC,KADjB,kBAEDC,EAAiBF,GAAeA,EAAhB,eAAtB,GACA,OACE,uBAA0BL,cAA1B,EAAwDO,cAAeA,K,GALxCC,IAAMC","file":"component---templates-getting-started-example-shader-hooks-jsx-7e992a6fd418ced72d58.js","sourcesContent":["import {AnimationLoop, Model, ProgramManager} from '@luma.gl/engine';\nimport {Buffer, clear} from '@luma.gl/webgl';\n\nconst INFO_HTML = `\nModifying shader behavior with shader hooks\n`;\n\n// Base vertex and fragment shader code\nconst vs = `\n  attribute vec2 position;\n\n  void main() {\n    gl_Position = vec4(position, 0.0, 1.0);\n    OFFSET_POSITION(gl_Position);\n  }\n`;\n\nconst fs = `\n  uniform vec3 color;\n\n  void main() {\n    gl_FragColor = vec4(color, 1.0);\n  }\n`;\n\nconst offsetLeftModule = {\n  name: 'offsetLeft',\n  inject: {\n    'vs:OFFSET_POSITION': 'position.x -= 0.5;'\n  }\n};\n\nconst offsetRightModule = {\n  name: 'offsetRight',\n  inject: {\n    'vs:OFFSET_POSITION': 'position.x += 0.5;'\n  }\n};\n\nexport default class AppAnimationLoop extends AnimationLoop {\n  constructor() {\n    super({debug: true});\n  }\n\n  static getInfo() {\n    return INFO_HTML;\n  }\n\n  onInitialize({gl}) {\n    const programManager = new ProgramManager(gl);\n    programManager.addShaderHook('vs:OFFSET_POSITION(inout vec4 position)');\n\n    const positionBuffer = new Buffer(gl, new Float32Array([-0.3, -0.5, 0.3, -0.5, 0.0, 0.5]));\n\n    const model1 = new Model(gl, {\n      vs,\n      fs,\n      programManager,\n      modules: [offsetLeftModule],\n      attributes: {\n        position: positionBuffer\n      },\n      uniforms: {\n        color: [1.0, 0.0, 0.0]\n      },\n      vertexCount: 3\n    });\n\n    const model2 = new Model(gl, {\n      vs,\n      fs,\n      programManager,\n      modules: [offsetRightModule],\n      attributes: {\n        position: positionBuffer\n      },\n      uniforms: {\n        color: [0.0, 0.0, 1.0]\n      },\n      vertexCount: 3\n    });\n\n    return {model1, model2, positionBuffer};\n  }\n\n  onRender({gl, model1, model2}) {\n    clear(gl, {color: [0, 0, 0, 1]});\n    model1.draw();\n    model2.draw();\n  }\n\n  onFinalize({model1, model2, positionBuffer}) {\n    model1.delete();\n    model2.delete();\n    positionBuffer.delete();\n  }\n}\n\n/* global window */\nif (typeof window !== 'undefined' && !window.website) {\n  const animationLoop = new AppAnimationLoop();\n  animationLoop.start();\n}\n","import React from 'react';\nimport AnimationLoopExamplePage from '../../src/components/animation-loop-example-page';\nimport AnimationLoop from '../../../examples/getting-started/shader-hooks/app';\n\nexport default class Example extends React.Component {\n  render() {\n    const { pageContext } = this.props;\n    const exampleConfig = (pageContext && pageContext.exampleConfig) || {};\n    return (\n      <AnimationLoopExamplePage AnimationLoop={AnimationLoop} exampleConfig={exampleConfig} />\n    );\n  }\n}\n"],"sourceRoot":""}