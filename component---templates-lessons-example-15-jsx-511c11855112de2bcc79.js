(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{444:function(n,i,e){"use strict";e.r(i);var t=e(1),o=e.n(t),r=e(408),a=(e(10),e(2),e(0)),u=e.n(a),s=e(297),l=e(180),p=e(410),c=e(470),v=e(453),g=e(454);var d={uUseColorMap:!0,uUseSpecularMap:!0,uShowSpecularHighlights:!0,uUseLighting:!0},m={uAmbientColor:[.4,.4,.4],uPointLightingLocation:[-10,4,-20],uPointLightingSpecularColor:[5,5,5],uPointLightingDiffuseColor:[.8,.8,.8]},f=function(n){var i,e;function t(){return n.apply(this,arguments)||this}e=n,(i=t).prototype=Object.create(e.prototype),i.prototype.constructor=i,i.__proto__=e,t.getInfo=function(){return'\n<p>\n  <a href="http://learningwebgl.com/blog/?p=1778" target="_blank">\n    Specular maps\n  </a>\n\n<div id="controls-elements">\n  <input type="checkbox" id="color-map" checked/> Use color map<br/>\n  <input type="checkbox" id="specular-map" checked/> Use specular map<br/>\n  <input type="checkbox" id="lighting" checked/> Use lighting<br/>\n\n  <br/>\n  <h2>Point light:</h2>\n\n  <div class="control-block">\n    <div class="control-row">\n      <div><b>Location:</b></div>\n      <div>X: <input type="text" id="lightPositionX" value="-10.0"/></div>\n      <div>Y: <input type="text" id="lightPositionY" value="4.0"/></div>\n      <div>Z: <input type="text" id="lightPositionZ" value="-20.0"/></div>\n    </div>\n    <div class="control-row">\n      <div><b>Specular colour:</b></div>\n      <div>R:\n        <input id="specularR" type="range" value="0.8" min="0.0" max="1.0" step="0.01"/>\n      </div>\n      <div>G:\n        <input id="specularG" type="range" value="0.8" min="0.0" max="1.0" step="0.01"/>\n      </div>\n      <div>B:\n        <input id="specularB" type="range" value="0.8" min="0.0" max="1.0" step="0.01"/>\n      </div>\n    </div>\n    <div class="control-row">\n      <div><b>Diffuse colour:</b></div>\n      <div>R:\n        <input id="diffuseR" type="range" value="0.8" min="0.0" max="1.0" step="0.01"/>\n      </div>\n      <div>G:\n        <input id="diffuseG" type="range" value="0.8" min="0.0" max="1.0" step="0.01"/>\n      </div>\n      <div>B:\n        <input id="diffuseB" type="range" value="0.8" min="0.0" max="1.0" step="0.01"/>\n      </div>\n    </div>\n  </div>\n\n  <h2>Ambient light:</h2>\n  <div class="control-block">\n    <div class="control-row">\n      <div><b>Colour:</b></div>\n        <div>R:\n          <input id="ambientR" type="range" value="0.2" min="0.0" max="1.0" step="0.01"/>\n        </div>\n        <div>G:\n          <input id="ambientG" type="range" value="0.2" min="0.0" max="1.0" step="0.01"/>\n        </div>\n        <div>B:\n          <input id="ambientB" type="range" value="0.2" min="0.0" max="1.0" step="0.01"/>\n        </div>\n      </div>\n  </div>\n\n  <br/>\n  Earth texture courtesy of\n  <a href="http://www.esa.int/esaEO/SEMGSY2IU7E_index_0.html">\n    the European Space Agency/Envisat\n  </a>.<br/>\n  <br/>\n</div>\n<p>\n  The classic WebGL Lessons in luma.gl\n'};var o=t.prototype;return o.onInitialize=function(n){n.canvas;var i,e,t=n.gl;Object(s.a)(t,{clearColor:[0,0,0,1],clearDepth:1,depthTest:!0});var o=new l.a(t,{data:"earth-specular.gif",parameters:(i={},i[t.TEXTURE_MAG_FILTER]=t.LINEAR,i[t.TEXTURE_MIN_FILTER]=t.LINEAR_MIPMAP_NEAREST,i[t.TEXTURE_WRAP_S]=t.REPEAT,i[t.TEXTURE_WRAP_T]=t.REPEAT,i),mipmap:!0}),r=new l.a(t,{data:"earth.jpg",parameters:(e={},e[t.TEXTURE_MAG_FILTER]=t.LINEAR,e[t.TEXTURE_MIN_FILTER]=t.LINEAR_MIPMAP_NEAREST,e[t.TEXTURE_WRAP_S]=t.REPEAT,e[t.TEXTURE_WRAP_T]=t.REPEAT,e),mipmap:!0});return{earth:new p.a(t,{geometry:new c.a({nlat:30,nlong:30,radius:13}),fs:"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vTransformedNormal;\nvarying vec4 vPosition;\n\nuniform bool uUseColorMap;\nuniform bool uUseSpecularMap;\nuniform bool uUseLighting;\nuniform vec3 uAmbientColor;\nuniform vec3 uPointLightingLocation;\nuniform vec3 uPointLightingSpecularColor;\nuniform vec3 uPointLightingDiffuseColor;\n\nuniform sampler2D uSpecularMapSampler;\nuniform sampler2D uColorMapSampler;\n\nvoid main(void) {\n  vec3 lightWeighting;\n  if (!uUseLighting) {\n    lightWeighting = vec3(1.0, 1.0, 1.0);\n} else {\n    vec3 lightDirection = normalize(uPointLightingLocation - vPosition.xyz);\n    vec3 normal = normalize(vTransformedNormal.xyz);\n    float specularLightWeighting = 0.0;\n    float shininess = 32.0;\n    if (uUseSpecularMap) {\n      shininess = texture2D(uSpecularMapSampler, vTextureCoord).r * 255.0;\n    }\n    if (shininess < 255.0) {\n       vec3 eyeDirection = normalize(-vPosition.xyz);\n       vec3 reflectionDirection = reflect(-lightDirection, normal);\n       specularLightWeighting = pow(max(dot(reflectionDirection, eyeDirection), 0.0), shininess);\n    }\n    float diffuseLightWeighting = max(dot(normal, lightDirection), 0.0);\n    lightWeighting = uAmbientColor\n        + uPointLightingSpecularColor * specularLightWeighting\n        + uPointLightingDiffuseColor * diffuseLightWeighting;\n  }\n  vec4 fragmentColor;\n  fragmentColor = uUseColorMap ?\n    texture2D(uColorMapSampler, vTextureCoord) : vec4(1.0, 1.0, 1.0, 1.0);\n  gl_FragColor = vec4(fragmentColor.rgb * lightWeighting, fragmentColor.a);\n}\n",vs:"precision highp float;\n\nattribute vec3 positions;\nattribute vec3 normals;\nattribute vec2 texCoords;\n\nuniform mat4 uMMatrix;\nuniform mat4 uVMatrix;\nuniform mat4 uPMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vTransformedNormal;\nvarying vec4 vPosition;\n\nvoid main(void) {\n  vPosition = uMMatrix * vec4(positions, 1.0);\n  gl_Position = uPMatrix * uVMatrix * vPosition;\n  vTextureCoord = texCoords;\n  vTransformedNormal = uMMatrix * vec4(normals, 0.0);\n}\n",uniforms:Object.assign({uColorMapSampler:r,uSpecularMapSampler:o},d,m)}),specularTexture:o,colorTexture:r}},o.onRender=function(n){var i=n.gl,e=n.tick,t=n.aspect,o=n.earth;i.clear(u.a.COLOR_BUFFER_BIT|u.a.DEPTH_BUFFER_BIT);var r=(new g.a).lookAt({eye:[0,0,10],center:[0,0,0],up:[-.5,1,0]}),a=function(){var n=b("lighting"),i=b("specular-map"),e=b("color-map"),t={position:[y("lightPositionX"),y("lightPositionY"),y("lightPositionZ")],specular:[y("specularR"),y("specularG"),y("specularB")],diffuse:[y("diffuseR"),y("diffuseG"),y("diffuseB")]},o=[y("ambientR"),y("ambientG"),y("ambientB")];return{useLighting:n,useSpecularMap:i,useColorMap:e,ambientColor:n&&o,pointLightingLocation:n&&t.position,pointLightSpecularColor:n&&t.specular,pointLightingDiffuseColor:n&&t.diffuse}}(),s=a.useLighting,l=a.useSpecularMap,p=a.useColorMap,c=a.ambientColor,v=a.pointLightingLocation,d=a.pointLightSpecularColor,m=a.pointLightingDiffuseColor;o.setUniforms({uUseSpecularMap:l,uUseColorMap:p,uUseLighting:s}),s&&o.setUniforms({uAmbientColor:c,uPointLightingLocation:v,uPointLightingSpecularColor:d,uPointLightingDiffuseColor:m});var f=.01*e;return o.setUniforms({uMMatrix:(new g.a).translate([0,0,-40]).rotateY(f),uVMatrix:r,uPMatrix:(new g.a).perspective({fov:45*Math.PI/180,aspect:t,near:.1,far:100})}).draw()},t}(v.a),h=function(n){return document.getElementById(n)},b=function(n){return!h(n)||h(n).checked},y=function(n,i){void 0===i&&(i=1);var e=h(n)?Number(h(n).value):i;return isNaN(e)?0:e};"undefined"==typeof window||window.website||(new f).start();e.d(i,"default",(function(){return L}));var L=function(n){var i,e;function t(){return n.apply(this,arguments)||this}return e=n,(i=t).prototype=Object.create(e.prototype),i.prototype.constructor=i,i.__proto__=e,t.prototype.render=function(){return o.a.createElement(r.a,{AnimationLoop:f,exampleConfig:this.props.pageContext.exampleConfig})},t}(o.a.Component)},470:function(n,i,e){"use strict";e.d(i,"a",(function(){return r}));e(148),e(36),e(2);var t=e(409),o=e(133);var r=function(n){var i,e;function t(i){void 0===i&&(i={});var e=i.id,t=void 0===e?Object(o.c)("sphere-geometry"):e,r=function(n){var i=n.nlat,e=void 0===i?10:i,t=n.nlong,o=void 0===t?10:t,r=n.radius,a=void 0===r?1:r,u=Math.PI-0,s=2*Math.PI-0,l=(e+1)*(o+1);if("number"==typeof a){var p=a;a=function(n,i,e,t,o){return p}}for(var c=new Float32Array(3*l),v=new Float32Array(3*l),g=new Float32Array(2*l),d=new Uint16Array(e*o*6),m=0;m<=e;m++)for(var f=0;f<=o;f++){var h=f/o,b=m/e,y=f+m*(o+1),L=2*y,M=3*y,E=s*h,C=u*b,x=Math.sin(E),P=Math.cos(E),T=Math.sin(C),_=Math.cos(C),R=P*T,w=_,S=x*T,A=a(R,w,S,h,b);c[M+0]=A*R,c[M+1]=A*w,c[M+2]=A*S,v[M+0]=R,v[M+1]=w,v[M+2]=S,g[L+0]=h,g[L+1]=1-b}for(var U=e+1,I=0;I<e;I++)for(var D=0;D<o;D++){var N=6*(I*o+D);d[N+0]=D*U+I,d[N+1]=D*U+I+1,d[N+2]=(D+1)*U+I,d[N+3]=(D+1)*U+I,d[N+4]=D*U+I+1,d[N+5]=(D+1)*U+I+1}return{indices:{size:1,value:d},attributes:{POSITION:{size:3,value:c},NORMAL:{size:3,value:v},TEXCOORD_0:{size:2,value:g}}}}(i),a=r.indices,u=r.attributes;return n.call(this,Object.assign({},i,{id:t,indices:a,attributes:Object.assign({},u,{},i.attributes)}))||this}return e=n,(i=t).prototype=Object.create(e.prototype),i.prototype.constructor=i,i.__proto__=e,t}(t.a)}}]);
//# sourceMappingURL=component---templates-lessons-example-15-jsx-511c11855112de2bcc79.js.map