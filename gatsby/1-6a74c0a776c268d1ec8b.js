(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{308:function(t,e){t.exports={DEPTH_BUFFER_BIT:256,STENCIL_BUFFER_BIT:1024,COLOR_BUFFER_BIT:16384,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,ZERO:0,ONE:1,SRC_COLOR:768,ONE_MINUS_SRC_COLOR:769,SRC_ALPHA:770,ONE_MINUS_SRC_ALPHA:771,DST_ALPHA:772,ONE_MINUS_DST_ALPHA:773,DST_COLOR:774,ONE_MINUS_DST_COLOR:775,SRC_ALPHA_SATURATE:776,CONSTANT_COLOR:32769,ONE_MINUS_CONSTANT_COLOR:32770,CONSTANT_ALPHA:32771,ONE_MINUS_CONSTANT_ALPHA:32772,FUNC_ADD:32774,FUNC_SUBTRACT:32778,FUNC_REVERSE_SUBTRACT:32779,BLEND_EQUATION:32777,BLEND_EQUATION_RGB:32777,BLEND_EQUATION_ALPHA:34877,BLEND_DST_RGB:32968,BLEND_SRC_RGB:32969,BLEND_DST_ALPHA:32970,BLEND_SRC_ALPHA:32971,BLEND_COLOR:32773,ARRAY_BUFFER_BINDING:34964,ELEMENT_ARRAY_BUFFER_BINDING:34965,LINE_WIDTH:2849,ALIASED_POINT_SIZE_RANGE:33901,ALIASED_LINE_WIDTH_RANGE:33902,CULL_FACE_MODE:2885,FRONT_FACE:2886,DEPTH_RANGE:2928,DEPTH_WRITEMASK:2930,DEPTH_CLEAR_VALUE:2931,DEPTH_FUNC:2932,STENCIL_CLEAR_VALUE:2961,STENCIL_FUNC:2962,STENCIL_FAIL:2964,STENCIL_PASS_DEPTH_FAIL:2965,STENCIL_PASS_DEPTH_PASS:2966,STENCIL_REF:2967,STENCIL_VALUE_MASK:2963,STENCIL_WRITEMASK:2968,STENCIL_BACK_FUNC:34816,STENCIL_BACK_FAIL:34817,STENCIL_BACK_PASS_DEPTH_FAIL:34818,STENCIL_BACK_PASS_DEPTH_PASS:34819,STENCIL_BACK_REF:36003,STENCIL_BACK_VALUE_MASK:36004,STENCIL_BACK_WRITEMASK:36005,VIEWPORT:2978,SCISSOR_BOX:3088,COLOR_CLEAR_VALUE:3106,COLOR_WRITEMASK:3107,UNPACK_ALIGNMENT:3317,PACK_ALIGNMENT:3333,MAX_TEXTURE_SIZE:3379,MAX_VIEWPORT_DIMS:3386,SUBPIXEL_BITS:3408,RED_BITS:3410,GREEN_BITS:3411,BLUE_BITS:3412,ALPHA_BITS:3413,DEPTH_BITS:3414,STENCIL_BITS:3415,POLYGON_OFFSET_UNITS:10752,POLYGON_OFFSET_FACTOR:32824,TEXTURE_BINDING_2D:32873,SAMPLE_BUFFERS:32936,SAMPLES:32937,SAMPLE_COVERAGE_VALUE:32938,SAMPLE_COVERAGE_INVERT:32939,COMPRESSED_TEXTURE_FORMATS:34467,VENDOR:7936,RENDERER:7937,VERSION:7938,IMPLEMENTATION_COLOR_READ_TYPE:35738,IMPLEMENTATION_COLOR_READ_FORMAT:35739,BROWSER_DEFAULT_WEBGL:37444,STATIC_DRAW:35044,STREAM_DRAW:35040,DYNAMIC_DRAW:35048,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,BUFFER_SIZE:34660,BUFFER_USAGE:34661,CURRENT_VERTEX_ATTRIB:34342,VERTEX_ATTRIB_ARRAY_ENABLED:34338,VERTEX_ATTRIB_ARRAY_SIZE:34339,VERTEX_ATTRIB_ARRAY_STRIDE:34340,VERTEX_ATTRIB_ARRAY_TYPE:34341,VERTEX_ATTRIB_ARRAY_NORMALIZED:34922,VERTEX_ATTRIB_ARRAY_POINTER:34373,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:34975,CULL_FACE:2884,FRONT:1028,BACK:1029,FRONT_AND_BACK:1032,BLEND:3042,DEPTH_TEST:2929,DITHER:3024,POLYGON_OFFSET_FILL:32823,SAMPLE_ALPHA_TO_COVERAGE:32926,SAMPLE_COVERAGE:32928,SCISSOR_TEST:3089,STENCIL_TEST:2960,NO_ERROR:0,INVALID_ENUM:1280,INVALID_VALUE:1281,INVALID_OPERATION:1282,OUT_OF_MEMORY:1285,CONTEXT_LOST_WEBGL:37442,CW:2304,CCW:2305,DONT_CARE:4352,FASTEST:4353,NICEST:4354,GENERATE_MIPMAP_HINT:33170,BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,DEPTH_COMPONENT:6402,ALPHA:6406,RGB:6407,RGBA:6408,LUMINANCE:6409,LUMINANCE_ALPHA:6410,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,FRAGMENT_SHADER:35632,VERTEX_SHADER:35633,COMPILE_STATUS:35713,DELETE_STATUS:35712,LINK_STATUS:35714,VALIDATE_STATUS:35715,ATTACHED_SHADERS:35717,ACTIVE_ATTRIBUTES:35721,ACTIVE_UNIFORMS:35718,MAX_VERTEX_ATTRIBS:34921,MAX_VERTEX_UNIFORM_VECTORS:36347,MAX_VARYING_VECTORS:36348,MAX_COMBINED_TEXTURE_IMAGE_UNITS:35661,MAX_VERTEX_TEXTURE_IMAGE_UNITS:35660,MAX_TEXTURE_IMAGE_UNITS:34930,MAX_FRAGMENT_UNIFORM_VECTORS:36349,SHADER_TYPE:35663,SHADING_LANGUAGE_VERSION:35724,CURRENT_PROGRAM:35725,NEVER:512,ALWAYS:519,LESS:513,EQUAL:514,LEQUAL:515,GREATER:516,GEQUAL:518,NOTEQUAL:517,KEEP:7680,REPLACE:7681,INCR:7682,DECR:7683,INVERT:5386,INCR_WRAP:34055,DECR_WRAP:34056,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TEXTURE_2D:3553,TEXTURE:5890,TEXTURE_CUBE_MAP:34067,TEXTURE_BINDING_CUBE_MAP:34068,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074,MAX_CUBE_MAP_TEXTURE_SIZE:34076,TEXTURE0:33984,ACTIVE_TEXTURE:34016,REPEAT:10497,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,TEXTURE_WIDTH:4096,TEXTURE_HEIGHT:4097,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,SAMPLER_2D:35678,SAMPLER_CUBE:35680,LOW_FLOAT:36336,MEDIUM_FLOAT:36337,HIGH_FLOAT:36338,LOW_INT:36339,MEDIUM_INT:36340,HIGH_INT:36341,FRAMEBUFFER:36160,RENDERBUFFER:36161,RGBA4:32854,RGB5_A1:32855,RGB565:36194,DEPTH_COMPONENT16:33189,STENCIL_INDEX:6401,STENCIL_INDEX8:36168,DEPTH_STENCIL:34041,RENDERBUFFER_WIDTH:36162,RENDERBUFFER_HEIGHT:36163,RENDERBUFFER_INTERNAL_FORMAT:36164,RENDERBUFFER_RED_SIZE:36176,RENDERBUFFER_GREEN_SIZE:36177,RENDERBUFFER_BLUE_SIZE:36178,RENDERBUFFER_ALPHA_SIZE:36179,RENDERBUFFER_DEPTH_SIZE:36180,RENDERBUFFER_STENCIL_SIZE:36181,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:36048,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:36049,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:36050,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:36051,COLOR_ATTACHMENT0:36064,DEPTH_ATTACHMENT:36096,STENCIL_ATTACHMENT:36128,DEPTH_STENCIL_ATTACHMENT:33306,NONE:0,FRAMEBUFFER_COMPLETE:36053,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:36054,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:36055,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:36057,FRAMEBUFFER_UNSUPPORTED:36061,FRAMEBUFFER_BINDING:36006,RENDERBUFFER_BINDING:36007,READ_FRAMEBUFFER:36008,DRAW_FRAMEBUFFER:36009,MAX_RENDERBUFFER_SIZE:34024,INVALID_FRAMEBUFFER_OPERATION:1286,UNPACK_FLIP_Y_WEBGL:37440,UNPACK_PREMULTIPLY_ALPHA_WEBGL:37441,UNPACK_COLORSPACE_CONVERSION_WEBGL:37443,READ_BUFFER:3074,UNPACK_ROW_LENGTH:3314,UNPACK_SKIP_ROWS:3315,UNPACK_SKIP_PIXELS:3316,PACK_ROW_LENGTH:3330,PACK_SKIP_ROWS:3331,PACK_SKIP_PIXELS:3332,TEXTURE_BINDING_3D:32874,UNPACK_SKIP_IMAGES:32877,UNPACK_IMAGE_HEIGHT:32878,MAX_3D_TEXTURE_SIZE:32883,MAX_ELEMENTS_VERTICES:33e3,MAX_ELEMENTS_INDICES:33001,MAX_TEXTURE_LOD_BIAS:34045,MAX_FRAGMENT_UNIFORM_COMPONENTS:35657,MAX_VERTEX_UNIFORM_COMPONENTS:35658,MAX_ARRAY_TEXTURE_LAYERS:35071,MIN_PROGRAM_TEXEL_OFFSET:35076,MAX_PROGRAM_TEXEL_OFFSET:35077,MAX_VARYING_COMPONENTS:35659,FRAGMENT_SHADER_DERIVATIVE_HINT:35723,RASTERIZER_DISCARD:35977,VERTEX_ARRAY_BINDING:34229,MAX_VERTEX_OUTPUT_COMPONENTS:37154,MAX_FRAGMENT_INPUT_COMPONENTS:37157,MAX_SERVER_WAIT_TIMEOUT:37137,MAX_ELEMENT_INDEX:36203,RED:6403,RGB8:32849,RGBA8:32856,RGB10_A2:32857,TEXTURE_3D:32879,TEXTURE_WRAP_R:32882,TEXTURE_MIN_LOD:33082,TEXTURE_MAX_LOD:33083,TEXTURE_BASE_LEVEL:33084,TEXTURE_MAX_LEVEL:33085,TEXTURE_COMPARE_MODE:34892,TEXTURE_COMPARE_FUNC:34893,SRGB:35904,SRGB8:35905,SRGB8_ALPHA8:35907,COMPARE_REF_TO_TEXTURE:34894,RGBA32F:34836,RGB32F:34837,RGBA16F:34842,RGB16F:34843,TEXTURE_2D_ARRAY:35866,TEXTURE_BINDING_2D_ARRAY:35869,R11F_G11F_B10F:35898,RGB9_E5:35901,RGBA32UI:36208,RGB32UI:36209,RGBA16UI:36214,RGB16UI:36215,RGBA8UI:36220,RGB8UI:36221,RGBA32I:36226,RGB32I:36227,RGBA16I:36232,RGB16I:36233,RGBA8I:36238,RGB8I:36239,RED_INTEGER:36244,RGB_INTEGER:36248,RGBA_INTEGER:36249,R8:33321,RG8:33323,R16F:33325,R32F:33326,RG16F:33327,RG32F:33328,R8I:33329,R8UI:33330,R16I:33331,R16UI:33332,R32I:33333,R32UI:33334,RG8I:33335,RG8UI:33336,RG16I:33337,RG16UI:33338,RG32I:33339,RG32UI:33340,R8_SNORM:36756,RG8_SNORM:36757,RGB8_SNORM:36758,RGBA8_SNORM:36759,RGB10_A2UI:36975,TEXTURE_IMMUTABLE_FORMAT:37167,TEXTURE_IMMUTABLE_LEVELS:33503,UNSIGNED_INT_2_10_10_10_REV:33640,UNSIGNED_INT_10F_11F_11F_REV:35899,UNSIGNED_INT_5_9_9_9_REV:35902,FLOAT_32_UNSIGNED_INT_24_8_REV:36269,UNSIGNED_INT_24_8:34042,HALF_FLOAT:5131,RG:33319,RG_INTEGER:33320,INT_2_10_10_10_REV:36255,CURRENT_QUERY:34917,QUERY_RESULT:34918,QUERY_RESULT_AVAILABLE:34919,ANY_SAMPLES_PASSED:35887,ANY_SAMPLES_PASSED_CONSERVATIVE:36202,MAX_DRAW_BUFFERS:34852,DRAW_BUFFER0:34853,DRAW_BUFFER1:34854,DRAW_BUFFER2:34855,DRAW_BUFFER3:34856,DRAW_BUFFER4:34857,DRAW_BUFFER5:34858,DRAW_BUFFER6:34859,DRAW_BUFFER7:34860,DRAW_BUFFER8:34861,DRAW_BUFFER9:34862,DRAW_BUFFER10:34863,DRAW_BUFFER11:34864,DRAW_BUFFER12:34865,DRAW_BUFFER13:34866,DRAW_BUFFER14:34867,DRAW_BUFFER15:34868,MAX_COLOR_ATTACHMENTS:36063,COLOR_ATTACHMENT1:36065,COLOR_ATTACHMENT2:36066,COLOR_ATTACHMENT3:36067,COLOR_ATTACHMENT4:36068,COLOR_ATTACHMENT5:36069,COLOR_ATTACHMENT6:36070,COLOR_ATTACHMENT7:36071,COLOR_ATTACHMENT8:36072,COLOR_ATTACHMENT9:36073,COLOR_ATTACHMENT10:36074,COLOR_ATTACHMENT11:36075,COLOR_ATTACHMENT12:36076,COLOR_ATTACHMENT13:36077,COLOR_ATTACHMENT14:36078,COLOR_ATTACHMENT15:36079,SAMPLER_3D:35679,SAMPLER_2D_SHADOW:35682,SAMPLER_2D_ARRAY:36289,SAMPLER_2D_ARRAY_SHADOW:36292,SAMPLER_CUBE_SHADOW:36293,INT_SAMPLER_2D:36298,INT_SAMPLER_3D:36299,INT_SAMPLER_CUBE:36300,INT_SAMPLER_2D_ARRAY:36303,UNSIGNED_INT_SAMPLER_2D:36306,UNSIGNED_INT_SAMPLER_3D:36307,UNSIGNED_INT_SAMPLER_CUBE:36308,UNSIGNED_INT_SAMPLER_2D_ARRAY:36311,MAX_SAMPLES:36183,SAMPLER_BINDING:35097,PIXEL_PACK_BUFFER:35051,PIXEL_UNPACK_BUFFER:35052,PIXEL_PACK_BUFFER_BINDING:35053,PIXEL_UNPACK_BUFFER_BINDING:35055,COPY_READ_BUFFER:36662,COPY_WRITE_BUFFER:36663,COPY_READ_BUFFER_BINDING:36662,COPY_WRITE_BUFFER_BINDING:36663,FLOAT_MAT2x3:35685,FLOAT_MAT2x4:35686,FLOAT_MAT3x2:35687,FLOAT_MAT3x4:35688,FLOAT_MAT4x2:35689,FLOAT_MAT4x3:35690,UNSIGNED_INT_VEC2:36294,UNSIGNED_INT_VEC3:36295,UNSIGNED_INT_VEC4:36296,UNSIGNED_NORMALIZED:35863,SIGNED_NORMALIZED:36764,VERTEX_ATTRIB_ARRAY_INTEGER:35069,VERTEX_ATTRIB_ARRAY_DIVISOR:35070,TRANSFORM_FEEDBACK_BUFFER_MODE:35967,MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS:35968,TRANSFORM_FEEDBACK_VARYINGS:35971,TRANSFORM_FEEDBACK_BUFFER_START:35972,TRANSFORM_FEEDBACK_BUFFER_SIZE:35973,TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN:35976,MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS:35978,MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS:35979,INTERLEAVED_ATTRIBS:35980,SEPARATE_ATTRIBS:35981,TRANSFORM_FEEDBACK_BUFFER:35982,TRANSFORM_FEEDBACK_BUFFER_BINDING:35983,TRANSFORM_FEEDBACK:36386,TRANSFORM_FEEDBACK_PAUSED:36387,TRANSFORM_FEEDBACK_ACTIVE:36388,TRANSFORM_FEEDBACK_BINDING:36389,FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING:33296,FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE:33297,FRAMEBUFFER_ATTACHMENT_RED_SIZE:33298,FRAMEBUFFER_ATTACHMENT_GREEN_SIZE:33299,FRAMEBUFFER_ATTACHMENT_BLUE_SIZE:33300,FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE:33301,FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE:33302,FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE:33303,FRAMEBUFFER_DEFAULT:33304,DEPTH24_STENCIL8:35056,DRAW_FRAMEBUFFER_BINDING:36006,READ_FRAMEBUFFER_BINDING:36010,RENDERBUFFER_SAMPLES:36011,FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER:36052,FRAMEBUFFER_INCOMPLETE_MULTISAMPLE:36182,UNIFORM_BUFFER:35345,UNIFORM_BUFFER_BINDING:35368,UNIFORM_BUFFER_START:35369,UNIFORM_BUFFER_SIZE:35370,MAX_VERTEX_UNIFORM_BLOCKS:35371,MAX_FRAGMENT_UNIFORM_BLOCKS:35373,MAX_COMBINED_UNIFORM_BLOCKS:35374,MAX_UNIFORM_BUFFER_BINDINGS:35375,MAX_UNIFORM_BLOCK_SIZE:35376,MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS:35377,MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS:35379,UNIFORM_BUFFER_OFFSET_ALIGNMENT:35380,ACTIVE_UNIFORM_BLOCKS:35382,UNIFORM_TYPE:35383,UNIFORM_SIZE:35384,UNIFORM_BLOCK_INDEX:35386,UNIFORM_OFFSET:35387,UNIFORM_ARRAY_STRIDE:35388,UNIFORM_MATRIX_STRIDE:35389,UNIFORM_IS_ROW_MAJOR:35390,UNIFORM_BLOCK_BINDING:35391,UNIFORM_BLOCK_DATA_SIZE:35392,UNIFORM_BLOCK_ACTIVE_UNIFORMS:35394,UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES:35395,UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER:35396,UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER:35398,OBJECT_TYPE:37138,SYNC_CONDITION:37139,SYNC_STATUS:37140,SYNC_FLAGS:37141,SYNC_FENCE:37142,SYNC_GPU_COMMANDS_COMPLETE:37143,UNSIGNALED:37144,SIGNALED:37145,ALREADY_SIGNALED:37146,TIMEOUT_EXPIRED:37147,CONDITION_SATISFIED:37148,WAIT_FAILED:37149,SYNC_FLUSH_COMMANDS_BIT:1,COLOR:6144,DEPTH:6145,STENCIL:6146,MIN:32775,MAX:32776,DEPTH_COMPONENT24:33190,STREAM_READ:35041,STREAM_COPY:35042,STATIC_READ:35045,STATIC_COPY:35046,DYNAMIC_READ:35049,DYNAMIC_COPY:35050,DEPTH_COMPONENT32F:36012,DEPTH32F_STENCIL8:36013,INVALID_INDEX:4294967295,TIMEOUT_IGNORED:-1,MAX_CLIENT_WAIT_TIMEOUT_WEBGL:37447,VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE:35070,UNMASKED_VENDOR_WEBGL:37445,UNMASKED_RENDERER_WEBGL:37446,MAX_TEXTURE_MAX_ANISOTROPY_EXT:34047,TEXTURE_MAX_ANISOTROPY_EXT:34046,COMPRESSED_RGB_S3TC_DXT1_EXT:33776,COMPRESSED_RGBA_S3TC_DXT1_EXT:33777,COMPRESSED_RGBA_S3TC_DXT3_EXT:33778,COMPRESSED_RGBA_S3TC_DXT5_EXT:33779,COMPRESSED_R11_EAC:37488,COMPRESSED_SIGNED_R11_EAC:37489,COMPRESSED_RG11_EAC:37490,COMPRESSED_SIGNED_RG11_EAC:37491,COMPRESSED_RGB8_ETC2:37492,COMPRESSED_RGBA8_ETC2_EAC:37493,COMPRESSED_SRGB8_ETC2:37494,COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:37495,COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:37496,COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:37497,COMPRESSED_RGB_PVRTC_4BPPV1_IMG:35840,COMPRESSED_RGBA_PVRTC_4BPPV1_IMG:35842,COMPRESSED_RGB_PVRTC_2BPPV1_IMG:35841,COMPRESSED_RGBA_PVRTC_2BPPV1_IMG:35843,COMPRESSED_RGB_ETC1_WEBGL:36196,COMPRESSED_RGB_ATC_WEBGL:35986,COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL:35986,COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL:34798,UNSIGNED_INT_24_8_WEBGL:34042,HALF_FLOAT_OES:36193,RGBA32F_EXT:34836,RGB32F_EXT:34837,FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT:33297,UNSIGNED_NORMALIZED_EXT:35863,MIN_EXT:32775,MAX_EXT:32776,SRGB_EXT:35904,SRGB_ALPHA_EXT:35906,SRGB8_ALPHA8_EXT:35907,FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING_EXT:33296,FRAGMENT_SHADER_DERIVATIVE_HINT_OES:35723,COLOR_ATTACHMENT0_WEBGL:36064,COLOR_ATTACHMENT1_WEBGL:36065,COLOR_ATTACHMENT2_WEBGL:36066,COLOR_ATTACHMENT3_WEBGL:36067,COLOR_ATTACHMENT4_WEBGL:36068,COLOR_ATTACHMENT5_WEBGL:36069,COLOR_ATTACHMENT6_WEBGL:36070,COLOR_ATTACHMENT7_WEBGL:36071,COLOR_ATTACHMENT8_WEBGL:36072,COLOR_ATTACHMENT9_WEBGL:36073,COLOR_ATTACHMENT10_WEBGL:36074,COLOR_ATTACHMENT11_WEBGL:36075,COLOR_ATTACHMENT12_WEBGL:36076,COLOR_ATTACHMENT13_WEBGL:36077,COLOR_ATTACHMENT14_WEBGL:36078,COLOR_ATTACHMENT15_WEBGL:36079,DRAW_BUFFER0_WEBGL:34853,DRAW_BUFFER1_WEBGL:34854,DRAW_BUFFER2_WEBGL:34855,DRAW_BUFFER3_WEBGL:34856,DRAW_BUFFER4_WEBGL:34857,DRAW_BUFFER5_WEBGL:34858,DRAW_BUFFER6_WEBGL:34859,DRAW_BUFFER7_WEBGL:34860,DRAW_BUFFER8_WEBGL:34861,DRAW_BUFFER9_WEBGL:34862,DRAW_BUFFER10_WEBGL:34863,DRAW_BUFFER11_WEBGL:34864,DRAW_BUFFER12_WEBGL:34865,DRAW_BUFFER13_WEBGL:34866,DRAW_BUFFER14_WEBGL:34867,DRAW_BUFFER15_WEBGL:34868,MAX_COLOR_ATTACHMENTS_WEBGL:36063,MAX_DRAW_BUFFERS_WEBGL:34852,VERTEX_ARRAY_BINDING_OES:34229,QUERY_COUNTER_BITS_EXT:34916,CURRENT_QUERY_EXT:34917,QUERY_RESULT_EXT:34918,QUERY_RESULT_AVAILABLE_EXT:34919,TIME_ELAPSED_EXT:35007,TIMESTAMP_EXT:36392,GPU_DISJOINT_EXT:36795}},318:function(t,e,r){"use strict";(function(t){r.d(e,"a",function(){return f});r(15);var n=r(0),a=r.n(n),i=r(385),o=r(399),s=r(450),u=r(454),E=r(378);void 0===t||t.navigator||(t.navigator={}),"undefined"!=typeof window&&(window.website=!0);var _={EXAMPLE_NOT_SUPPPORTED:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"}},c={position:"fixed",fontSize:"12px",zIndex:1e4,color:"#fff",background:"#000",padding:"8px",opacity:.8},f=function(t){var e,r;function n(e){var r,n=(r=t.call(this,e)||this).props.AnimationLoop;return r.animationLoop=new n,r}r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var f=n.prototype;return f.componentDidMount=function(){var t=this.props.showStats;this.animationLoop._setDisplay(new s.a);var e=this.props.exampleConfig;if(e&&e.path){Object(i.c)("https://raw.githubusercontent.com/uber/luma.gl/master/"+e.path)}this.animationLoop.start(this.props),t&&this._showStats(this.animationLoop)},f.componentWillUnmount=function(){this.animationLoop.stop(this.props),this.animationLoop.delete(),this.animationLoop=null},f._showStats=function(t){var e=this,r=new u.a(t.stats,{container:this.refs.renderStats,title:"Render Time",css:{header:{fontWeight:"bold"}},framesPerUpdate:60,formatters:{"CPU Time":"averageTime","GPU Time":"averageTime","Frame Rate":"fps"},resetOnUpdate:{"CPU Time":!0,"GPU Time":!0,"Frame Rate":!0}});o.a.get("Memory Usage").reset();var n=new u.a(o.a.get("Memory Usage"),{container:this.refs.memStats,css:{header:{fontWeight:"bold"}},framesPerUpdate:60,formatters:{"GPU Memory":"memory","Buffer Memory":"memory","Renderbuffer Memory":"memory","Texture Memory":"memory"}});this.animationFrame=window.requestAnimationFrame(function t(){r.update(),n.update(),e.animationFrame=window.requestAnimationFrame(t)})},f._stopStats=function(){window.cancelAnimationFrame(this.animationFrame)},f.render=function(){var t=this.props,e=t.name,r=t.panel,n=void 0===r||r,i=t.stats,o=t.sourceLink;if(this.animationLoop.isSupported&&!this.animationLoop.isSupported()){var s=this.animationLoop.getAltText?this.animationLoop.getAltText():"THIS EXAMPLE IS NOT SUPPORTED";return a.a.createElement("div",{style:_.EXAMPLE_NOT_SUPPPORTED},a.a.createElement("h2",null," ",s," "))}var u=this.props.AnimationLoop.getInfo()||this.animationLoop.getInfo&&this.animationLoop.getInfo();return a.a.createElement("div",{className:"fg",style:{width:"100%",height:"100%",padding:0,border:0}},i?a.a.createElement("div",{ref:"stats",className:"stats",style:c},a.a.createElement("div",{ref:"renderStats",className:"renderStats"}),a.a.createElement("div",{ref:"memStats",className:"memStats"})):null,a.a.createElement("canvas",{id:this.props.canvas,style:{width:"100%",height:"100%",padding:0,border:0}}),n?a.a.createElement(E.a,{name:e,controls:u,sourceLink:o}):null)},n}(n.Component);f.defaultProps={canvas:"example-canvas"},f.displayName="AnimationLoop"}).call(this,r(99))},323:function(t,e,r){"use strict";r.d(e,"a",function(){return c});r(10),r(7),r(3),r(5),r(9),r(39),r(2),r(15);var n=r(399),a=r(433),i=r(435),o=r(434),s=r(386),u=r(436);function E(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var _="Resource subclass must define virtual methods",c=function(){function t(t,e){void 0===e&&(e={}),Object(a.b)(t);var r=e,n=r.id,i=r.userData,s=void 0===i?{}:i;this.gl=t,this.id=n||Object(o.c)(this.constructor.name),this.userData=s,this._bound=!1,this._handle=e.handle,void 0===this._handle&&(this._handle=this._createHandle()),this.byteLength=0,this._addStats()}var e,r,c,f=t.prototype;return f.toString=function(){return this.constructor.name+"("+this.id+")"},f.delete=function(t){var e=(void 0===t?{}:t).deleteChildren,r=void 0!==e&&e,n=this._handle&&this._deleteHandle(this._handle);return this._handle&&this._removeStats(),this._handle=null,n&&r&&n.filter(Boolean).forEach(function(t){t.delete()}),this},f.bind=function(t){return void 0===t&&(t=this.handle),"function"!=typeof t?(this._bindHandle(t),this):(this._bound?e=t():(this._bindHandle(this.handle),this._bound=!0,e=t(),this._bound=!1,this._bindHandle(null)),e);var e},f.unbind=function(){this.bind(null)},f.getParameter=function(t,e){void 0===e&&(e={}),t=Object(i.b)(this.gl,t),Object(s.a)(t);var r=(this.constructor.PARAMETERS||{})[t];if(r){var n=Object(a.d)(this.gl);if(!((!("webgl2"in r)||n)&&(!("extension"in r)||this.gl.getExtension(r.extension)))){var o=r.webgl1,u="webgl2"in r?r.webgl2:r.webgl1;return n?u:o}}return this._getParameter(t,e)},f.getParameters=function(t){void 0===t&&(t={});var e={},r=e.parameters,n=e.keys,o=this.constructor.PARAMETERS||{},s=Object(a.d)(this.gl),u={},E=r||Object.keys(o),_=Array.isArray(E),c=0;for(E=_?E:E[Symbol.iterator]();;){var f;if(_){if(c>=E.length)break;f=E[c++]}else{if((c=E.next()).done)break;f=c.value}var l=f,h=o[l];if(h&&(!("webgl2"in h)||s)&&(!("extension"in h)||this.gl.getExtension(h.extension))){var d=n?Object(i.a)(this.gl,l):l;u[d]=this.getParameter(l,t),n&&"GLenum"===h.type&&(u[d]=Object(i.a)(this.gl,u[d]))}}return u},f.setParameter=function(t,e){t=Object(i.b)(this.gl,t),Object(s.a)(t);var r=(this.constructor.PARAMETERS||{})[t];if(r){var n=Object(a.d)(this.gl);if(!((!("webgl2"in r)||n)&&(!("extension"in r)||this.gl.getExtension(r.extension))))throw new Error("Parameter not available on this platform");"GLenum"===r.type&&(e=Object(i.b)(e))}return this._setParameter(t,e),this},f.setParameters=function(t){for(var e in t)this.setParameter(e,t[e]);return this},f.stubRemovedMethods=function(t,e,r){return Object(u.a)(this,t,e,r)},f.initialize=function(t){},f._createHandle=function(){throw new Error(_)},f._deleteHandle=function(){throw new Error(_)},f._bindHandle=function(){throw new Error(_)},f._getOptsFromHandle=function(){throw new Error(_)},f._getParameter=function(t,e){throw new Error(_)},f._setParameter=function(t,e){throw new Error(_)},f._context=function(){return this.gl.luma=this.gl.luma||{},this.gl.luma},f._addStats=function(){var t=this.constructor.name,e=n.a.get("Resource Counts");e.get("Resources Created").incrementCount(),e.get(t+"s Created").incrementCount(),e.get(t+"s Active").incrementCount()},f._removeStats=function(){var t=this.constructor.name;n.a.get("Resource Counts").get(t+"s Active").decrementCount()},f._trackAllocatedMemory=function(t,e){void 0===e&&(e=this.constructor.name);var r=n.a.get("Memory Usage");r.get("GPU Memory").addCount(t),r.get(e+" Memory").addCount(t),this.byteLength=t},f._trackDeallocatedMemory=function(t){void 0===t&&(t=this.constructor.name);var e=n.a.get("Memory Usage");e.get("GPU Memory").subtractCount(this.byteLength),e.get(t+" Memory").subtractCount(this.byteLength),this.byteLength=0},e=t,(r=[{key:"handle",get:function(){return this._handle}}])&&E(e.prototype,r),c&&E(e,c),t}()},324:function(t,e,r){"use strict";r.d(e,"a",function(){return A});r(307),r(4),r(130),r(306),r(311);var n=r(308),a=r.n(n),i=r(323),o=r(353),s=r(433),u=r(388),E=r(432),_=r(386),c=r(351);function f(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var l={offset:"accessor.offset",stride:"accessor.stride",type:"accessor.type",size:"accessor.size",divisor:"accessor.divisor",normalized:"accessor.normalized",integer:"accessor.integer",instanced:"accessor.divisor",isInstanced:"accessor.divisor"},h={removedProps:{},replacedProps:{bytes:"byteLength"},deprecatedProps:l},d={removedProps:l},A=function(t){var e,r;function n(e,r){var n;return void 0===r&&(r={}),(n=t.call(this,e,r)||this).stubRemovedMethods("Buffer","v6.0",["layout","setLayout","getIndexedParameter"]),n.target=r.target||(n.gl.webgl2?a.a.COPY_READ_BUFFER:a.a.ARRAY_BUFFER),n.initialize(r),Object.seal(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n)),n}r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var i,l,A,T=n.prototype;return T.getElementCount=function(t){return void 0===t&&(t=this.accessor),Math.round(this.byteLength/o.a.getBytesPerElement(t))},T.getVertexCount=function(t){return void 0===t&&(t=this.accessor),Math.round(this.byteLength/o.a.getBytesPerVertex(t))},T.initialize=function(t){return void 0===t&&(t={}),ArrayBuffer.isView(t)&&(t={data:t}),Number.isFinite(t)&&(t={byteLength:t}),t=Object(E.a)("Buffer",t,h),this.usage=t.usage||a.a.STATIC_DRAW,this.debugData=null,this.setAccessor(Object.assign({},t,t.accessor)),t.data?this._setData(t.data):this._setByteLength(t.byteLength||0),this},T.setProps=function(t){return"accessor"in(t=Object(E.a)("Buffer",t,d))&&this.setAccessor(t.accessor),this},T.setAccessor=function(t){return delete(t=Object.assign({},t)).buffer,this.accessor=new o.a(t),this},T.reallocate=function(t){return t>this.byteLength?(this._setByteLength(t),!0):(this.bytesUsed=t,!1)},T.setData=function(t){return this.initialize(t)},T.subData=function(t){ArrayBuffer.isView(t)&&(t={data:t});var e=t,r=e.data,n=e.offset,i=void 0===n?0:n,o=e.srcOffset,u=void 0===o?0:o,E=t.byteLength||t.length;Object(_.a)(r);var c=this.gl.webgl2?a.a.COPY_WRITE_BUFFER:this.target;return this.gl.bindBuffer(c,this.handle),0!==u||void 0!==E?(Object(s.a)(this.gl),this.gl.bufferSubData(this.target,i,r,u,E)):this.gl.bufferSubData(c,i,r),this.gl.bindBuffer(c,null),this.debugData=null,this._inferType(r),this},T.copyData=function(t){var e=t.sourceBuffer,r=t.readOffset,n=void 0===r?0:r,i=t.writeOffset,o=void 0===i?0:i,u=t.size,E=this.gl;return Object(s.a)(E),E.bindBuffer(a.a.COPY_READ_BUFFER,e.handle),E.bindBuffer(a.a.COPY_WRITE_BUFFER,this.handle),E.copyBufferSubData(a.a.COPY_READ_BUFFER,a.a.COPY_WRITE_BUFFER,n,o,u),E.bindBuffer(a.a.COPY_READ_BUFFER,null),E.bindBuffer(a.a.COPY_WRITE_BUFFER,null),this.debugData=null,this},T.getData=function(t){var e=void 0===t?{}:t,r=e.dstData,n=void 0===r?null:r,i=e.srcByteOffset,o=void 0===i?0:i,E=e.dstOffset,c=void 0===E?0:E,f=e.length,l=void 0===f?0:f;Object(s.a)(this.gl);var h,d,A=Object(u.c)(this.accessor.type||a.a.FLOAT,{clamped:!1}),T=this._getAvailableElementCount(o),R=c;n?h=(d=n.length)-R:d=R+(h=Math.min(T,l||T));var g=Math.min(T,h);return l=l||g,Object(_.a)(l<=g),n=n||new A(d),this.gl.bindBuffer(a.a.COPY_READ_BUFFER,this.handle),this.gl.getBufferSubData(a.a.COPY_READ_BUFFER,o,n,c,l),this.gl.bindBuffer(a.a.COPY_READ_BUFFER,null),n},T.bind=function(t){var e=void 0===t?{}:t,r=e.target,n=void 0===r?this.target:r,i=e.index,o=void 0===i?this.accessor&&this.accessor.index:i,s=e.offset,u=void 0===s?0:s,E=e.size;return n===a.a.UNIFORM_BUFFER||n===a.a.TRANSFORM_FEEDBACK_BUFFER?void 0!==E?this.gl.bindBufferRange(n,o,this.handle,u,E):(Object(_.a)(0===u),this.gl.bindBufferBase(n,o,this.handle)):this.gl.bindBuffer(n,this.handle),this},T.unbind=function(t){var e=void 0===t?{}:t,r=e.target,n=void 0===r?this.target:r,i=e.index,o=void 0===i?this.accessor&&this.accessor.index:i;return n===a.a.UNIFORM_BUFFER||n===a.a.TRANSFORM_FEEDBACK_BUFFER?this.gl.bindBufferBase(n,o,null):this.gl.bindBuffer(n,null),this},T.getDebugData=function(){return this.debugData?{data:this.debugData,changed:!1}:(this.debugData=this.getData({length:10}),{data:this.debugData,changed:!0})},T.invalidateDebugData=function(){this.debugData=null},T._setData=function(t,e){void 0===e&&(e=this.usage),Object(_.a)(ArrayBuffer.isView(t)),this._trackDeallocatedMemory();var r=this._getTarget();this.gl.bindBuffer(r,this.handle),this.gl.bufferData(r,t,e),this.gl.bindBuffer(r,null),this.usage=e,this.debugData=t.slice(0,10),this.bytesUsed=t.byteLength,this._trackAllocatedMemory(t.byteLength);var n=Object(u.b)(t);return Object(_.a)(n),this.setAccessor(new o.a(this.accessor,{type:n})),this},T._setByteLength=function(t,e){void 0===e&&(e=this.usage),Object(_.a)(t>=0),this._trackDeallocatedMemory();var r=t;0===t&&(r=new Float32Array(0));var n=this._getTarget();return this.gl.bindBuffer(n,this.handle),this.gl.bufferData(n,r,e),this.gl.bindBuffer(n,null),this.usage=e,this.debugData=null,this.bytesUsed=t,this._trackAllocatedMemory(t),this},T._getTarget=function(){return this.gl.webgl2?a.a.COPY_WRITE_BUFFER:this.target},T._getAvailableElementCount=function(t){var e=t/Object(u.c)(this.accessor.type||a.a.FLOAT,{clamped:!1}).BYTES_PER_ELEMENT;return this.getElementCount()-e},T._inferType=function(t){this.accessor.type||this.setAccessor(new o.a(this.accessor,{type:Object(u.b)(t)}))},T._createHandle=function(){return this.gl.createBuffer()},T._deleteHandle=function(){this.gl.deleteBuffer(this.handle),this._trackDeallocatedMemory()},T._getParameter=function(t){this.gl.bindBuffer(this.target,this.handle);var e=this.gl.getBufferParameter(this.target,t);return this.gl.bindBuffer(this.target,null),e},T.setByteLength=function(t){return c.a.deprecated("setByteLength","reallocate")(),this.reallocate(t)},T.updateAccessor=function(t){return c.a.deprecated("updateAccessor(...)","setAccessor(new Accessor(buffer.accessor, ...)")(),this.accessor=new o.a(this.accessor,t),this},i=n,(l=[{key:"type",get:function(){return c.a.deprecated("Buffer.type","Buffer.accessor.type")(),this.accessor.type}},{key:"bytes",get:function(){return c.a.deprecated("Buffer.bytes","Buffer.byteLength")(),this.byteLength}}])&&f(i.prototype,l),A&&f(i,A),n}(i.a)},333:function(t,e,r){"use strict";r.d(e,"c",function(){return R}),r.d(e,"a",function(){return g}),r.d(e,"b",function(){return v});var n,a=r(386),i=5120,o=5121,s=5122,u=5123,E=0,_=1,c=2,f=3,l=4,h=5,d=6,A=5126,T=((n={})[A]=[A,1,"float"],n[35664]=[A,2,"vec2"],n[35665]=[A,3,"vec3"],n[35666]=[A,4,"vec4"],n[5124]=[5124,1,"int"],n[35667]=[5124,2,"ivec2"],n[35668]=[5124,3,"ivec3"],n[35669]=[5124,4,"ivec4"],n[5125]=[5125,1,"uint"],n[36294]=[5125,2,"uvec2"],n[36295]=[5125,3,"uvec3"],n[36296]=[5125,4,"uvec4"],n[35670]=[A,1,"bool"],n[35671]=[A,2,"bvec2"],n[35672]=[A,3,"bvec3"],n[35673]=[A,4,"bvec4"],n[35674]=[A,8,"mat2"],n[35685]=[A,8,"mat2x3"],n[35686]=[A,8,"mat2x4"],n[35675]=[A,12,"mat3"],n[35687]=[A,12,"mat3x2"],n[35688]=[A,12,"mat3x4"],n[35676]=[A,16,"mat4"],n[35689]=[A,16,"mat4x2"],n[35690]=[A,16,"mat4x3"],n);function R(t){switch(t){case E:return E;case _:case f:case c:return _;case l:case h:case d:return l;default:return Object(a.a)(!1),0}}function g(t){var e=T[t];return e?{type:e[0],components:e[1]}:null}function v(t,e){switch(t){case i:case o:case s:case u:t=A}for(var r in T){var n=T[r],a=n[0],E=n[1],_=n[2];if(a===t&&E===e)return{glType:r,name:_}}return null}},334:function(t,e,r){"use strict";r.d(e,"a",function(){return d});r(130),r(306),r(4),r(40),r(39),r(2);var n=r(308),a=r.n(n),i=r(323),o=r(324),s=r(367),u=r(428),E=r(433),_=r(393),c=r(434),f=r(351),l=r(386);var h=[a.a.LINEAR,a.a.NEAREST],d=function(t){var e,r;function n(e,r){var n,a=r.id,i=void 0===a?Object(c.c)("texture"):a,o=r.handle,s=r.target;return(n=t.call(this,e,{id:i,handle:o})||this).target=s,n.textureUnit=void 0,n.loaded=!1,n.width=void 0,n.height=void 0,n.depth=void 0,n.format=void 0,n.type=void 0,n.dataFormat=void 0,n.border=void 0,n.textureUnit=void 0,n.mipmaps=void 0,n}r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,n.isSupported=function(t,e){var r=void 0===e?{}:e,n=r.format,a=r.linearFiltering,i=!0;return n&&(i=(i=i&&Object(s.d)(t,n))&&(!a||Object(s.e)(t,n))),i};var i=n.prototype;return i.toString=function(){return"Texture("+this.id+","+this.width+"x"+this.height+")"},i.initialize=function(t){var e,r=this;void 0===t&&(t={});var n=t.data;if(n instanceof Promise)return n.then(function(e){return r.initialize(Object.assign({},t,{pixels:e,data:e}))}),this;var i=t,o=i.pixels,s=void 0===o?null:o,u=i.format,E=void 0===u?a.a.RGBA:u,_=i.border,c=void 0===_?0:_,l=i.recreate,h=void 0!==l&&l,d=i.parameters,A=void 0===d?{}:d,T=i.pixelStore,R=void 0===T?{}:T,g=i.textureUnit,v=void 0===g?void 0:g,N=i.unpackFlipY,m=void 0===N||N,p=t.mipmaps,F=void 0===p||p;n||(n=s);var b=t,O=b.width,I=b.height,S=b.dataFormat,L=b.type,C=t.depth,B=void 0===C?0:C,M=this._deduceParameters({format:E,type:L,dataFormat:S,compressed:!1,data:n,width:O,height:I});O=M.width,I=M.height,S=M.dataFormat,L=M.type,this.width=O,this.height=I,this.depth=B,this.format=E,this.type=L,this.dataFormat=S,this.border=c,this.textureUnit=v,Number.isFinite(this.textureUnit)&&(this.gl.activeTexture(a.a.TEXTURE0+this.textureUnit),this.gl.bindTexture(this.target,this.handle));var P=((e={})[a.a.UNPACK_FLIP_Y_WEBGL]=m,e),D=Object.assign({},P,R);return F&&this._isNPOT()&&(f.a.warn("texture: "+this+" is Non-Power-Of-Two, disabling mipmaping")(),F=!1,this._updateForNPOT(A)),this.mipmaps=F,this.setImageData({data:n,width:O,height:I,depth:B,format:E,type:L,dataFormat:S,border:c,mipmaps:F,parameters:D}),F&&this.generateMipmap(),this.setParameters(A),h&&(this.data=n),this},i.resize=function(t){var e=t.height,r=t.width,n=t.mipmaps,a=void 0!==n&&n;return r!==this.width||e!==this.height?this.initialize({width:r,height:e,format:this.format,type:this.type,dataFormat:this.dataFormat,border:this.border,mipmaps:a}):this},i.generateMipmap=function(t){var e=this;return void 0===t&&(t={}),this._isNPOT()?(f.a.warn("texture: "+this+" is Non-Power-Of-Two, disabling mipmaping")(),this):(this.mipmaps=!0,this.gl.bindTexture(this.target,this.handle),Object(u.a)(this.gl,t,function(){e.gl.generateMipmap(e.target)}),this.gl.bindTexture(this.target,null),this)},i.setImageData=function(t){this._trackDeallocatedMemory("Texture");var e=t.target,r=void 0===e?this.target:e,n=t.pixels,i=void 0===n?null:n,o=t.level,_=void 0===o?0:o,c=t.format,f=void 0===c?this.format:c,h=t.border,d=void 0===h?this.border:h,A=t.offset,T=void 0===A?0:A,R=t.parameters,g=void 0===R?{}:R,v=t.data,N=void 0===v?null:v,m=t.type,p=void 0===m?this.type:m,F=t.width,b=void 0===F?this.width:F,O=t.height,I=void 0===O?this.height:O,S=t.dataFormat,L=void 0===S?this.dataFormat:S,C=t.compressed,B=void 0!==C&&C;N||(N=i);var M=this._deduceParameters({format:f,type:p,dataFormat:L,compressed:B,data:N,width:b,height:I});p=M.type,L=M.dataFormat,B=M.compressed,b=M.width,I=M.height;var P=this.gl;P.bindTexture(this.target,this.handle);var D,y=this._getDataType({data:N,compressed:B});if(N=y.data,D=y.dataType,Object(u.a)(this.gl,g,function(){switch(D){case"null":P.texImage2D(r,_,f,b,I,d,L,p,N);break;case"typed-array":P.texImage2D(r,_,f,b,I,d,L,p,N,T);break;case"buffer":Object(E.a)(P),P.bindBuffer(a.a.PIXEL_UNPACK_BUFFER,N.handle||N),P.texImage2D(r,_,f,b,I,d,L,p,T),P.bindBuffer(a.a.PIXEL_UNPACK_BUFFER,null);break;case"browser-object":Object(E.d)(P)?P.texImage2D(r,_,f,b,I,d,L,p,N):P.texImage2D(r,_,f,L,p,N);break;case"compressed":P.compressedTexImage2D(r,_,f,b,I,d,N);break;default:Object(l.a)(!1,"Unknown image data type")}}),N&&N.byteLength)this._trackAllocatedMemory(N.byteLength,"Texture");else{var U=s.a[this.dataFormat]||4,G=s.c[this.type]||1;this._trackAllocatedMemory(this.width*this.height*U*G,"Texture")}return this.loaded=!0,this},i.setSubImageData=function(t){var e=this,r=t.target,n=void 0===r?this.target:r,i=t.pixels,s=void 0===i?null:i,c=t.data,f=void 0===c?null:c,h=t.x,d=void 0===h?0:h,A=t.y,T=void 0===A?0:A,R=t.width,g=void 0===R?this.width:R,v=t.height,N=void 0===v?this.height:v,m=t.level,p=void 0===m?0:m,F=t.format,b=void 0===F?this.format:F,O=t.type,I=void 0===O?this.type:O,S=t.dataFormat,L=void 0===S?this.dataFormat:S,C=t.compressed,B=void 0!==C&&C,M=t.offset,P=void 0===M?0:M,D=t.border,y=(void 0===D&&this.border,t.parameters),U=void 0===y?{}:y,G=this._deduceParameters({format:b,type:I,dataFormat:L,compressed:B,data:f,width:g,height:N});if(I=G.type,L=G.dataFormat,B=G.compressed,g=G.width,N=G.height,Object(l.a)(0===this.depth,"texSubImage not supported for 3D textures"),f||(f=s),f&&f.data){var w=f;f=w.data,g=w.shape[0],N=w.shape[1]}f instanceof o.a&&(f=f.handle),this.gl.bindTexture(this.target,this.handle),Object(u.a)(this.gl,U,function(){B?e.gl.compressedTexSubImage2D(n,p,d,T,g,N,b,f):null===f?e.gl.texSubImage2D(n,p,d,T,g,N,L,I,null):ArrayBuffer.isView(f)?e.gl.texSubImage2D(n,p,d,T,g,N,L,I,f,P):f instanceof _.b?(Object(E.a)(e.gl),e.gl.bindBuffer(a.a.PIXEL_UNPACK_BUFFER,f),e.gl.texSubImage2D(n,p,d,T,g,N,L,I,P),e.gl.bindBuffer(a.a.PIXEL_UNPACK_BUFFER,null)):Object(E.d)(e.gl)?e.gl.texSubImage2D(n,p,d,T,g,N,L,I,f):e.gl.texSubImage2D(n,p,d,T,L,I,f)}),this.gl.bindTexture(this.target,null)},i.copyFramebuffer=function(t){return void 0===t&&(t={}),f.a.error("Texture.copyFramebuffer({...}) is no logner supported, use copyToTexture(source, target, opts})")(),null},i.getActiveUnit=function(){return this.gl.getParameter(a.a.ACTIVE_TEXTURE)-a.a.TEXTURE0},i.bind=function(t){void 0===t&&(t=this.textureUnit);var e=this.gl;return void 0!==t&&(this.textureUnit=t,e.activeTexture(e.TEXTURE0+t)),e.bindTexture(this.target,this.handle),t},i.unbind=function(t){void 0===t&&(t=this.textureUnit);var e=this.gl;return void 0!==t&&(this.textureUnit=t,e.activeTexture(e.TEXTURE0+t)),e.bindTexture(this.target,null),t},i._getDataType=function(t){var e=t.data,r=t.compressed;return void 0!==r&&r?{data:e,dataType:"compressed"}:null===e?{data:e,dataType:"null"}:ArrayBuffer.isView(e)?{data:e,dataType:"typed-array"}:e instanceof o.a?{data:e.handle,dataType:"buffer"}:e instanceof _.b?{data:e,dataType:"buffer"}:{data:e,dataType:"browser-object"}},i._deduceParameters=function(t){var e=t.format,r=t.data,n=t.width,a=t.height,i=t.dataFormat,o=t.type,u=t.compressed,E=s.b[e];i=i||E&&E.dataFormat,o=o||E&&E.types[0],u=u||E&&E.compressed;var _=this._deduceImageSize(r,n,a);return{dataFormat:i,type:o,compressed:u,width:n=_.width,height:a=_.height,format:e,data:r}},i._deduceImageSize=function(t,e,r){var n;return n="undefined"!=typeof ImageData&&t instanceof ImageData?{width:t.width,height:t.height}:"undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement?{width:t.naturalWidth,height:t.naturalHeight}:"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement?{width:t.width,height:t.height}:"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap?{width:t.width,height:t.height}:"undefined"!=typeof HTMLVideoElement&&t instanceof HTMLVideoElement?{width:t.videoWidth,height:t.videoHeight}:t?{width:e,height:r}:{width:e>=0?e:1,height:r>=0?r:1},Object(l.a)(n,"Could not deduced texture size"),Object(l.a)(void 0===e||n.width===e,"Deduced texture width does not match supplied width"),Object(l.a)(void 0===r||n.height===r,"Deduced texture height does not match supplied height"),n},i._createHandle=function(){return this.gl.createTexture()},i._deleteHandle=function(){this.gl.deleteTexture(this.handle),this._trackDeallocatedMemory("Texture")},i._getParameter=function(t){switch(t){case a.a.TEXTURE_WIDTH:return this.width;case a.a.TEXTURE_HEIGHT:return this.height;default:this.gl.bindTexture(this.target,this.handle);var e=this.gl.getTexParameter(this.target,t);return this.gl.bindTexture(this.target,null),e}},i._setParameter=function(t,e){switch(this.gl.bindTexture(this.target,this.handle),e=this._getNPOTParam(t,e),t){case a.a.TEXTURE_MIN_LOD:case a.a.TEXTURE_MAX_LOD:this.gl.texParameterf(this.handle,t,e);break;case a.a.TEXTURE_WIDTH:case a.a.TEXTURE_HEIGHT:Object(l.a)(!1);break;default:this.gl.texParameteri(this.target,t,e)}return this.gl.bindTexture(this.target,null),this},i._isNPOT=function(){return!Object(E.d)(this.gl)&&(!(!this.width||!this.height)&&(!Object(c.b)(this.width)||!Object(c.b)(this.height)))},i._updateForNPOT=function(t){void 0===t[this.gl.TEXTURE_MIN_FILTER]&&(t[this.gl.TEXTURE_MIN_FILTER]=this.gl.LINEAR),void 0===t[this.gl.TEXTURE_WRAP_S]&&(t[this.gl.TEXTURE_WRAP_S]=this.gl.CLAMP_TO_EDGE),void 0===t[this.gl.TEXTURE_WRAP_T]&&(t[this.gl.TEXTURE_WRAP_T]=this.gl.CLAMP_TO_EDGE)},i._getNPOTParam=function(t,e){if(this._isNPOT())switch(t){case a.a.TEXTURE_MIN_FILTER:-1===h.indexOf(e)&&(e=a.a.LINEAR);break;case a.a.TEXTURE_WRAP_S:case a.a.TEXTURE_WRAP_T:e!==a.a.CLAMP_TO_EDGE&&(e=a.a.CLAMP_TO_EDGE)}return e},n}(i.a)},340:function(t,e,r){"use strict";(function(t){r(5),r(2),r(9),r(10),r(7),r(3);var e=r(364),n=r(401);function a(t,r){var a=r.extension,i=r.target,o=r.target2,s=n.b[a];Object(e.a)(s);for(var u=s.meta,E=(void 0===u?{}:u).suffix,_=void 0===E?"":E,c=t.getExtension(a),f=function(){var e=h[l],r=""+e+_,n=null;"meta"===e||"function"==typeof t[e]||(c&&"function"==typeof c[r]?n=function(){return c[r].apply(c,arguments)}:"function"==typeof s[e]&&(n=s[e].bind(i))),n&&(i[e]=n,o[e]=n)},l=0,h=Object.keys(s);l<h.length;l++)f()}(void 0!==t?t:window).polyfillContext=function(t){return t.luma=t.luma||{},function(t){t.luma.extensions={};for(var e=t.getSupportedExtensions()||[],r=Array.isArray(e),n=0,e=r?e:e[Symbol.iterator]();;){var a;if(r){if(n>=e.length)break;a=e[n++]}else{if((n=e.next()).done)break;a=n.value}var i=a;t.luma[i]=t.getExtension(i)}}(t),t.luma.polyfilled||(function(t,e){for(var r=Object.getOwnPropertyNames(e),n=Array.isArray(r),i=0,r=n?r:r[Symbol.iterator]();;){var o;if(n){if(i>=r.length)break;o=r[i++]}else{if((i=r.next()).done)break;o=i.value}var s=o;"overrides"!==s&&a(t,{extension:s,target:t.luma,target2:t})}}(t,n.b),function(t,e){var r=e.target,a=e.target2;Object.keys(n.a).forEach(function(e){if("function"==typeof n.a[e]){var i=t[e]?t[e].bind(t):function(){},o=n.a[e].bind(null,t,i);r[e]=o,a[e]=o}})}(t,{target:t.luma,target2:t}),t.luma.polyfilled=!0),t}}).call(this,r(99))},341:function(t,e,r){"use strict";(function(t){r.d(e,"b",function(){return a}),r.d(e,"a",function(){return i});var n={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==t&&t,document:"undefined"!=typeof document&&document},a=n.window||n.self||n.global,i=n.global||n.self||n.window}).call(this,r(99))},342:function(t,e,r){"use strict";r.d(e,"a",function(){return T});r(10),r(7),r(130),r(4),r(3),r(5),r(2),r(9),r(311);var n=r(308),a=r.n(n),i=r(323),o=r(368),s=r(369),u=r(394),E=r(400),_=r(440),c=r(433),f=r(435),l=r(386),h=r(351);function d(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function A(t,e,r){return e&&d(t.prototype,e),r&&d(t,r),t}var T=function(t){var e,r;function n(e,r){var n;return void 0===r&&(r={}),(n=t.call(this,e,r)||this).width=null,n.height=null,n.attachments={},n.readBuffer=a.a.COLOR_ATTACHMENT0,n.drawBuffers=[a.a.COLOR_ATTACHMENT0],n.initialize(r),Object.seal(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n)),n}r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,n.isSupported=function(t,e){var r=void 0===e?{}:e,n=r.colorBufferFloat,a=r.colorBufferHalfFloat;return n&&t.getExtension(Object(c.d)(t)?"EXT_color_buffer_float":"WEBGL.color_buffer_float"),a&&t.getExtension(Object(c.d)(t)?"EXT_color_buffer_float":"EXT_color_buffer_half_float")},n.getDefaultFramebuffer=function(t){return t.luma=t.luma||{},t.luma.defaultFramebuffer=t.luma.defaultFramebuffer||new n(t,{id:"default-framebuffer",handle:null,attachments:{}}),t.luma.defaultFramebuffer},A(n,[{key:"MAX_COLOR_ATTACHMENTS",get:function(){return this.gl.getParameter(this.gl.MAX_COLOR_ATTACHMENTS)}},{key:"MAX_DRAW_BUFFERS",get:function(){return this.gl.getParameter(this.gl.MAX_DRAW_BUFFERS)}}]);var i=n.prototype;return i.initialize=function(t){var e=t.width,r=void 0===e?1:e,n=t.height,a=void 0===n?1:n,i=t.attachments,o=void 0===i?null:i,s=t.color,u=void 0===s||s,E=t.depth,_=void 0===E||E,c=t.stencil,f=void 0!==c&&c,h=t.check,d=void 0===h||h,A=t.readBuffer,T=t.drawBuffers;if(Object(l.a)(r>=0&&a>=0,"Width and height need to be integers"),this.width=r,this.height=a,o)for(var R in o){var g=o[R];(Array.isArray(g)?g[0]:g).resize({width:r,height:a})}else o=this._createDefaultAttachments(u,_,f,r,a);this.update({clearAttachments:!0,attachments:o,readBuffer:A,drawBuffers:T}),o&&d&&this.checkStatus()},i.update=function(t){var e=t.attachments,r=void 0===e?{}:e,n=t.readBuffer,i=t.drawBuffers,o=t.clearAttachments,s=void 0!==o&&o,u=t.resizeAttachments,E=void 0===u||u;this.attach(r,{clearAttachments:s,resizeAttachments:E});var _=this.gl,c=_.bindFramebuffer(a.a.FRAMEBUFFER,this.handle);return n&&this._setReadBuffer(n),i&&this._setDrawBuffers(i),_.bindFramebuffer(a.a.FRAMEBUFFER,c||null),this},i.resize=function(t){var e=void 0===t?{}:t,r=e.width,n=e.height;if(null===this.handle)return Object(l.a)(void 0===r&&void 0===n),this.width=this.gl.drawingBufferWidth,this.height=this.gl.drawingBufferHeight,this;for(var a in void 0===r&&(r=this.gl.drawingBufferWidth),void 0===n&&(n=this.gl.drawingBufferHeight),r!==this.width&&n!==this.height&&h.a.log(2,"Resizing framebuffer "+this.id+" to "+r+"x"+n)(),this.attachments)this.attachments[a].resize({width:r,height:n});return this.width=r,this.height=n,this},i.attach=function(t,e){var r=this,n=void 0===e?{}:e,i=n.clearAttachments,o=void 0!==i&&i,u=n.resizeAttachments,E=void 0===u||u,_={};o&&Object.keys(this.attachments).forEach(function(t){_[t]=null}),Object.assign(_,t);var c=this.gl.bindFramebuffer(a.a.FRAMEBUFFER,this.handle);for(var f in _){Object(l.a)(void 0!==f,"Misspelled framebuffer binding point?");var h=Number(f),d=_[h],A=d;if(A)if(A instanceof s.a)this._attachRenderbuffer({attachment:h,renderbuffer:A});else if(Array.isArray(d)){var T=d[0],R=d[1],g=void 0===R?0:R,v=d[2],N=void 0===v?0:v;A=T,this._attachTexture({attachment:h,texture:T,layer:g,level:N})}else this._attachTexture({attachment:h,texture:A,layer:0,level:0});else this._unattach(h);E&&A&&A.resize({width:this.width,height:this.height})}this.gl.bindFramebuffer(a.a.FRAMEBUFFER,c||null),Object.assign(this.attachments,t),Object.keys(this.attachments).filter(function(t){return!r.attachments[t]}).forEach(function(t){delete r.attachments[t]})},i.checkStatus=function(){var t=this.gl,e=t.bindFramebuffer(a.a.FRAMEBUFFER,this.handle),r=t.checkFramebufferStatus(a.a.FRAMEBUFFER);if(t.bindFramebuffer(a.a.FRAMEBUFFER,e||null),r!==t.FRAMEBUFFER_COMPLETE)throw new Error(R(r));return this},i.clear=function(t){var e=void 0===t?{}:t,r=e.color,n=e.depth,i=e.stencil,o=e.drawBuffers,s=void 0===o?[]:o,E=this.gl.bindFramebuffer(a.a.FRAMEBUFFER,this.handle);return(r||n||i)&&Object(u.a)(this.gl,{color:r,depth:n,stencil:i}),s.forEach(function(t,e){Object(u.b)({drawBuffer:e,value:t})}),this.gl.bindFramebuffer(a.a.FRAMEBUFFER,E||null),this},i.readPixels=function(t){return void 0===t&&(t={}),h.a.error("Framebuffer.readPixels() is no logner supported, use readPixelsToArray(framebuffer)")(),null},i.readPixelsToBuffer=function(t){return void 0===t&&(t={}),h.a.error("Framebuffer.readPixelsToBuffer()is no logner supported, use readPixelsToBuffer(framebuffer)")(),null},i.copyToDataUrl=function(t){return void 0===t&&(t={}),h.a.error("Framebuffer.copyToDataUrl() is no logner supported, use copyToDataUrl(framebuffer)")(),null},i.copyToImage=function(t){return void 0===t&&(t={}),h.a.error("Framebuffer.copyToImage() is no logner supported, use copyToImage(framebuffer)")(),null},i.copyToTexture=function(t){return void 0===t&&(t={}),h.a.error("Framebuffer.copyToTexture({...}) is no logner supported, use copyToTexture(source, target, opts})")(),null},i.blit=function(t){return void 0===t&&(t={}),h.a.error("Framebuffer.blit({...}) is no logner supported, use blit(source, target, opts)")(),null},i.invalidate=function(t){var e=t.attachments,r=void 0===e?[]:e,n=t.x,i=void 0===n?0:n,o=t.y,s=void 0===o?0:o,u=t.width,E=t.height,_=this.gl;Object(c.a)(_);var f=_.bindFramebuffer(a.a.READ_FRAMEBUFFER,this.handle);return 0===i&&0===s&&void 0===u&&void 0===E?_.invalidateFramebuffer(a.a.READ_FRAMEBUFFER,r):_.invalidateFramebuffer(a.a.READ_FRAMEBUFFER,r,i,s,u,E),_.bindFramebuffer(a.a.READ_FRAMEBUFFER,f),this},i.getAttachmentParameter=function(t,e,r){var n=this._getAttachmentParameterFallback(e);return null===n&&(this.gl.bindFramebuffer(a.a.FRAMEBUFFER,this.handle),n=this.gl.getFramebufferAttachmentParameter(a.a.FRAMEBUFFER,t,e),this.gl.bindFramebuffer(a.a.FRAMEBUFFER,null)),r&&n>1e3&&(n=Object(f.a)(this.gl,n)),n},i.getAttachmentParameters=function(t,e,r){void 0===t&&(t=a.a.COLOR_ATTACHMENT0),void 0===r&&(r=this.constructor.ATTACHMENT_PARAMETERS||[]);var n={},i=r,o=Array.isArray(i),s=0;for(i=o?i:i[Symbol.iterator]();;){var u;if(o){if(s>=i.length)break;u=i[s++]}else{if((s=i.next()).done)break;u=s.value}var E=u;n[e?Object(f.a)(this.gl,E):E]=this.getAttachmentParameter(t,E,e)}return n},i.getParameters=function(t){void 0===t&&(t=!0);for(var e={},r=0,n=Object.keys(this.attachments);r<n.length;r++){var a=n[r],i=Number(a);e[t?Object(f.a)(this.gl,i):i]=this.getAttachmentParameters(i,t)}return e},i.show=function(){return"undefined"!=typeof window&&window.open(Object(E.a)(this),"luma-debug-texture"),this},i.log=function(t,e){if(void 0===t&&(t=0),void 0===e&&(e=""),t>h.a.priority||"undefined"==typeof window)return this;e=e||"Framebuffer "+this.id;var r=Object(E.a)(this,{maxHeight:100});return h.a.image({priority:t,message:e,image:r},e)(),this},i.bind=function(t){var e=(void 0===t?{}:t).target,r=void 0===e?a.a.FRAMEBUFFER:e;return this.gl.bindFramebuffer(r,this.handle),this},i.unbind=function(t){var e=(void 0===t?{}:t).target,r=void 0===e?a.a.FRAMEBUFFER:e;return this.gl.bindFramebuffer(r,null),this},i._createDefaultAttachments=function(t,e,r,n,i){var u,E=null;t&&((E=E||{})[a.a.COLOR_ATTACHMENT0]=new o.a(this.gl,{id:this.id+"-color0",pixels:null,format:a.a.RGBA,type:a.a.UNSIGNED_BYTE,width:n,height:i,mipmaps:!1,parameters:(u={},u[a.a.TEXTURE_MIN_FILTER]=a.a.LINEAR,u[a.a.TEXTURE_MAG_FILTER]=a.a.LINEAR,u[a.a.TEXTURE_WRAP_S]=a.a.CLAMP_TO_EDGE,u[a.a.TEXTURE_WRAP_T]=a.a.CLAMP_TO_EDGE,u)}));return e&&r?(E=E||{})[a.a.DEPTH_STENCIL_ATTACHMENT]=new s.a(this.gl,{id:this.id+"-depth-stencil",format:a.a.DEPTH24_STENCIL8,width:n,height:111}):e?(E=E||{})[a.a.DEPTH_ATTACHMENT]=new s.a(this.gl,{id:this.id+"-depth",format:a.a.DEPTH_COMPONENT16,width:n,height:i}):r&&Object(l.a)(!1),E},i._unattach=function(t){var e=this.attachments[t];e&&(e instanceof s.a?this.gl.framebufferRenderbuffer(a.a.FRAMEBUFFER,t,a.a.RENDERBUFFER,null):this.gl.framebufferTexture2D(a.a.FRAMEBUFFER,t,a.a.TEXTURE_2D,null,0),delete this.attachments[t])},i._attachRenderbuffer=function(t){var e=t.attachment,r=void 0===e?a.a.COLOR_ATTACHMENT0:e,n=t.renderbuffer;this.gl.framebufferRenderbuffer(a.a.FRAMEBUFFER,r,a.a.RENDERBUFFER,n.handle),this.attachments[r]=n},i._attachTexture=function(t){var e=t.attachment,r=void 0===e?a.a.COLOR_ATTACHMENT0:e,n=t.texture,i=t.layer,o=t.level,s=this.gl;switch(s.bindTexture(n.target,n.handle),n.target){case a.a.TEXTURE_2D_ARRAY:case a.a.TEXTURE_3D:s.framebufferTextureLayer(a.a.FRAMEBUFFER,r,n.target,o,i);break;case a.a.TEXTURE_CUBE_MAP:var u=function(t){return t<a.a.TEXTURE_CUBE_MAP_POSITIVE_X?t+a.a.TEXTURE_CUBE_MAP_POSITIVE_X:t}(i);s.framebufferTexture2D(a.a.FRAMEBUFFER,r,u,n.handle,o);break;case a.a.TEXTURE_2D:s.framebufferTexture2D(a.a.FRAMEBUFFER,r,a.a.TEXTURE_2D,n.handle,o);break;default:Object(l.a)(!1,"Illegal texture type")}s.bindTexture(n.target,null),this.attachments[r]=n},i._setReadBuffer=function(t){var e=this.gl;Object(c.d)(e)?e.readBuffer(t):Object(l.a)(t===a.a.COLOR_ATTACHMENT0||t===a.a.BACK,"Multiple render targets not supported"),this.readBuffer=t},i._setDrawBuffers=function(t){var e=this.gl;if(Object(c.d)(e))e.drawBuffers(t);else{var r=e.getExtension("WEBGL.draw_buffers");r?r.drawBuffersWEBGL(t):Object(l.a)(1===t.length&&(t[0]===a.a.COLOR_ATTACHMENT0||t[0]===a.a.BACK),"Multiple render targets not supported")}this.drawBuffers=t},i._getAttachmentParameterFallback=function(t){var e=Object(_.a)(this.gl);switch(t){case a.a.FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER:return e.webgl2?null:0;case a.a.FRAMEBUFFER_ATTACHMENT_RED_SIZE:case a.a.FRAMEBUFFER_ATTACHMENT_GREEN_SIZE:case a.a.FRAMEBUFFER_ATTACHMENT_BLUE_SIZE:case a.a.FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE:case a.a.FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE:case a.a.FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE:return e.webgl2?null:8;case a.a.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE:return e.webgl2?null:a.a.UNSIGNED_INT;case a.a.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING:return e.webgl2||e.EXT_sRGB?null:a.a.LINEAR;default:return null}},i._createHandle=function(){return this.gl.createFramebuffer()},i._deleteHandle=function(){this.gl.deleteFramebuffer(this.handle)},i._bindHandle=function(t){return this.gl.bindFramebuffer(a.a.FRAMEBUFFER,t)},A(n,[{key:"color",get:function(){return this.attachments[a.a.COLOR_ATTACHMENT0]||null}},{key:"texture",get:function(){return this.attachments[a.a.COLOR_ATTACHMENT0]||null}},{key:"depth",get:function(){return this.attachments[a.a.DEPTH_ATTACHMENT]||this.attachments[a.a.DEPTH_STENCIL_ATTACHMENT]||null}},{key:"stencil",get:function(){return this.attachments[a.a.STENCIL_ATTACHMENT]||this.attachments[a.a.DEPTH_STENCIL_ATTACHMENT]||null}}]),n}(i.a);function R(t){return(T.STATUS||{})[t]||"Framebuffer error "+t}var g=[a.a.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME,a.a.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE,a.a.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING,a.a.FRAMEBUFFER_ATTACHMENT_RED_SIZE,a.a.FRAMEBUFFER_ATTACHMENT_GREEN_SIZE,a.a.FRAMEBUFFER_ATTACHMENT_BLUE_SIZE,a.a.FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE,a.a.FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE,a.a.FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE];T.ATTACHMENT_PARAMETERS=g},351:function(t,e,r){"use strict";var n=r(456);e.a=new n.a({id:"luma"}).enable()},353:function(t,e,r){"use strict";r.d(e,"a",function(){return l});r(360),r(46),r(39),r(2),r(370);var n=r(308),a=r.n(n),i=r(388),o=r(386),s=r(432);function u(t,e,r){return(u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var a=new(Function.bind.apply(t,n));return r&&E(a,r.prototype),a}).apply(null,arguments)}function E(t,e){return(E=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var c={offset:0,stride:0,type:a.a.FLOAT,size:1,divisor:0,normalized:!1,integer:!1},f={deprecatedProps:{instanced:"divisor",isInstanced:"divisor"}},l=function(){function t(){for(var t=this,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];r.forEach(function(e){return t._assign(e)}),Object.freeze(this)}t.getBytesPerElement=function(t){return Object(i.c)(t.type||a.a.FLOAT).BYTES_PER_ELEMENT},t.getBytesPerVertex=function(t){return Object(o.a)(t.size),Object(i.c)(t.type||a.a.FLOAT).BYTES_PER_ELEMENT*t.size},t.resolve=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return u(t,[c].concat(r))};var e,r,n,E=t.prototype;return E.toString=function(){return JSON.stringify(this)},E._assign=function(t){return void 0===t&&(t={}),void 0!==(t=Object(s.a)("Accessor",t,f)).type&&(this.type=t.type,t.type!==a.a.INT&&t.type!==a.a.UNSIGNED_INT||(this.integer=!0)),void 0!==t.size&&(this.size=t.size),void 0!==t.offset&&(this.offset=t.offset),void 0!==t.stride&&(this.stride=t.stride),void 0!==t.normalized&&(this.normalized=t.normalized),void 0!==t.integer&&(this.integer=t.integer),void 0!==t.divisor&&(this.divisor=t.divisor),void 0!==t.buffer&&(this.buffer=t.buffer),void 0!==t.index&&("boolean"==typeof index?this.index=t.index?1:0:this.index=t.index),void 0!==t.instanced&&(this.divisor=t.instanced?1:0),void 0!==t.isInstanced&&(this.divisor=t.isInstanced?1:0),this},e=t,(r=[{key:"BYTES_PER_ELEMENT",get:function(){return t.getBytesPerElement(this)}},{key:"BYTES_PER_VERTEX",get:function(){return t.getBytesPerVertex(this)}}])&&_(e.prototype,r),n&&_(e,n),t}()},362:function(t,e,r){"use strict";r.d(e,"c",function(){return a}),r.d(e,"a",function(){return o}),r.d(e,"b",function(){return s});r(10),r(7),r(3),r(5),r(2),r(9),r(4),r(130);var n=r(363);r(383),r(430);function a(t,e){var r={};for(var a in e){var i=Number(a),o=n.d[a];o&&("string"==typeof o?r[o]=!0:o(t,e[a],i))}var s=t.state&&t.state.cache;if(s){var u=Object.assign({},s,e);for(var E in r){(0,n.a[E])(t,u)}}}function i(t,e){var r=n.c[e];return r?r(t,Number(e)):t.getParameter(Number(e))}function o(t,e){e=e||n.b;var r={},a=Array.isArray(e)?e:Object.keys(e),o=Array.isArray(a),s=0;for(a=o?a:a[Symbol.iterator]();;){var u;if(o){if(s>=a.length)break;u=a[s++]}else{if((s=a.next()).done)break;u=s.value}var E=u;r[E]=i(t,E)}return r}function s(t){a(t,Object.assign({},n.b,{}))}},363:function(t,e,r){"use strict";r.d(e,"b",function(){return _}),r.d(e,"d",function(){return h}),r.d(e,"a",function(){return d}),r.d(e,"c",function(){return T});r(317),r(307),r(73),r(134),r(39),r(2),r(10),r(7),r(3);var n,a,i,o=r(308),s=r.n(o),u=r(429);function E(t){return function(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var _=((n={})[s.a.BLEND]=!1,n[s.a.BLEND_COLOR]=new Float32Array([0,0,0,0]),n[s.a.BLEND_EQUATION_RGB]=s.a.FUNC_ADD,n[s.a.BLEND_EQUATION_ALPHA]=s.a.FUNC_ADD,n[s.a.BLEND_SRC_RGB]=s.a.ONE,n[s.a.BLEND_DST_RGB]=s.a.ZERO,n[s.a.BLEND_SRC_ALPHA]=s.a.ONE,n[s.a.BLEND_DST_ALPHA]=s.a.ZERO,n[s.a.COLOR_CLEAR_VALUE]=new Float32Array([0,0,0,0]),n[s.a.COLOR_WRITEMASK]=[!0,!0,!0,!0],n[s.a.CULL_FACE]=!1,n[s.a.CULL_FACE_MODE]=s.a.BACK,n[s.a.DEPTH_TEST]=!1,n[s.a.DEPTH_CLEAR_VALUE]=1,n[s.a.DEPTH_FUNC]=s.a.LESS,n[s.a.DEPTH_RANGE]=new Float32Array([0,1]),n[s.a.DEPTH_WRITEMASK]=!0,n[s.a.DITHER]=!0,n[s.a.FRAMEBUFFER_BINDING]=null,n[s.a.FRONT_FACE]=s.a.CCW,n[s.a.GENERATE_MIPMAP_HINT]=s.a.DONT_CARE,n[s.a.LINE_WIDTH]=1,n[s.a.POLYGON_OFFSET_FILL]=!1,n[s.a.POLYGON_OFFSET_FACTOR]=0,n[s.a.POLYGON_OFFSET_UNITS]=0,n[s.a.SAMPLE_COVERAGE_VALUE]=1,n[s.a.SAMPLE_COVERAGE_INVERT]=!1,n[s.a.SCISSOR_TEST]=!1,n[s.a.SCISSOR_BOX]=new Int32Array([0,0,1024,1024]),n[s.a.STENCIL_TEST]=!1,n[s.a.STENCIL_CLEAR_VALUE]=0,n[s.a.STENCIL_WRITEMASK]=4294967295,n[s.a.STENCIL_BACK_WRITEMASK]=4294967295,n[s.a.STENCIL_FUNC]=s.a.ALWAYS,n[s.a.STENCIL_REF]=0,n[s.a.STENCIL_VALUE_MASK]=4294967295,n[s.a.STENCIL_BACK_FUNC]=s.a.ALWAYS,n[s.a.STENCIL_BACK_REF]=0,n[s.a.STENCIL_BACK_VALUE_MASK]=4294967295,n[s.a.STENCIL_FAIL]=s.a.KEEP,n[s.a.STENCIL_PASS_DEPTH_FAIL]=s.a.KEEP,n[s.a.STENCIL_PASS_DEPTH_PASS]=s.a.KEEP,n[s.a.STENCIL_BACK_FAIL]=s.a.KEEP,n[s.a.STENCIL_BACK_PASS_DEPTH_FAIL]=s.a.KEEP,n[s.a.STENCIL_BACK_PASS_DEPTH_PASS]=s.a.KEEP,n[s.a.VIEWPORT]=new Int32Array([0,0,1024,1024]),n[s.a.PACK_ALIGNMENT]=4,n[s.a.UNPACK_ALIGNMENT]=4,n[s.a.UNPACK_FLIP_Y_WEBGL]=!1,n[s.a.UNPACK_PREMULTIPLY_ALPHA_WEBGL]=!1,n[s.a.UNPACK_COLORSPACE_CONVERSION_WEBGL]=s.a.BROWSER_DEFAULT_WEBGL,n[s.a.FRAGMENT_SHADER_DERIVATIVE_HINT]=s.a.DONT_CARE,n[s.a.READ_FRAMEBUFFER_BINDING]=null,n[s.a.RASTERIZER_DISCARD]=!1,n[s.a.PACK_ROW_LENGTH]=0,n[s.a.PACK_SKIP_PIXELS]=0,n[s.a.PACK_SKIP_ROWS]=0,n[s.a.UNPACK_ROW_LENGTH]=0,n[s.a.UNPACK_IMAGE_HEIGHT]=0,n[s.a.UNPACK_SKIP_PIXELS]=0,n[s.a.UNPACK_SKIP_ROWS]=0,n[s.a.UNPACK_SKIP_IMAGES]=0,n),c=function(t,e,r){return e?t.enable(r):t.disable(r)},f=function(t,e,r){return t.hint(r,e)},l=function(t,e,r){return t.pixelStorei(r,e)},h=((a={})[s.a.BLEND]=c,a[s.a.BLEND_COLOR]=function(t,e){return t.blendColor.apply(t,E(e))},a[s.a.BLEND_EQUATION_RGB]="blendEquation",a[s.a.BLEND_EQUATION_ALPHA]="blendEquation",a[s.a.BLEND_SRC_RGB]="blendFunc",a[s.a.BLEND_DST_RGB]="blendFunc",a[s.a.BLEND_SRC_ALPHA]="blendFunc",a[s.a.BLEND_DST_ALPHA]="blendFunc",a[s.a.COLOR_CLEAR_VALUE]=function(t,e){return t.clearColor.apply(t,E(e))},a[s.a.COLOR_WRITEMASK]=function(t,e){return t.colorMask.apply(t,E(e))},a[s.a.CULL_FACE]=c,a[s.a.CULL_FACE_MODE]=function(t,e){return t.cullFace(e)},a[s.a.DEPTH_TEST]=c,a[s.a.DEPTH_CLEAR_VALUE]=function(t,e){return t.clearDepth(e)},a[s.a.DEPTH_FUNC]=function(t,e){return t.depthFunc(e)},a[s.a.DEPTH_RANGE]=function(t,e){return t.depthRange.apply(t,E(e))},a[s.a.DEPTH_WRITEMASK]=function(t,e){return t.depthMask(e)},a[s.a.DITHER]=c,a[s.a.FRAGMENT_SHADER_DERIVATIVE_HINT]=f,a[s.a.FRAMEBUFFER_BINDING]=function(t,e){var r=Object(u.b)(t)?s.a.DRAW_FRAMEBUFFER:s.a.FRAMEBUFFER;return t.bindFramebuffer(r,e)},a[s.a.FRONT_FACE]=function(t,e){return t.frontFace(e)},a[s.a.GENERATE_MIPMAP_HINT]=f,a[s.a.LINE_WIDTH]=function(t,e){return t.lineWidth(e)},a[s.a.POLYGON_OFFSET_FILL]=c,a[s.a.POLYGON_OFFSET_FACTOR]="polygonOffset",a[s.a.POLYGON_OFFSET_UNITS]="polygonOffset",a[s.a.RASTERIZER_DISCARD]=c,a[s.a.SAMPLE_COVERAGE_VALUE]="sampleCoverage",a[s.a.SAMPLE_COVERAGE_INVERT]="sampleCoverage",a[s.a.SCISSOR_TEST]=c,a[s.a.SCISSOR_BOX]=function(t,e){return t.scissor.apply(t,E(e))},a[s.a.STENCIL_TEST]=c,a[s.a.STENCIL_CLEAR_VALUE]=function(t,e){return t.clearStencil(e)},a[s.a.STENCIL_WRITEMASK]=function(t,e){return t.stencilMaskSeparate(s.a.FRONT,e)},a[s.a.STENCIL_BACK_WRITEMASK]=function(t,e){return t.stencilMaskSeparate(s.a.BACK,e)},a[s.a.STENCIL_FUNC]="stencilFuncFront",a[s.a.STENCIL_REF]="stencilFuncFront",a[s.a.STENCIL_VALUE_MASK]="stencilFuncFront",a[s.a.STENCIL_BACK_FUNC]="stencilFuncBack",a[s.a.STENCIL_BACK_REF]="stencilFuncBack",a[s.a.STENCIL_BACK_VALUE_MASK]="stencilFuncBack",a[s.a.STENCIL_FAIL]="stencilOpFront",a[s.a.STENCIL_PASS_DEPTH_FAIL]="stencilOpFront",a[s.a.STENCIL_PASS_DEPTH_PASS]="stencilOpFront",a[s.a.STENCIL_BACK_FAIL]="stencilOpBack",a[s.a.STENCIL_BACK_PASS_DEPTH_FAIL]="stencilOpBack",a[s.a.STENCIL_BACK_PASS_DEPTH_PASS]="stencilOpBack",a[s.a.VIEWPORT]=function(t,e){return t.viewport.apply(t,E(e))},a[s.a.PACK_ALIGNMENT]=l,a[s.a.UNPACK_ALIGNMENT]=l,a[s.a.UNPACK_FLIP_Y_WEBGL]=l,a[s.a.UNPACK_PREMULTIPLY_ALPHA_WEBGL]=l,a[s.a.UNPACK_COLORSPACE_CONVERSION_WEBGL]=l,a[s.a.PACK_ROW_LENGTH]=l,a[s.a.PACK_SKIP_PIXELS]=l,a[s.a.PACK_SKIP_ROWS]=l,a[s.a.READ_FRAMEBUFFER_BINDING]=function(t,e){return t.bindFramebuffer(s.a.READ_FRAMEBUFFER,e)},a[s.a.UNPACK_ROW_LENGTH]=l,a[s.a.UNPACK_IMAGE_HEIGHT]=l,a[s.a.UNPACK_SKIP_PIXELS]=l,a[s.a.UNPACK_SKIP_ROWS]=l,a[s.a.UNPACK_SKIP_IMAGES]=l,a),d={blendEquation:function(t,e){return t.blendEquationSeparate(e[s.a.BLEND_EQUATION_RGB],e[s.a.BLEND_EQUATION_ALPHA])},blendFunc:function(t,e){return t.blendFuncSeparate(e[s.a.BLEND_SRC_RGB],e[s.a.BLEND_DST_RGB],e[s.a.BLEND_SRC_ALPHA],e[s.a.BLEND_DST_ALPHA])},polygonOffset:function(t,e){return t.polygonOffset(e[s.a.POLYGON_OFFSET_FACTOR],e[s.a.POLYGON_OFFSET_UNITS])},sampleCoverage:function(t,e){return t.sampleCoverage(e[s.a.SAMPLE_COVERAGE_VALUE],e[s.a.SAMPLE_COVERAGE_INVERT])},stencilFuncFront:function(t,e){return t.stencilFuncSeparate(s.a.FRONT,e[s.a.STENCIL_FUNC],e[s.a.STENCIL_REF],e[s.a.STENCIL_VALUE_MASK])},stencilFuncBack:function(t,e){return t.stencilFuncSeparate(s.a.BACK,e[s.a.STENCIL_BACK_FUNC],e[s.a.STENCIL_BACK_REF],e[s.a.STENCIL_BACK_VALUE_MASK])},stencilOpFront:function(t,e){return t.stencilOpSeparate(s.a.FRONT,e[s.a.STENCIL_FAIL],e[s.a.STENCIL_PASS_DEPTH_FAIL],e[s.a.STENCIL_PASS_DEPTH_PASS])},stencilOpBack:function(t,e){return t.stencilOpSeparate(s.a.BACK,e[s.a.STENCIL_BACK_FAIL],e[s.a.STENCIL_BACK_PASS_DEPTH_FAIL],e[s.a.STENCIL_BACK_PASS_DEPTH_PASS])}},A=function(t,e){return t.isEnabled(e)},T=((i={})[s.a.BLEND]=A,i[s.a.CULL_FACE]=A,i[s.a.DEPTH_TEST]=A,i[s.a.DITHER]=A,i[s.a.POLYGON_OFFSET_FILL]=A,i[s.a.SAMPLE_ALPHA_TO_COVERAGE]=A,i[s.a.SAMPLE_COVERAGE]=A,i[s.a.SCISSOR_TEST]=A,i[s.a.STENCIL_TEST]=A,i[s.a.RASTERIZER_DISCARD]=A,i)},364:function(t,e,r){"use strict";function n(t,e){if(!t)throw new Error(e||"webgl2-polyfill: assertion failed.")}r.d(e,"a",function(){return n})},365:function(t,e,r){"use strict";(function(t){var n=r(387),a=!("object"==typeof t&&"[object process]"===String(t)&&!t.browser)||n.a;e.a=a}).call(this,r(343))},367:function(t,e,r){"use strict";r.d(e,"b",function(){return E}),r.d(e,"a",function(){return _}),r.d(e,"c",function(){return c}),r.d(e,"d",function(){return f}),r.d(e,"e",function(){return l});var n,a,i,o=r(308),s=r.n(o),u=r(433),E=((n={})[s.a.RGB]={dataFormat:s.a.RGB,types:[s.a.UNSIGNED_BYTE,s.a.UNSIGNED_SHORT_5_6_5]},n[s.a.RGBA]={dataFormat:s.a.RGBA,types:[s.a.UNSIGNED_BYTE,s.a.UNSIGNED_SHORT_4_4_4_4,s.a.UNSIGNED_SHORT_5_5_5_1]},n[s.a.ALPHA]={dataFormat:s.a.ALPHA,types:[s.a.UNSIGNED_BYTE]},n[s.a.LUMINANCE]={dataFormat:s.a.LUMINANCE,types:[s.a.UNSIGNED_BYTE]},n[s.a.LUMINANCE_ALPHA]={dataFormat:s.a.LUMINANCE_ALPHA,types:[s.a.UNSIGNED_BYTE]},n[s.a.R32F]={dataFormat:s.a.RED,types:[s.a.FLOAT],gl2:!0},n[s.a.RG32F]={dataFormat:s.a.RG,types:[s.a.FLOAT],gl2:!0},n[s.a.RGB32F]={dataFormat:s.a.RGB,types:[s.a.FLOAT],gl2:!0},n[s.a.RGBA32F]={dataFormat:s.a.RGBA,types:[s.a.FLOAT],gl2:!0},n),_=((a={})[s.a.RED]=1,a[s.a.RED_INTEGER]=1,a[s.a.RG]=2,a[s.a.RG_INTEGER]=2,a[s.a.RGB]=3,a[s.a.RGB_INTEGER]=3,a[s.a.RGBA]=4,a[s.a.RGBA_INTEGER]=4,a[s.a.DEPTH_COMPONENT]=1,a[s.a.DEPTH_STENCIL]=1,a[s.a.ALPHA]=1,a[s.a.LUMINANCE]=1,a[s.a.LUMINANCE_ALPHA]=2,a),c=((i={})[s.a.FLOAT]=4,i[s.a.UNSIGNED_INT]=4,i[s.a.INT]=4,i[s.a.UNSIGNED_SHORT]=2,i[s.a.SHORT]=2,i[s.a.HALF_FLOAT]=2,i[s.a.BYTE]=1,i[s.a.UNSIGNED_BYTE]=1,i);function f(t,e){var r=E[e];if(!r)return!1;if(void 0===r.gl1&&void 0===r.gl2)return!0;var n=Object(u.d)(t)&&r.gl2||r.gl1;return"string"==typeof n?t.getExtension(n):n}function l(t,e){var r=E[e];switch(r&&r.types[0]){case s.a.FLOAT:return t.getExtension("OES_texture_float_linear");case s.a.HALF_FLOAT:return t.getExtension("OES_texture_half_float_linear");default:return!0}}},368:function(t,e,r){"use strict";r.d(e,"a",function(){return u});r(311),r(4),r(40),r(2);var n=r(308),a=r.n(n),i=r(334),o=r(433),s=r(385);var u=function(t){var e,r;function n(e,r){var n;return void 0===r&&(r={}),Object(o.b)(e),(r instanceof Promise||"string"==typeof r)&&(r={data:r}),"string"==typeof r.data&&(r=Object.assign({},r,{data:Object(s.b)(r.data)})),(n=t.call(this,e,Object.assign({},r,{target:a.a.TEXTURE_2D}))||this).initialize(r),Object.seal(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n)),n}return r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,n.isSupported=function(t,e){return i.a.isSupported(t,e)},n}(i.a)},369:function(t,e,r){"use strict";r(311);var n,a=r(308),i=r.n(a),o=r(323),s="EXT_color_buffer_float",u=((n={})[i.a.DEPTH_COMPONENT16]={bpp:2},n[i.a.DEPTH_COMPONENT24]={gl2:!0,bpp:3},n[i.a.DEPTH_COMPONENT32F]={gl2:!0,bpp:4},n[i.a.STENCIL_INDEX8]={bpp:1},n[i.a.DEPTH_STENCIL]={bpp:4},n[i.a.DEPTH24_STENCIL8]={gl2:!0,bpp:4},n[i.a.DEPTH32F_STENCIL8]={gl2:!0,bpp:5},n[i.a.RGBA4]={bpp:2},n[i.a.RGB565]={bpp:2},n[i.a.RGB5_A1]={bpp:2},n[i.a.R8]={gl2:!0,bpp:1},n[i.a.R8UI]={gl2:!0,bpp:1},n[i.a.R8I]={gl2:!0,bpp:1},n[i.a.R16UI]={gl2:!0,bpp:2},n[i.a.R16I]={gl2:!0,bpp:2},n[i.a.R32UI]={gl2:!0,bpp:4},n[i.a.R32I]={gl2:!0,bpp:4},n[i.a.RG8]={gl2:!0,bpp:2},n[i.a.RG8UI]={gl2:!0,bpp:2},n[i.a.RG8I]={gl2:!0,bpp:2},n[i.a.RG16UI]={gl2:!0,bpp:4},n[i.a.RG16I]={gl2:!0,bpp:4},n[i.a.RG32UI]={gl2:!0,bpp:8},n[i.a.RG32I]={gl2:!0,bpp:8},n[i.a.RGB8]={gl2:!0,bpp:3},n[i.a.RGBA8]={gl2:!0,bpp:4},n[i.a.RGB10_A2]={gl2:!0,bpp:4},n[i.a.RGBA8UI]={gl2:!0,bpp:4},n[i.a.RGBA8I]={gl2:!0,bpp:4},n[i.a.RGB10_A2UI]={gl2:!0,bpp:4},n[i.a.RGBA16UI]={gl2:!0,bpp:8},n[i.a.RGBA16I]={gl2:!0,bpp:8},n[i.a.RGBA32I]={gl2:!0,bpp:16},n[i.a.RGBA32UI]={gl2:!0,bpp:16},n[i.a.R16F]={gl2:s,bpp:2},n[i.a.RG16F]={gl2:s,bpp:4},n[i.a.RGBA16F]={gl2:s,bpp:8},n[i.a.R32F]={gl2:s,bpp:4},n[i.a.RG32F]={gl2:s,bpp:8},n[i.a.RGBA32F]={gl2:s,bpp:16},n[i.a.R11F_G11F_B10F]={gl2:s,bpp:4},n),E=r(433),_=r(386);r.d(e,"a",function(){return c});var c=function(t){var e,r;function n(e,r){var n;return void 0===r&&(r={}),(n=t.call(this,e,r)||this).initialize(r),Object.seal(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n)),n}r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,n.isSupported=function(t,e){var r=(void 0===e?{}:e).format;return!r||function(t,e,r){var n=r[e];if(!n)return!1;var a=Object(E.d)(t)&&n.gl2||n.gl1;return"string"==typeof a?t.getExtension(a):a}(t,r,u)},n.getSamplesForFormat=function(t,e){var r=e.format;return t.getInternalformatParameter(i.a.RENDERBUFFER,r,i.a.SAMPLES)};var a=n.prototype;return a.initialize=function(t){var e=t.format,r=t.width,n=void 0===r?1:r,a=t.height,o=void 0===a?1:a,s=t.samples,c=void 0===s?0:s;return Object(_.a)(e,"Needs format"),this._trackDeallocatedMemory(),this.gl.bindRenderbuffer(i.a.RENDERBUFFER,this.handle),0!==c&&Object(E.d)(this.gl)?this.gl.renderbufferStorageMultisample(i.a.RENDERBUFFER,c,e,n,o):this.gl.renderbufferStorage(i.a.RENDERBUFFER,e,n,o),this.format=e,this.width=n,this.height=o,this.samples=c,this._trackAllocatedMemory(this.width*this.height*(this.samples||1)*u[this.format].bpp),this},a.resize=function(t){var e=t.width,r=t.height;return e!==this.width||r!==this.height?this.initialize({width:e,height:r,format:this.format,samples:this.samples}):this},a._createHandle=function(){return this.gl.createRenderbuffer()},a._deleteHandle=function(){this.gl.deleteRenderbuffer(this.handle),this._trackDeallocatedMemory()},a._bindHandle=function(t){this.gl.bindRenderbuffer(i.a.RENDERBUFFER,t)},a._syncHandle=function(t){this.format=this.getParameter(i.a.RENDERBUFFER_INTERNAL_FORMAT),this.width=this.getParameter(i.a.RENDERBUFFER_WIDTH),this.height=this.getParameter(i.a.RENDERBUFFER_HEIGHT),this.samples=this.getParameter(i.a.RENDERBUFFER_SAMPLES)},a._getParameter=function(t){return this.gl.bindRenderbuffer(i.a.RENDERBUFFER,this.handle),this.gl.getRenderbufferParameter(i.a.RENDERBUFFER,t)},n}(o.a)},378:function(t,e,r){"use strict";r.d(e,"a",function(){return i});r(15);var n=r(0),a=r.n(n);var i=function(t){var e,r;function n(){return t.apply(this,arguments)||this}return r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,n.prototype.render=function(){var t=this.props,e=t.name,r=t.controls,n=t.sourceLink;return a.a.createElement("div",{className:"options-panel top-right",tabIndex:"0"},a.a.createElement("h3",null,e),a.a.createElement("div",{className:"control-panel",dangerouslySetInnerHTML:{__html:r}}),n&&a.a.createElement("div",{className:"source-link"},a.a.createElement("a",{href:n,target:"_new"},"View Code ↗")))},n}(n.PureComponent)},381:function(t,e,r){"use strict";(function(t){r.d(e,"a",function(){return c}),r.d(e,"c",function(){return f}),r.d(e,"b",function(){return l});r(311),r(4);var n=r(384),a=r(363),i=r(362),o=r(430),s=r(383);function u(t,e){var r=t[e].bind(t);t[e]=function(){var e=arguments.length<=0?void 0:arguments[0];return e in t.state.cache||(t.state.cache[e]=r.apply(void 0,arguments)),t.state.enable?t.state.cache[e]:r.apply(void 0,arguments)},Object.defineProperty(t[e],"name",{value:e+"-from-cache",configurable:!1})}function E(t,e,r){var n=t[e].bind(t);t[e]=function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];var s,u=r.apply(void 0,[t.state._updateCache].concat(i)),E=u.valueChanged,_=u.oldValue;E&&((s=t.state).log.apply(s,["gl."+e].concat(i)),n.apply(void 0,i));return _},Object.defineProperty(t[e],"name",{value:e+"-to-cache",configurable:!1})}var _=function(){function t(t,e){var r=void 0===e?{}:e,n=r.copyState,o=void 0!==n&&n,s=r.log,u=void 0===s?function(){}:s;this.gl=t,this.stateStack=[],this.enable=!0,this.cache=o?Object(i.a)(t):Object.assign({},a.b),this.log=u,this._updateCache=this._updateCache.bind(this),Object.seal(this)}var e=t.prototype;return e.push=function(t){void 0===t&&(t={}),this.stateStack.push({})},e.pop=function(){Object(o.a)(this.stateStack.length>0);var t=this.stateStack[this.stateStack.length-1];Object(i.c)(this.gl,t,this.cache),this.stateStack.pop()},e._updateCache=function(t){var e,r=!1,n=this.stateStack.length>0&&this.stateStack[this.stateStack.length-1];for(var a in t)Object(o.a)(void 0!==a),Object(s.a)(t[a],this.cache[a])||(r=!0,e=this.cache[a],!n||a in n||(n[a]=this.cache[a]),this.cache[a]=t[a]);return{valueChanged:r,oldValue:e}},t}();function c(e,r){var a=void 0===r?{}:r,i=a.enable,s=void 0===i||i,c=a.copyState;if(Object(o.a)(void 0!==c),!e.state){var f=void 0!==t?t:window;for(var l in f.polyfillContext&&f.polyfillContext(e),e.state=new _(e,{copyState:c,enable:s}),n.a){E(e,l,n.a[l])}u(e,"getParameter"),u(e,"isEnabled")}return e.state.enable=s,e}function f(t){t.state||c(t,{copyState:!1}),t.state.push()}function l(t){Object(o.a)(t.state),t.state.pop()}}).call(this,r(99))},383:function(t,e,r){"use strict";function n(t,e){if(t===e)return!0;var r=Array.isArray(t)||ArrayBuffer.isView(t),n=Array.isArray(e)||ArrayBuffer.isView(e);if(r&&n&&t.length===e.length){for(var a=0;a<t.length;++a)if(t[a]!==e[a])return!1;return!0}return!1}r.d(e,"a",function(){return n})},384:function(t,e,r){"use strict";r(317),r(307);var n=r(308),a=r.n(n);e.a={enable:function(t,e){var r;return t(((r={})[e]=!0,r))},disable:function(t,e){var r;return t(((r={})[e]=!1,r))},pixelStorei:function(t,e,r){var n;return t(((n={})[e]=r,n))},hint:function(t,e,r){var n;return t(((n={})[e]=r,n))},bindFramebuffer:function(t,e,r){var n,i,o;switch(e){case a.a.FRAMEBUFFER:return t(((n={})[a.a.DRAW_FRAMEBUFFER_BINDING]=r,n[a.a.READ_FRAMEBUFFER_BINDING]=r,n));case a.a.DRAW_FRAMEBUFFER:return t(((i={})[a.a.DRAW_FRAMEBUFFER_BINDING]=r,i));case a.a.READ_FRAMEBUFFER:return t(((o={})[a.a.READ_FRAMEBUFFER_BINDING]=r,o));default:return null}},blendColor:function(t,e,r,n,i){var o;return t(((o={})[a.a.BLEND_COLOR]=new Float32Array([e,r,n,i]),o))},blendEquation:function(t,e){var r;return t(((r={})[a.a.BLEND_EQUATION_RGB]=e,r[a.a.BLEND_EQUATION_ALPHA]=e,r))},blendEquationSeparate:function(t,e,r){var n;return t(((n={})[a.a.BLEND_EQUATION_RGB]=e,n[a.a.BLEND_EQUATION_ALPHA]=r,n))},blendFunc:function(t,e,r){var n;return t(((n={})[a.a.BLEND_SRC_RGB]=e,n[a.a.BLEND_DST_RGB]=r,n[a.a.BLEND_SRC_ALPHA]=e,n[a.a.BLEND_DST_ALPHA]=r,n))},blendFuncSeparate:function(t,e,r,n,i){var o;return t(((o={})[a.a.BLEND_SRC_RGB]=e,o[a.a.BLEND_DST_RGB]=r,o[a.a.BLEND_SRC_ALPHA]=n,o[a.a.BLEND_DST_ALPHA]=i,o))},clearColor:function(t,e,r,n,i){var o;return t(((o={})[a.a.COLOR_CLEAR_VALUE]=new Float32Array([e,r,n,i]),o))},clearDepth:function(t,e){var r;return t(((r={})[a.a.DEPTH_CLEAR_VALUE]=e,r))},clearStencil:function(t,e){var r;return t(((r={})[a.a.STENCIL_CLEAR_VALUE]=e,r))},colorMask:function(t,e,r,n,i){var o;return t(((o={})[a.a.COLOR_WRITEMASK]=[e,r,n,i],o))},cullFace:function(t,e){var r;return t(((r={})[a.a.CULL_FACE_MODE]=e,r))},depthFunc:function(t,e){var r;return t(((r={})[a.a.DEPTH_FUNC]=e,r))},depthRange:function(t,e,r){var n;return t(((n={})[a.a.DEPTH_RANGE]=new Float32Array([e,r]),n))},depthMask:function(t,e){var r;return t(((r={})[a.a.DEPTH_WRITEMASK]=e,r))},frontFace:function(t,e){var r;return t(((r={})[a.a.FRONT_FACE]=e,r))},lineWidth:function(t,e){var r;return t(((r={})[a.a.LINE_WIDTH]=e,r))},polygonOffset:function(t,e,r){var n;return t(((n={})[a.a.POLYGON_OFFSET_FACTOR]=e,n[a.a.POLYGON_OFFSET_UNITS]=r,n))},sampleCoverage:function(t,e,r){var n;return t(((n={})[a.a.SAMPLE_COVERAGE_VALUE]=e,n[a.a.SAMPLE_COVERAGE_INVERT]=r,n))},scissor:function(t,e,r,n,i){var o;return t(((o={})[a.a.SCISSOR_BOX]=new Int32Array([e,r,n,i]),o))},stencilMask:function(t,e){var r;return t(((r={})[a.a.STENCIL_WRITEMASK]=e,r[a.a.STENCIL_BACK_WRITEMASK]=e,r))},stencilMaskSeparate:function(t,e,r){var n;return t(((n={})[e===a.a.FRONT?a.a.STENCIL_WRITEMASK:a.a.STENCIL_BACK_WRITEMASK]=r,n))},stencilFunc:function(t,e,r,n){var i;return t(((i={})[a.a.STENCIL_FUNC]=e,i[a.a.STENCIL_REF]=r,i[a.a.STENCIL_VALUE_MASK]=n,i[a.a.STENCIL_BACK_FUNC]=e,i[a.a.STENCIL_BACK_REF]=r,i[a.a.STENCIL_BACK_VALUE_MASK]=n,i))},stencilFuncSeparate:function(t,e,r,n,i){var o;return t(((o={})[e===a.a.FRONT?a.a.STENCIL_FUNC:a.a.STENCIL_BACK_FUNC]=r,o[e===a.a.FRONT?a.a.STENCIL_REF:a.a.STENCIL_BACK_REF]=n,o[e===a.a.FRONT?a.a.STENCIL_VALUE_MASK:a.a.STENCIL_BACK_VALUE_MASK]=i,o))},stencilOp:function(t,e,r,n){var i;return t(((i={})[a.a.STENCIL_FAIL]=e,i[a.a.STENCIL_PASS_DEPTH_FAIL]=r,i[a.a.STENCIL_PASS_DEPTH_PASS]=n,i[a.a.STENCIL_BACK_FAIL]=e,i[a.a.STENCIL_BACK_PASS_DEPTH_FAIL]=r,i[a.a.STENCIL_BACK_PASS_DEPTH_PASS]=n,i))},stencilOpSeparate:function(t,e,r,n,i){var o;return t(((o={})[e===a.a.FRONT?a.a.STENCIL_FAIL:a.a.STENCIL_BACK_FAIL]=r,o[e===a.a.FRONT?a.a.STENCIL_PASS_DEPTH_FAIL:a.a.STENCIL_BACK_PASS_DEPTH_FAIL]=n,o[e===a.a.FRONT?a.a.STENCIL_PASS_DEPTH_PASS:a.a.STENCIL_BACK_PASS_DEPTH_PASS]=i,o))},viewport:function(t,e,r,n,i){var o;return t(((o={})[a.a.VIEWPORT]=new Int32Array([e,r,n,i]),o))}}},385:function(t,e,r){"use strict";r.d(e,"c",function(){return i}),r.d(e,"a",function(){return o}),r.d(e,"b",function(){return s});r(40),r(2);var n=r(386),a="";function i(t){a=t}function o(t,e){void 0===e&&(e={}),Object(n.a)("string"==typeof t),t=a+t;var r=e.dataType||"text";return fetch(t,e).then(function(t){return t[r]()})}function s(t,e){return Object(n.a)("string"==typeof t),t=a+t,new Promise(function(r,n){try{var a=new Image;a.onload=function(){return r(a)},a.onerror=function(){return n(new Error("Could not load image "+t+"."))},a.crossOrigin=e&&e.crossOrigin||"anonymous",a.src=t}catch(i){n(i)}})}},386:function(t,e,r){"use strict";function n(t,e){if(!t)throw new Error(e||"luma.gl: assertion failed.")}r.d(e,"a",function(){return n})},387:function(t,e,r){"use strict";(function(t){e.a="undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type||!(void 0===t||"object"!=typeof t.versions||!Boolean(t.versions.electron))||"object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0}).call(this,r(343))},388:function(t,e,r){"use strict";r.d(e,"b",function(){return o}),r.d(e,"c",function(){return s}),r.d(e,"a",function(){return u}),r.d(e,"d",function(){return E});r(347),r(317),r(371),r(372),r(346),r(335),r(319),r(312),r(307);var n=r(308),a=r.n(n),i="Failed to deduce GL constant from typed array";function o(t){switch(ArrayBuffer.isView(t)?t.constructor:t){case Float32Array:return a.a.FLOAT;case Uint16Array:return a.a.UNSIGNED_SHORT;case Uint32Array:return a.a.UNSIGNED_INT;case Uint8Array:case Uint8ClampedArray:return a.a.UNSIGNED_BYTE;case Int8Array:return a.a.BYTE;case Int16Array:return a.a.SHORT;case Int32Array:return a.a.INT;default:throw new Error(i)}}function s(t,e){var r=(void 0===e?{}:e).clamped,n=void 0===r||r;switch(t){case a.a.FLOAT:return Float32Array;case a.a.UNSIGNED_SHORT:case a.a.UNSIGNED_SHORT_5_6_5:case a.a.UNSIGNED_SHORT_4_4_4_4:case a.a.UNSIGNED_SHORT_5_5_5_1:return Uint16Array;case a.a.UNSIGNED_INT:return Uint32Array;case a.a.UNSIGNED_BYTE:return n?Uint8ClampedArray:Uint8Array;case a.a.BYTE:return Int8Array;case a.a.SHORT:return Int16Array;case a.a.INT:return Int32Array;default:throw new Error("Failed to deduce typed array type from GL constant")}}function u(t){var e=t.data,r=t.width,n=t.height,a=t.bytesPerPixel,i=void 0===a?4:a,o=t.temp,s=r*i;o=o||new Uint8Array(s);for(var u=0;u<n/2;++u){var E=u*s,_=(n-u-1)*s;o.set(e.subarray(E,E+s)),e.copyWithin(E,_,_+s),e.set(o,_)}}function E(t){for(var e=t.data,r=t.width,n=t.height,a=Math.round(r/2),i=Math.round(n/2),o=new Uint8Array(a*i*4),s=0;s<i;s++)for(var u=0;u<a;u++)for(var E=0;E<4;E++)o[4*(s*a+u)+E]=e[4*(2*s*r+2*u)+E];return{data:o,width:a,height:i}}},392:function(t,e,r){"use strict";r.d(e,"a",function(){return i});var n,a=r(433),i={WEBGL2:"WEBGL2",VERTEX_ARRAY_OBJECT:"VERTEX_ARRAY_OBJECT",TIMER_QUERY:"TIMER_QUERY",INSTANCED_RENDERING:"INSTANCED_RENDERING",MULTIPLE_RENDER_TARGETS:"MULTIPLE_RENDER_TARGETS",ELEMENT_INDEX_UINT32:"ELEMENT_INDEX_UINT32",BLEND_EQUATION_MINMAX:"BLEND_EQUATION_MINMAX",COLOR_ENCODING_SRGB:"COLOR_ENCODING_SRGB",TEXTURE_DEPTH:"TEXTURE_DEPTH",TEXTURE_FLOAT:"TEXTURE_FLOAT",TEXTURE_HALF_FLOAT:"TEXTURE_HALF_FLOAT",TEXTURE_FILTER_LINEAR_FLOAT:"TEXTURE_FILTER_LINEAR_FLOAT",TEXTURE_FILTER_LINEAR_HALF_FLOAT:"TEXTURE_FILTER_LINEAR_HALF_FLOAT",TEXTURE_FILTER_ANISOTROPIC:"TEXTURE_FILTER_ANISOTROPIC",COLOR_ATTACHMENT_RGBA32F:"COLOR_ATTACHMENT_RGBA32F",COLOR_ATTACHMENT_FLOAT:"COLOR_ATTACHMENT_FLOAT",COLOR_ATTACHMENT_HALF_FLOAT:"COLOR_ATTACHMENT_HALF_FLOAT",GLSL_FRAG_DATA:"GLSL_FRAG_DATA",GLSL_FRAG_DEPTH:"GLSL_FRAG_DEPTH",GLSL_DERIVATIVES:"GLSL_DERIVATIVES",GLSL_TEXTURE_LOD:"GLSL_TEXTURE_LOD"};e.b=((n={})[i.WEBGL2]=[function(t){return Object(a.d)(t)}],n[i.VERTEX_ARRAY_OBJECT]=["OES_vertex_array_object",!0],n[i.TIMER_QUERY]=["EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2"],n[i.INSTANCED_RENDERING]=["ANGLE_instanced_arrays",!0],n[i.MULTIPLE_RENDER_TARGETS]=["WEBGL_draw_buffers",!0],n[i.ELEMENT_INDEX_UINT32]=["OES_element_index_uint",!0],n[i.BLEND_EQUATION_MINMAX]=["EXT_blend_minmax",!0],n[i.COLOR_ENCODING_SRGB]=["EXT_sRGB",!0],n[i.TEXTURE_DEPTH]=["WEBGL_depth_texture",!0],n[i.TEXTURE_FLOAT]=["OES_texture_float",!0],n[i.TEXTURE_HALF_FLOAT]=["OES_texture_half_float",!0],n[i.TEXTURE_FILTER_LINEAR_FLOAT]=["OES_texture_float_linear"],n[i.TEXTURE_FILTER_LINEAR_HALF_FLOAT]=["OES_texture_half_float_linear"],n[i.TEXTURE_FILTER_ANISOTROPIC]=["EXT_texture_filter_anisotropic"],n[i.COLOR_ATTACHMENT_RGBA32F]=["WEBGL_color_buffer_float","EXT_color_buffer_float"],n[i.COLOR_ATTACHMENT_FLOAT]=[!1,"EXT_color_buffer_float"],n[i.COLOR_ATTACHMENT_HALF_FLOAT]=[!1,"EXT_color_buffer_half_float"],n[i.GLSL_FRAG_DATA]=["WEBGL_draw_buffers",!0],n[i.GLSL_FRAG_DEPTH]=["EXT_frag_depth",!0],n[i.GLSL_DERIVATIVES]=["OES_standard_derivatives",!0],n[i.GLSL_TEXTURE_LOD]=["EXT_shader_texture_lod",!0],n)},393:function(t,e,r){"use strict";(function(t){r.d(e,"c",function(){return u}),r.d(e,"b",function(){return f}),r.d(e,"a",function(){return l});var n=r(341),a=r(365),i="luma.gl: loaded under Node.js without headless gl installed, meaning that WebGL contexts can not be created. This may not be an error. For example, this is a typical configuration for isorender applications running on the server.",o=t,s=null;function u(){var t=o.require("gl");if(!t)throw new Error(i);return t.apply(void 0,arguments)}if(!a.a)try{s=o.require("gl/wrap")}catch(h){}var E=function(){},_=s||n.a,c=(_.WebGLRenderingContext,_.WebGLProgram,_.WebGLShader,_.WebGLBuffer),f=void 0===c?E:c;_.WebGLFramebuffer,_.WebGLRenderbuffer,_.WebGLTexture,_.WebGLUniformLocation,_.WebGLActiveInfo,_.WebGLShaderPrecisionFormat;var l=n.a.WebGL2RenderingContext||function(){};n.a.Image}).call(this,r(411)(t))},394:function(t,e,r){"use strict";r.d(e,"a",function(){return h}),r.d(e,"b",function(){return d});r(307),r(319),r(317);var n=r(428),a=r(433),i=r(386),o=256,s=1024,u=16384,E=6144,_=6145,c=6146,f=34041,l="clear: bad arguments";function h(t,e){var r=void 0===e?{}:e,a=r.framebuffer,E=void 0===a?null:a,_=r.color,c=void 0===_?null:_,f=r.depth,h=void 0===f?null:f,d=r.stencil,A=void 0===d?null:d,T={};E&&(T.framebuffer=E);var R=0;c&&(R|=u,!0!==c&&(T.clearColor=c)),h&&(R|=o,!0!==h&&(T.clearDepth=h)),A&&(R|=s,!0!==h&&(T.clearStencil=h)),Object(i.a)(0!==R,l),Object(n.a)(t,T,function(){t.clear(R)})}function d(t,e){var r=void 0===e?{}:e,o=r.framebuffer,s=void 0===o?null:o,u=r.buffer,h=void 0===u?E:u,d=r.drawBuffer,A=void 0===d?0:d,T=r.value,R=void 0===T?[0,0,0,0]:T;Object(a.a)(t),Object(n.a)(t,{framebuffer:s},function(){switch(h){case E:switch(R.constructor){case Int32Array:t.clearBufferiv(h,A,R);break;case Uint32Array:t.clearBufferuiv(h,A,R);break;case Float32Array:default:t.clearBufferfv(h,A,R)}break;case _:t.clearBufferfv(_,0,[R]);break;case c:t.clearBufferiv(c,0,[R]);break;case f:var e=R[0],r=R[1];t.clearBufferfi(f,0,e,r);break;default:Object(i.a)(!1,l)}})}},395:function(t,e,r){"use strict";r.d(e,"a",function(){return _}),r.d(e,"b",function(){return c});r(4);var n=r(368),a=r(396),i=r(397),o=r(342),s=r(308),u=r.n(s),E=r(386);function _(t,e){Object(E.a)(t instanceof n.a||t instanceof a.a||t instanceof i.a);var r=t.constructor,o=t.gl,s=t.width,u=t.height,_=t.format,c=t.type,f=t.dataFormat,l=t.border,h=t.mipmaps;return new r(o,Object.assign({width:s,height:u,format:_,type:c,dataFormat:f,border:l,mipmaps:h},e))}function c(t,e){var r,n=t.gl,a=t.width,i=t.height,s=t.id;return new o.a(n,Object.assign({},e,{id:"framebuffer-for-"+s,width:a,height:i,attachments:(r={},r[u.a.COLOR_ATTACHMENT0]=t,r)}))}},396:function(t,e,r){"use strict";r.d(e,"a",function(){return f});r(3),r(5),r(73),r(311),r(4),r(40),r(2);var n=r(356),a=r.n(n),i=(r(357),r(308)),o=r.n(i),s=r(334),u=r(433),E=r(351);function _(t,e,r,n,a,i,o){try{var s=t[i](o),u=s.value}catch(E){return void r(E)}s.done?e(u):Promise.resolve(u).then(n,a)}var c=[o.a.TEXTURE_CUBE_MAP_POSITIVE_X,o.a.TEXTURE_CUBE_MAP_NEGATIVE_X,o.a.TEXTURE_CUBE_MAP_POSITIVE_Y,o.a.TEXTURE_CUBE_MAP_NEGATIVE_Y,o.a.TEXTURE_CUBE_MAP_POSITIVE_Z,o.a.TEXTURE_CUBE_MAP_NEGATIVE_Z],f=function(t){var e,r;function n(e,r){var n;return void 0===r&&(r={}),Object(u.b)(e),(n=t.call(this,e,Object.assign({},r,{target:o.a.TEXTURE_CUBE_MAP}))||this).initialize(r),Object.seal(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n)),n}r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var i=n.prototype;return i.initialize=function(t){var e=this;void 0===t&&(t={});var r=t,n=r.mipmaps,a=void 0===n||n,i=r.parameters,o=void 0===i?{}:i;this.opts=t,this.setCubeMapImageData(t).then(function(){e.loaded=!0,a&&e.generateMipmap(t),e.setParameters(o)})},i.subImage=function(t){var e=t.face,r=t.data,n=t.x,a=void 0===n?0:n,i=t.y,o=void 0===i?0:i,s=t.mipmapLevel,u=void 0===s?0:s;return this._subImage({target:e,data:r,x:a,y:o,mipmapLevel:u})},i.setCubeMapImageData=function(){var t,e=(t=a.a.mark(function t(e){var r,n,i,s,u,_,f,l,h,d,A,T,R,g=this;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.width,n=e.height,i=e.pixels,s=e.data,u=e.border,_=void 0===u?0:u,f=e.format,l=void 0===f?o.a.RGBA:f,h=e.type,d=void 0===h?o.a.UNSIGNED_BYTE:h,A=this.gl,T=i||s,t.next=5,Promise.all(c.map(function(t){var e=T[t];return Promise.all(Array.isArray(e)?e:[e])}));case 5:R=t.sent,this.bind(),c.forEach(function(t,e){R[e].length>1&&!1!==g.opts.mipmaps&&E.a.warn(g.id+" has mipmap and multiple LODs.")(),R[e].forEach(function(e,a){r&&n?A.texImage2D(t,a,l,r,n,_,l,d,e):A.texImage2D(t,a,l,l,d,e)})}),this.unbind();case 9:case"end":return t.stop()}},t,this)}),function(){var e=this,r=arguments;return new Promise(function(n,a){var i=t.apply(e,r);function o(t){_(i,n,a,o,s,"next",t)}function s(t){_(i,n,a,o,s,"throw",t)}o(void 0)})});return function(t){return e.apply(this,arguments)}}(),i.setImageDataForFace=function(t){var e=this,r=t.face,n=t.width,a=t.height,i=t.pixels,s=t.data,u=t.border,E=void 0===u?0:u,_=t.format,c=void 0===_?o.a.RGBA:_,f=t.type,l=void 0===f?o.a.UNSIGNED_BYTE:f,h=this.gl,d=i||s;return this.bind(),d instanceof Promise?d.then(function(n){return e.setImageDataForFace(Object.assign({},t,{face:r,data:n,pixels:n}))}):this.width||this.height?h.texImage2D(r,0,c,n,a,E,c,l,d):h.texImage2D(r,0,c,c,l,d),this},n}(s.a);f.FACES=c},397:function(t,e,r){"use strict";r.d(e,"a",function(){return _});r(311),r(4);var n=r(308),a=r.n(n),i=r(428),o=r(433),s=r(334),u=r(367),E=r(324);var _=function(t){var e,r;function n(e,r){var n;return void 0===r&&(r={}),Object(o.a)(e),r=Object.assign({depth:1},r,{target:a.a.TEXTURE_3D,unpackFlipY:!1}),(n=t.call(this,e,r)||this).initialize(r),Object.seal(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n)),n}return r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,n.isSupported=function(t){return Object(o.d)(t)},n.prototype.setImageData=function(t){var e=this,r=t.level,n=void 0===r?0:r,o=t.dataFormat,s=void 0===o?a.a.RGBA:o,_=t.width,c=t.height,f=t.depth,l=void 0===f?1:f,h=t.border,d=void 0===h?0:h,A=t.format,T=t.type,R=void 0===T?a.a.UNSIGNED_BYTE:T,g=t.offset,v=void 0===g?0:g,N=t.data,m=t.parameters,p=void 0===m?{}:m;if(this._trackDeallocatedMemory("Texture"),this.gl.bindTexture(this.target,this.handle),Object(i.a)(this.gl,p,function(){ArrayBuffer.isView(N)&&e.gl.texImage3D(e.target,n,s,_,c,l,d,A,R,N),N instanceof E.a&&(e.gl.bindBuffer(a.a.PIXEL_UNPACK_BUFFER,N.handle),e.gl.texImage3D(e.target,n,s,_,c,l,d,A,R,v))}),N&&N.byteLength)this._trackAllocatedMemory(N.byteLength,"Texture");else{var F=u.a[this.dataFormat]||4,b=u.c[this.type]||1;this._trackAllocatedMemory(this.width*this.height*this.depth*F*b,"Texture")}return this.loaded=!0,this},n}(s.a)},398:function(t,e,r){"use strict";var n=r(362),a=(r(73),r(134),r(39),r(2),r(10),r(7),r(3),r(308)),i=r.n(a);function o(t){return function(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(t){return Array.isArray(t)||ArrayBuffer.isView(t)}var u={framebuffer:function(t,e){var r=e&&"handle"in e?e.handle:e;return t.bindFramebuffer(i.a.FRAMEBUFFER,r)},blend:function(t,e){return e?t.enable(i.a.BLEND):t.disable(i.a.BLEND)},blendColor:function(t,e){return t.blendColor.apply(t,o(e))},blendEquation:function(t,e){e=s(e)?e:[e,e],t.blendEquationSeparate.apply(t,o(e))},blendFunc:function(t,e){e=s(e)&&2===e.length?[].concat(o(e),o(e)):e,t.blendFuncSeparate.apply(t,o(e))},clearColor:function(t,e){return t.clearColor.apply(t,o(e))},clearDepth:function(t,e){return t.clearDepth(e)},clearStencil:function(t,e){return t.clearStencil(e)},colorMask:function(t,e){return t.colorMask.apply(t,o(e))},cull:function(t,e){return e?t.enable(i.a.CULL_FACE):t.disable(i.a.CULL_FACE)},cullFace:function(t,e){return t.cullFace(e)},depthTest:function(t,e){return e?t.enable(i.a.DEPTH_TEST):t.disable(i.a.DEPTH_TEST)},depthFunc:function(t,e){return t.depthFunc(e)},depthMask:function(t,e){return t.depthMask(e)},depthRange:function(t,e){return t.depthRange.apply(t,o(e))},dither:function(t,e){return e?t.enable(i.a.DITHER):t.disable(i.a.DITHER)},derivativeHint:function(t,e){t.hint(i.a.FRAGMENT_SHADER_DERIVATIVE_HINT,e)},frontFace:function(t,e){return t.frontFace(e)},mipmapHint:function(t,e){return t.hint(i.a.GENERATE_MIPMAP_HINT,e)},lineWidth:function(t,e){return t.lineWidth(e)},polygonOffsetFill:function(t,e){return e?t.enable(i.a.POLYGON_OFFSET_FILL):t.disable(i.a.POLYGON_OFFSET_FILL)},polygonOffset:function(t,e){return t.polygonOffset.apply(t,o(e))},sampleCoverage:function(t,e){return t.sampleCoverage.apply(t,o(e))},scissorTest:function(t,e){return e?t.enable(i.a.SCISSOR_TEST):t.disable(i.a.SCISSOR_TEST)},scissor:function(t,e){return t.scissor.apply(t,o(e))},stencilTest:function(t,e){return e?t.enable(i.a.STENCIL_TEST):t.disable(i.a.STENCIL_TEST)},stencilMask:function(t,e){var r=e=s(e)?e:[e,e],n=r[0],a=r[1];t.stencilMaskSeparate(i.a.FRONT,n),t.stencilMaskSeparate(i.a.BACK,a)},stencilFunc:function(t,e){var r=e=s(e)&&3===e.length?[].concat(o(e),o(e)):e,n=r[0],a=r[1],u=r[2],E=r[3],_=r[4],c=r[5];t.stencilFuncSeparate(i.a.FRONT,n,a,u),t.stencilFuncSeparate(i.a.BACK,E,_,c)},stencilOp:function(t,e){var r=e=s(e)&&3===e.length?[].concat(o(e),o(e)):e,n=r[0],a=r[1],u=r[2],E=r[3],_=r[4],c=r[5];t.stencilOpSeparate(i.a.FRONT,n,a,u),t.stencilOpSeparate(i.a.BACK,E,_,c)},viewport:function(t,e){return t.viewport.apply(t,o(e))}};function E(t,e){for(var r in Object(n.c)(t,e),e){var a=u[r];a&&a(t,e[r],r)}}r.d(e,"a",function(){return E})},399:function(t,e,r){"use strict";r(3),r(5),r(2),r(73),r(96);var n=r(365),a=r(341),i=r(351),o=r(458);r(340);r.d(e,"a",function(){return u});var s="undefined"!=typeof __VERSION__?__VERSION__:"untranspiled source",u=new(function(){function t(){this.stats=new Map}return t.prototype.get=function(t){return this.stats.has(t)||this.stats.set(t,new o.a({id:t})),this.stats.get(t)},t}());if(a.a.luma&&a.a.luma.VERSION!==s)throw new Error("luma.gl - multiple VERSIONs detected: "+a.a.luma.VERSION+" vs "+s);a.a.luma||(n.a&&i.a.log(1,"luma.gl "+s+" - set luma.log.priority=1 (or higher) to trace rendering")(),a.a.luma=a.a.luma||{VERSION:s,version:s,log:i.a,stats:u,globals:{modules:{},nodeIO:{}}});a.a.luma},400:function(t,e,r){"use strict";r(306),r(130),r(375);var n=r(308),a=r.n(n),i=(r(324),r(342)),o=(r(334),r(428),r(433),r(388)),s=r(386);function u(t){switch(t){case a.a.ALPHA:case a.a.R32F:case a.a.RED:return 1;case a.a.RG32F:case a.a.RG:return 2;case a.a.RGB:case a.a.RGB32F:return 3;case a.a.RGBA:case a.a.RGBA32F:return 4;default:return Object(s.a)(!1),0}}var E=r(395);r(351);function _(t,e){var r=void 0===e?{}:e,n=r.sourceX,i=void 0===n?0:n,E=r.sourceY,_=void 0===E?0:E,c=r.sourceFormat,l=void 0===c?a.a.RGBA:c,h=r.sourceAttachment,d=void 0===h?a.a.COLOR_ATTACHMENT0:h,A=r.target,T=void 0===A?null:A,R=r.sourceWidth,g=r.sourceHeight,v=r.sourceType,N=f(t),m=N.framebuffer,p=N.deleteFramebuffer;Object(s.a)(m);var F=m.gl,b=m.handle,O=m.attachments;R=R||m.width,g=g||m.height,d===a.a.COLOR_ATTACHMENT0&&null===b&&(d=a.a.FRONT),Object(s.a)(O[d]),T=function(t,e,r,n,i){if(t)return t;e=e||a.a.UNSIGNED_BYTE;var s=Object(o.c)(e,{clamped:!1}),E=u(r);return new s(n*i*E)}(T,v=v||O[d].type,l,R,g),v=v||Object(o.b)(T);var I=F.bindFramebuffer(a.a.FRAMEBUFFER,b);return F.readPixels(i,_,R,g,l,v,T),F.bindFramebuffer(a.a.FRAMEBUFFER,I||null),p&&m.delete(),T}function c(t,e){for(var r=void 0===e?{}:e,n=r.sourceAttachment,i=void 0===n?a.a.COLOR_ATTACHMENT0:n,s=r.targetMaxHeight,u=void 0===s?Number.MAX_SAFE_INTEGER:s,E=_(t,{sourceAttachment:i}),c=t.width,f=t.height;f>u;){var l=Object(o.d)({data:E,width:c,height:f});E=l.data,c=l.width,f=l.height}Object(o.a)({data:E,width:c,height:f});var h=document.createElement("canvas");h.width=c,h.height=f;var d=h.getContext("2d"),A=d.createImageData(c,f);return A.data.set(E),d.putImageData(A,0,0),h.toDataURL()}function f(t){return t instanceof i.a?{framebuffer:t,deleteFramebuffer:!1}:{framebuffer:Object(E.b)(t),deleteFramebuffer:!0}}r.d(e,"b",function(){return _}),r.d(e,"a",function(){return c})},401:function(t,e,r){"use strict";r(317);var n,a,i=r(308),o=r.n(i),s=r(364),u=function(t){return _(t)?void 0:0},E=((n={})[o.a.READ_BUFFER]=function(t){return _(t)?void 0:o.a.COLOR_ATTACHMENT0},n[35723]=function(t){return _(t)?void 0:4352},n[o.a.RASTERIZER_DISCARD]=u,n[o.a.SAMPLES]=u,n[36795]=function(t,e){var r=_(t)?t.getExtension("EXT_disjoint_timer_query_webgl2"):t.getExtension("EXT_disjoint_timer_query");return r&&r.GPU_DISJOINT_EXT?e(r.GPU_DISJOINT_EXT):0},n[37445]=function(t,e){var r=t.getExtension("WEBGL_debug_renderer_info");return e(r&&r.UNMASKED_VENDOR_WEBGL||o.a.VENDOR)},n[37446]=function(t,e){var r=t.getExtension("WEBGL_debug_renderer_info");return e(r&&r.UNMASKED_RENDERER_WEBGL||o.a.RENDERER)},n[34047]=function(t,e){var r=t.luma.extensions.EXT_texture_filter_anisotropic;return r?e(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT):1},n[o.a.MAX_3D_TEXTURE_SIZE]=u,n[o.a.MAX_ARRAY_TEXTURE_LAYERS]=u,n[o.a.MAX_CLIENT_WAIT_TIMEOUT_WEBGL]=u,n[o.a.MAX_COLOR_ATTACHMENTS]=function(t,e){if(!_(t)){var r=t.getExtension("WEBGL_draw_buffers");return r?e(r.MAX_COLOR_ATTACHMENTS_WEBGL):0}},n[o.a.MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS]=u,n[o.a.MAX_COMBINED_UNIFORM_BLOCKS]=u,n[o.a.MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS]=u,n[o.a.MAX_DRAW_BUFFERS]=function(t){if(!_(t)){var e=t.getExtension("WEBGL_draw_buffers");return e?e.MAX_DRAW_BUFFERS_WEBGL:0}},n[o.a.MAX_ELEMENT_INDEX]=function(t){return t.getExtension("OES_element_index")?2147483647:65535},n[o.a.MAX_ELEMENTS_INDICES]=function(t){return t.getExtension("OES_element_index")?16777216:65535},n[o.a.MAX_ELEMENTS_VERTICES]=function(t){return 16777216},n[o.a.MAX_FRAGMENT_INPUT_COMPONENTS]=u,n[o.a.MAX_FRAGMENT_UNIFORM_BLOCKS]=u,n[o.a.MAX_FRAGMENT_UNIFORM_COMPONENTS]=u,n[o.a.MAX_SAMPLES]=u,n[o.a.MAX_SERVER_WAIT_TIMEOUT]=u,n[o.a.MAX_TEXTURE_LOD_BIAS]=u,n[o.a.MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS]=u,n[o.a.MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS]=u,n[o.a.MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS]=u,n[o.a.MAX_UNIFORM_BLOCK_SIZE]=u,n[o.a.MAX_UNIFORM_BUFFER_BINDINGS]=u,n[o.a.MAX_VARYING_COMPONENTS]=u,n[o.a.MAX_VERTEX_OUTPUT_COMPONENTS]=u,n[o.a.MAX_VERTEX_UNIFORM_BLOCKS]=u,n[o.a.MAX_VERTEX_UNIFORM_COMPONENTS]=u,n[o.a.MIN_PROGRAM_TEXEL_OFFSET]=u,n[o.a.MAX_PROGRAM_TEXEL_OFFSET]=u,n[o.a.UNIFORM_BUFFER_OFFSET_ALIGNMENT]=u,n);function _(t){return Boolean(t&&2===t._version)}r.d(e,"b",function(){return f}),r.d(e,"a",function(){return l});function c(t){return Boolean(t&&2===t._version)}var f=((a={}).OES_vertex_array_object={meta:{suffix:"OES"},createVertexArray:function(){Object(s.a)(!1,"VertexArray requires WebGL2 or OES_vertex_array_object extension")},deleteVertexArray:function(){},bindVertexArray:function(){},isVertexArray:function(){return!1}},a.ANGLE_instanced_arrays={meta:{suffix:"ANGLE"},vertexAttribDivisor:function(t,e){Object(s.a)(0===e,"WebGL instanced rendering not supported")},drawElementsInstanced:function(){},drawArraysInstanced:function(){}},a.WEBGL_draw_buffers={meta:{suffix:"WEBGL"},drawBuffers:function(){Object(s.a)(!1)}},a.EXT_disjoint_timer_query={meta:{suffix:"EXT"},createQuery:function(){Object(s.a)(!1)},deleteQuery:function(){Object(s.a)(!1)},beginQuery:function(){Object(s.a)(!1)},endQuery:function(){},getQuery:function(t,e){return this.getQueryObject(t,e)},getQueryParameter:function(t,e){return this.getQueryObject(t,e)},getQueryObject:function(){}},a),l={readBuffer:function(t,e,r){c(t)&&e(r)},getVertexAttrib:function(t,e,r,n){var a,i=function(t,e){return{webgl2:c(t),ext:t.getExtension(e)}}(t,"ANGLE_instanced_arrays"),s=i.webgl2,u=i.ext;switch(n){case o.a.VERTEX_ATTRIB_ARRAY_INTEGER:a=!!s&&void 0;break;case o.a.VERTEX_ATTRIB_ARRAY_DIVISOR:a=s||u?void 0:0}return void 0!==a?a:e(r,n)},getProgramParameter:function(t,e,r,n){if(!c(t))switch(n){case o.a.TRANSFORM_FEEDBACK_BUFFER_MODE:return o.a.SEPARATE_ATTRIBS;case o.a.TRANSFORM_FEEDBACK_VARYINGS:case o.a.ACTIVE_UNIFORM_BLOCKS:return 0}return e(r,n)},getInternalformatParameter:function(t,e,r,n,a){if(!c(t))switch(a){case o.a.SAMPLES:return new Int32Array([0])}return t.getInternalformatParameter(r,n,a)},getTexParameter:function(t,e,r,n){switch(n){case o.a.TEXTURE_MAX_ANISOTROPY_EXT:var a=t.luma.extensions.EXT_texture_filter_anisotropic;n=a&&a.TEXTURE_MAX_ANISOTROPY_EXT||o.a.TEXTURE_MAX_ANISOTROPY_EXT}return e(r,n)},getParameter:function(t,e,r){var n=E[r],a="function"==typeof n?n(t,e,r):n;return void 0!==a?a:e(r)},hint:function(t,e,r,n){return e(r,n)}}},406:function(t,e){},428:function(t,e,r){"use strict";r.d(e,"a",function(){return s});var n=r(381),a=r(398),i=r(429),o=r(430);function s(t,e,r){if(Object(i.a)(e))return r(t);var s,u=e.nocatch,E=void 0===u||u;if(Object(o.a)(!e.frameBuffer),Object(n.c)(t),Object(a.a)(t,e),E)s=r(t),Object(n.b)(t);else try{s=r(t)}finally{Object(n.b)(t)}return s}},429:function(t,e,r){"use strict";function n(t){for(var e in t)return!1;return!0}function a(t){return Boolean(t&&2===t._version)}r.d(e,"a",function(){return n}),r.d(e,"b",function(){return a})},430:function(t,e,r){"use strict";function n(t,e){if(!t)throw new Error(e||"luma.gl: assertion failed.")}r.d(e,"a",function(){return n})},432:function(t,e,r){"use strict";r.d(e,"a",function(){return a});r(4);var n=r(351);function a(t,e,r){var a=r.removedProps,i=void 0===a?{}:a,o=r.deprecatedProps,s=void 0===o?{}:o,u=r.replacedProps,E=void 0===u?{}:u;for(var _ in i)if(_ in e){var c=i[_]?t+"."+i[_]:"N/A";n.a.removed(t+"."+_,c)()}for(var f in s)if(f in e){var l=s[f];n.a.deprecated(t+"."+f,t+"."+l)()}var h=null;for(var d in E)if(d in e){var A=E[d];n.a.deprecated(t+"."+d,t+"."+A)(),(h=h||Object.assign({},e))[A]=e[d],delete h[d]}return h||e}},433:function(t,e,r){"use strict";r.d(e,"c",function(){return o}),r.d(e,"d",function(){return s}),r.d(e,"b",function(){return u}),r.d(e,"a",function(){return E});r(130),r(306);var n=r(386),a="Invalid WebGLRenderingContext",i="Requires WebGL2";function o(t){return Boolean(t&&Number.isFinite(t._version))}function s(t){return Boolean(t&&2===t._version)}function u(t){Object(n.a)(o(t),a)}function E(t){Object(n.a)(s(t),i)}},434:function(t,e,r){"use strict";r.d(e,"c",function(){return i}),r.d(e,"b",function(){return o}),r.d(e,"a",function(){return s});var n=r(386),a={};function i(t){return void 0===t&&(t="id"),a[t]=a[t]||1,t+"-"+a[t]++}function o(t){return Object(n.a)("number"==typeof t,"Input must be a number"),t&&0==(t&t-1)}function s(t){var e=!0;for(var r in t){e=!1;break}return e}},435:function(t,e,r){"use strict";r.d(e,"b",function(){return a}),r.d(e,"a",function(){return i});r(15),r(8),r(130);var n=r(386);function a(t,e){if("string"!=typeof e)return e;var r=Number(e);if(!isNaN(r))return r;var a=t[e=e.replace(/^.*\./,"")];return Object(n.a)(void 0!==a,"Accessing undefined constant GL."+e),a}function i(t,e){for(var r in e=Number(e),t)if(t[r]===e)return"GL."+r;return String(e)}},436:function(t,e,r){"use strict";r.d(e,"a",function(){return a});var n=r(351);function a(t,e,r,a){var i="See luma.gl "+r+" Upgrade Guide at http://uber.github.io/luma.gl/#/documentation/overview/upgrade-guide",o=Object.getPrototypeOf(t);a.forEach(function(t){o.methodName||(o[t]=function(){throw n.a.removed("Calling removed method "+e+"."+t+": ",i)(),new Error(t)})})}},439:function(t,e,r){"use strict";r.d(e,"a",function(){return u});r(40),r(2),r(130),r(311),r(10),r(7),r(3);var n=r(323),a=r(440),i=r(392),o=r(433),s=r(386);var u=function(t){var e,r;function n(e,r){var n;return void 0===r&&(r={}),(n=t.call(this,e,r)||this).target=null,n._queryPending=!1,n._pollingPromise=null,Object.seal(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n)),n}r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,n.isSupported=function(t,e){void 0===e&&(e=[]);var r=Object(o.d)(t),n=Object(a.b)(t,i.a.TIMER_QUERY),u=r||n,E=e,_=Array.isArray(E),c=0;for(E=_?E:E[Symbol.iterator]();;){var f;if(_){if(c>=E.length)break;f=E[c++]}else{if((c=E.next()).done)break;f=c.value}switch(f){case"queries":u=u&&r;break;case"timers":u=u&&n;break;default:Object(s.a)(!1)}}return u};var u=n.prototype;return u.beginTimeElapsedQuery=function(){return this.begin(35007)},u.beginOcclusionQuery=function(t){var e=(void 0===t?{}:t).conservative,r=void 0!==e&&e;return this.begin(r?36202:35887)},u.beginTransformFeedbackQuery=function(){return this.begin(35976)},u.begin=function(t){return this._queryPending?this:(this.target=t,this.gl.beginQuery(this.target,this.handle),this)},u.end=function(){return this._queryPending?this:(this.target&&(this.gl.endQuery(this.target),this.target=null,this._queryPending=!0),this)},u.isResultAvailable=function(){if(!this._queryPending)return!1;var t=this.gl.getQueryParameter(this.handle,34919);return t&&(this._queryPending=!1),t},u.isTimerDisjoint=function(){return this.gl.getParameter(36795)},u.getResult=function(){return this.gl.getQueryParameter(this.handle,34918)},u.getTimerMilliseconds=function(){return this.getResult()/1e6},u.createPoll=function(t){var e=this;if(void 0===t&&(t=Number.POSITIVE_INFINITY),this._pollingPromise)return this._pollingPromise;var r=0;return this._pollingPromise=new Promise(function(n,a){requestAnimationFrame(function i(){e.isResultAvailable()?(n(e.getResult()),e._pollingPromise=null):r++>t?(a("Timed out"),e._pollingPromise=null):requestAnimationFrame(i)})}),this._pollingPromise},u._createHandle=function(){return n.isSupported(this.gl)?this.gl.createQuery():null},u._deleteHandle=function(){this.gl.deleteQuery(this.handle)},n}(n.a)},440:function(t,e,r){"use strict";r.d(e,"b",function(){return o}),r.d(e,"a",function(){return s});r(10),r(7),r(3);var n=r(392),a=r(433),i=r(386);function o(t,e){return(e=Array.isArray(e)?e:[e]).every(function(e){return u(t,e)})}function s(t){if(t.luma=t.luma||{},!t.luma.caps)for(var e in t.luma.caps={},t.luma.caps.webgl2=Object(a.d)(t),n.b)t.luma.caps[e]=u(t,e);return t.luma.caps}function u(t,e){var r=n.b[e];Object(i.a)(r,e);var o,s=Object(a.d)(t)&&r[1]||r[0];if("function"==typeof s)o=s(t);else if(Array.isArray(s)){o=!0;var u=s,E=Array.isArray(u),_=0;for(u=E?u:u[Symbol.iterator]();;){var c;if(E){if(_>=u.length)break;c=u[_++]}else{if((_=u.next()).done)break;c=_.value}var f=c;o=o&&Boolean(t.getExtension(f))}}else"string"==typeof s?o=Boolean(t.getExtension(s)):"boolean"==typeof s?o=s:Object(i.a)(!1);return o}},446:function(t,e,r){"use strict";r(4),r(130),r(40),r(2);var n=r(356),a=r.n(n),i=(r(357),r(306),r(381)),o=r(393),s="Failed to create WebGL context in Node.js, headless gl not available",u="Failed to create WebGL context in Node.js, headless gl returned null";var E,_=r(365),c=_.a&&"undefined"!=typeof document,f=c&&"complete"===document.readyState;function l(t){var e,r=t.canvas,n=t.width,a=t.height,i=t.onError,o=void 0===i?function(){}:i;return"string"==typeof r?(f||o("createGLContext called on canvas '"+r+"' before page was loaded"),e=document.getElementById(r)):e=r||function(t){var e=t.width,r=void 0===e?800:e,n=t.height,a=void 0===n?600:n,i=t.id,o=void 0===i?"gl-canvas":i,s=t.insert,u=void 0===s||s,E=document.createElement("canvas");if(E.id=o,E.style.width=Number.isFinite(r)?r+"px":"100%",E.style.height=Number.isFinite(a)?a+"px":"100%",u){var _=document.body;_.insertBefore(E,_.firstChild)}return E}({id:"lumagl-canvas",width:n,height:a,onError:o}),e}var h=r(308),d=r.n(h);var A=r(386),T=r(351),R=r(341);function g(t){return Boolean(t&&2===t._version)}var v={webgl2:!0,webgl1:!0,throwOnFailure:!0,manageState:!0,canvas:null,debug:!1,width:800,height:600};function N(t){void 0===t&&(t={});var e,r=t=Object.assign({},v,t),n=r.width,a=r.height;function i(e){if(t.throwOnError)throw new Error(e);return null}_.a?e=function(t,e){var r=e.onError,n=void 0===r?function(t){return null}:r,a=function(t){return n("WebGL context: "+(t.statusMessage||"error"))};t.addEventListener("webglcontextcreationerror",a,!1);var i=e.webgl1,o=void 0===i||i,s=e.webgl2,u=void 0===s||s,E=null;return u&&(E=(E=E||t.getContext("webgl2",e))||t.getContext("experimental-webgl2",e)),o&&(E=(E=E||t.getContext("webgl",e))||t.getContext("experimental-webgl",e)),t.removeEventListener("webglcontextcreationerror",a,!1),E||n("Failed to create "+(u&&!o?"WebGL2":"WebGL")+" context")}(l({canvas:t.canvas,width:n,height:a,onError:i}),t):e=function(t){var e=t.width,r=t.height,n=t.webgl1,a=t.webgl2,i=t.onError;if(a&&!n)return i("headless-gl does not support WebGL2");if(!o.c)return i(s);var E=Object(o.c)(e,r,t);return E||i(u)}(Object.assign({},t,{width:n,height:a,onError:i}));return e?(function(t){var e=g(t)?"WebGL2":"WebGL1",r=function(t){var e=t.getParameter(d.a.VENDOR),r=t.getParameter(d.a.RENDERER),n=t.getExtension("WEBGL_debug_renderer_info");return{vendor:n&&t.getParameter(n.UNMASKED_VENDOR_WEBGL||d.a.VENDOR)||e,renderer:n&&t.getParameter(n.UNMASKED_RENDERER_WEBGL||d.a.RENDERER)||r,vendorMasked:e,rendererMasked:r,version:t.getParameter(d.a.VERSION),shadingLanguageVersion:t.getParameter(d.a.SHADING_LANGUAGE_VERSION)}}(t),n=r?"("+r.vendor+","+r.renderer+")":"",a=t.debug?" debug":"";T.a.once(1,""+e+a+" context "+n)()}(e=m(e,t)),e):null}function m(t,e){if(void 0===e&&(e={}),t._instrumented)return t;t._version=t._version||function(t){if(void 0!==o.a&&t instanceof o.a)return 2;return 1}(t);var r=e=Object.assign({},v,e),n=r.manageState,a=r.debug;return n&&Object(i.a)(t,{copyState:!1,log:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return T.a.log.apply(T.a,[1].concat(e))()}}),_.a&&a&&(R.a.makeDebugContext?(t=R.a.makeDebugContext(t,e),T.a.priority=Math.max(T.a.priority,1)):T.a.warn('WebGL debug mode not activated. import "@luma.gl/debug" to enable.')()),t._instrumented=!0,t}var p=r(399),F=r(439);function b(t){return"undefined"!=typeof window&&window.cancelAnimationFrame?window.cancelAnimationFrame(t):clearTimeout(t)}var O=r(433),I=r(362),S=r(342);function L(t,e,r,n,a,i,o){try{var s=t[i](o),u=s.value}catch(E){return void r(E)}s.done?e(u):Promise.resolve(u).then(n,a)}r.d(e,"a",function(){return B});var C=0,B=function(){function t(t){void 0===t&&(t={});var e=t,r=e.onCreateContext,n=void 0===r?function(t){return N(t)}:r,a=e.onAddHTML,i=void 0===a?null:a,o=e.onInitialize,s=void 0===o?function(){}:o,u=e.onRender,E=void 0===u?function(){}:u,_=e.onFinalize,c=void 0===_?function(){}:_,f=e.gl,l=void 0===f?null:f,h=e.glOptions,d=void 0===h?{}:h,A=e.debug,R=void 0!==A&&A,g=e.createFramebuffer,v=void 0!==g&&g,m=e.autoResizeViewport,F=void 0===m||m,b=e.autoResizeDrawingBuffer,O=void 0===b||b,I=e.stats,S=void 0===I?p.a.get("animation-loop-"+C++):I,L=t.useDevicePixels,B=void 0===L||L;"useDevicePixelRatio"in t&&(T.a.deprecated("useDevicePixelRatio","useDevicePixels")(),B=t.useDevicePixelRatio),this.props={onCreateContext:n,onAddHTML:i,onInitialize:s,onRender:E,onFinalize:c,gl:l,glOptions:d,debug:R,createFramebuffer:v},this.gl=l,this.needsRedraw=null,this.timeline=null,this.stats=S,this.cpuTime=this.stats.get("CPU Time"),this.gpuTime=this.stats.get("GPU Time"),this.frameRate=this.stats.get("Frame Rate"),this._initialized=!1,this._running=!1,this._animationFrameId=null,this._nextFramePromise=null,this._resolveNextFrame=null,this._cpuStartTime=0,this.setProps({autoResizeViewport:F,autoResizeDrawingBuffer:O,useDevicePixels:B}),this.start=this.start.bind(this),this.stop=this.stop.bind(this),this._onMousemove=this._onMousemove.bind(this),this._onMouseleave=this._onMouseleave.bind(this)}var e=t.prototype;return e.delete=function(){this.stop(),this._setDisplay(null)},e.setNeedsRedraw=function(t){return Object(A.a)("string"==typeof t),this.needsRedraw=this.needsRedraw||t,this},e.setProps=function(t){return"autoResizeViewport"in t&&(this.autoResizeViewport=t.autoResizeViewport),"autoResizeDrawingBuffer"in t&&(this.autoResizeDrawingBuffer=t.autoResizeDrawingBuffer),"useDevicePixels"in t&&(this.useDevicePixels=t.useDevicePixels),this},e.start=function(t){var e=this;return void 0===t&&(t={}),this._running?this:(this._running=!0,(E||(E=c?new Promise(function(t,e){if(c&&"complete"===document.readyState)return f=!0,void t(document);window.onload=function(){f=!0,t(document)}}):Promise.resolve({})),E).then(function(){return!e._running||e._initialized?null:(e._createWebGLContext(t),e._createFramebuffer(),e._startEventHandling(),e._initializeCallbackData(),e._updateCallbackData(),e._resizeCanvasDrawingBuffer(),e._resizeViewport(),e._gpuTimeQuery=F.a.isSupported(e.gl,["timers"])?new F.a(e.gl):null,e._initialized=!0,e.onInitialize(e.animationProps))}).then(function(t){e._running&&(e._addCallbackData(t||{}),!1!==t&&e._startLoop())}),this)},e.redraw=function(){return this._beginTimers(),this._setupFrame(),this._updateCallbackData(),this._renderFrame(this.animationProps),this._clearNeedsRedraw(),this.offScreen&&this.gl.commit&&this.gl.commit(),this._resolveNextFrame&&(this._resolveNextFrame(this),this._nextFramePromise=null,this._resolveNextFrame=null),this._endTimers(),this},e.stop=function(){return this._running&&(this._finalizeCallbackData(),b(this._animationFrameId),this._nextFramePromise=null,this._resolveNextFrame=null,this._animationFrameId=null,this._running=!1),this},e.attachTimeline=function(t){return this.timeline=t,this.timeline},e.detachTimeline=function(){this.timeline=null},e.waitForRender=function(){var t=this;return this.setNeedsRedraw("waitForRender"),this._nextFramePromise||(this._nextFramePromise=new Promise(function(e){t._resolveNextFrame=e})),this._nextFramePromise},e.toDataURL=function(){var t,e=(t=a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.setNeedsRedraw("toDataURL"),t.next=3,this.waitForRender();case 3:return t.abrupt("return",this.gl.canvas.toDataURL());case 4:case"end":return t.stop()}},t,this)}),function(){var e=this,r=arguments;return new Promise(function(n,a){var i=t.apply(e,r);function o(t){L(i,n,a,o,s,"next",t)}function s(t){L(i,n,a,o,s,"throw",t)}o(void 0)})});return function(){return e.apply(this,arguments)}}(),e.onCreateContext=function(){var t;return(t=this.props).onCreateContext.apply(t,arguments)},e.onInitialize=function(){var t;return(t=this.props).onInitialize.apply(t,arguments)},e.onRender=function(){var t;return(t=this.props).onRender.apply(t,arguments)},e.onFinalize=function(){var t;return(t=this.props).onFinalize.apply(t,arguments)},e.getHTMLControlValue=function(t,e){void 0===e&&(e=1);var r=document.getElementById(t);return r?Number(r.value):e},e.setViewParameters=function(){return T.a.removed("AnimationLoop.setViewParameters","AnimationLoop.setProps")(),this},e._startLoop=function(){var t=this;b(this._animationFrameId),this._animationFrameId=this._requestAnimationFrame(function e(){t._running&&(t.redraw(),t._animationFrameId=t._requestAnimationFrame(e))})},e._setDisplay=function(t){this.display&&(this.display.delete(),this.display.animationLoop=null),t&&(t.animationLoop=this),this.display=t},e._requestAnimationFrame=function(t){var e;this.display&&this.display.requestAnimationFrame(t)||(e=t,"undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame(e):setTimeout(e,1e3/60))},e._renderFrame=function(){var t;this.display?(t=this.display)._renderFrame.apply(t,arguments):this.onRender.apply(this,arguments)},e._clearNeedsRedraw=function(){this.needsRedraw=null},e._setupFrame=function(){this._onSetupFrame?this._onSetupFrame(this.animationProps):(this._resizeCanvasDrawingBuffer(),this._resizeViewport(),this._resizeFramebuffer())},e._initializeCallbackData=function(){this.animationProps={gl:this.gl,stop:this.stop,canvas:this.gl.canvas,framebuffer:this.framebuffer,useDevicePixels:this.useDevicePixels,needsRedraw:null,startTime:Date.now(),engineTime:0,tick:0,tock:0,time:0,_timeline:this.timeline,_loop:this,_animationLoop:this,_mousePosition:null}},e._updateCallbackData=function(){var t=this._getSizeAndAspect(),e=t.width,r=t.height,n=t.aspect;e===this.animationProps.width&&r===this.animationProps.height||this.setNeedsRedraw("drawing buffer resized"),n!==this.animationProps.aspect&&this.setNeedsRedraw("drawing buffer aspect changed"),this.animationProps.width=e,this.animationProps.height=r,this.animationProps.aspect=n,this.animationProps.needsRedraw=this.needsRedraw,this.animationProps.engineTime=Date.now()-this.animationProps.startTime,this.timeline&&this.timeline.update(this.animationProps.engineTime),this.animationProps.tick=Math.floor(this.animationProps.time/1e3*60),this.animationProps.tock++,this.animationProps.time=this.timeline?this.timeline.getTime():this.animationProps.engineTime,this.animationProps._offScreen=this.offScreen},e._finalizeCallbackData=function(){this.onFinalize(this.animationProps)},e._addCallbackData=function(t){"object"==typeof t&&null!==t&&(this.animationProps=Object.assign({},this.animationProps,t))},e._createWebGLContext=function(t){if(this.offScreen=t.canvas&&"undefined"!=typeof OffscreenCanvas&&t.canvas instanceof OffscreenCanvas,t=Object.assign({},t,this.props.glOptions),this.gl=this.props.gl?m(this.props.gl,t):this.onCreateContext(t),!Object(O.c)(this.gl))throw new Error("AnimationLoop.onCreateContext - illegal context returned");Object(I.b)(this.gl),this._createInfoDiv()},e._createInfoDiv=function(){if(this.gl.canvas&&this.props.onAddHTML){var t=document.createElement("div");document.body.appendChild(t),t.style.position="relative";var e=document.createElement("div");e.style.position="absolute",e.style.left="10px",e.style.bottom="10px",e.style.width="300px",e.style.background="white",t.appendChild(this.gl.canvas),t.appendChild(e);var r=this.props.onAddHTML(e);r&&(e.innerHTML=r)}},e._getSizeAndAspect=function(){var t=this.gl.drawingBufferWidth,e=this.gl.drawingBufferHeight,r=1,n=this.gl.canvas;return n&&n.clientHeight?r=n.clientWidth/n.clientHeight:t>0&&e>0&&(r=t/e),{width:t,height:e,aspect:r}},e._resizeViewport=function(){this.autoResizeViewport&&this.gl.viewport(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight)},e._resizeCanvasDrawingBuffer=function(){this.autoResizeDrawingBuffer&&function(t,e){if(void 0===e&&(e={}),t.canvas){var r=e.useDevicePixels&&window.devicePixelRatio||1,n="width"in e?e.width:t.canvas.clientWidth,a="height"in e?e.height:t.canvas.clientHeight;return t.canvas.width=n*r,void(t.canvas.height=a*r)}var i=t.getExtension("STACKGL_resize_drawingbuffer");i&&"width"in e&&"height"in e&&i.resize(e.width,e.height)}(this.gl,{useDevicePixels:this.useDevicePixels})},e._createFramebuffer=function(){this.props.createFramebuffer&&(this.framebuffer=new S.a(this.gl))},e._resizeFramebuffer=function(){this.framebuffer&&this.framebuffer.resize({width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight})},e._beginTimers=function(){this.frameRate.timeEnd(),this.frameRate.timeStart(),this._gpuTimeQuery&&this._gpuTimeQuery.isResultAvailable()&&!this._gpuTimeQuery.isTimerDisjoint()&&this.stats.get("GPU Time").addTime(this._gpuTimeQuery.getTimerMilliseconds()),this._gpuTimeQuery&&this._gpuTimeQuery.beginTimeElapsedQuery(),this.cpuTime.timeStart()},e._endTimers=function(){this.cpuTime.timeEnd(),this._gpuTimeQuery&&this._gpuTimeQuery.end()},e._startEventHandling=function(){var t=this.gl.canvas;t&&(t.addEventListener("mousemove",this._onMousemove),t.addEventListener("mouseleave",this._onMouseleave))},e._onMousemove=function(t){this.animationProps._mousePosition=[t.offsetX,t.offsetY]},e._onMouseleave=function(t){this.animationProps._mousePosition=null},t}()},447:function(t,e,r){"use strict";r(15),r(8),r(10),r(7),r(3),r(4),r(311);var n,a=r(308),i=r.n(a),o=r(323),s=r(334),u=r(342),E=(r(62),r(319),r(317),r(307),r(130),r(306),r(369)),_=r(351),c=((n={})[i.a.FLOAT]=function(t,e,r){return t.uniform1fv(e,T(r,1))},n[i.a.FLOAT_VEC2]=function(t,e,r){return t.uniform2fv(e,T(r,2))},n[i.a.FLOAT_VEC3]=function(t,e,r){return t.uniform3fv(e,T(r,3))},n[i.a.FLOAT_VEC4]=function(t,e,r){return t.uniform4fv(e,T(r,4))},n[i.a.INT]=function(t,e,r){return t.uniform1iv(e,R(r,1))},n[i.a.INT_VEC2]=function(t,e,r){return t.uniform2iv(e,R(r,2))},n[i.a.INT_VEC3]=function(t,e,r){return t.uniform3iv(e,R(r,3))},n[i.a.INT_VEC4]=function(t,e,r){return t.uniform4iv(e,R(r,4))},n[i.a.BOOL]=function(t,e,r){return t.uniform1iv(e,R(r,1))},n[i.a.BOOL_VEC2]=function(t,e,r){return t.uniform2iv(e,R(r,2))},n[i.a.BOOL_VEC3]=function(t,e,r){return t.uniform3iv(e,R(r,3))},n[i.a.BOOL_VEC4]=function(t,e,r){return t.uniform4iv(e,R(r,4))},n[i.a.FLOAT_MAT2]=function(t,e,r){return t.uniformMatrix2fv(e,!1,T(r,4))},n[i.a.FLOAT_MAT3]=function(t,e,r){return t.uniformMatrix3fv(e,!1,T(r,9))},n[i.a.FLOAT_MAT4]=function(t,e,r){return t.uniformMatrix4fv(e,!1,T(r,16))},n[i.a.SAMPLER_2D]=function(t,e,r){return t.uniform1i(e,r)},n[i.a.SAMPLER_CUBE]=function(t,e,r){return t.uniform1i(e,r)},n[i.a.UNSIGNED_INT]=function(t,e,r){return t.uniform1uiv(e,g(r,1))},n[i.a.UNSIGNED_INT_VEC2]=function(t,e,r){return t.uniform2uiv(e,g(r,2))},n[i.a.UNSIGNED_INT_VEC3]=function(t,e,r){return t.uniform3uiv(e,g(r,3))},n[i.a.UNSIGNED_INT_VEC4]=function(t,e,r){return t.uniform4uiv(e,g(r,4))},n[i.a.FLOAT_MAT2x3]=function(t,e,r){return t.uniformMatrix2x3fv(e,!1,T(r,6))},n[i.a.FLOAT_MAT2x4]=function(t,e,r){return t.uniformMatrix2x4fv(e,!1,T(r,8))},n[i.a.FLOAT_MAT3x2]=function(t,e,r){return t.uniformMatrix3x2fv(e,!1,T(r,6))},n[i.a.FLOAT_MAT3x4]=function(t,e,r){return t.uniformMatrix3x4fv(e,!1,T(r,12))},n[i.a.FLOAT_MAT4x2]=function(t,e,r){return t.uniformMatrix4x2fv(e,!1,T(r,8))},n[i.a.FLOAT_MAT4x3]=function(t,e,r){return t.uniformMatrix4x3fv(e,!1,T(r,12))},n[i.a.SAMPLER_3D]=function(t,e,r){return t.uniform1i(e,r)},n[i.a.SAMPLER_2D_SHADOW]=function(t,e,r){return t.uniform1i(e,r)},n[i.a.SAMPLER_2D_ARRAY]=function(t,e,r){return t.uniform1i(e,r)},n[i.a.SAMPLER_2D_ARRAY_SHADOW]=function(t,e,r){return t.uniform1i(e,r)},n[i.a.SAMPLER_CUBE_SHADOW]=function(t,e,r){return t.uniform1i(e,r)},n[i.a.INT_SAMPLER_2D]=function(t,e,r){return t.uniform1i(e,r)},n[i.a.INT_SAMPLER_3D]=function(t,e,r){return t.uniform1i(e,r)},n[i.a.INT_SAMPLER_CUBE]=function(t,e,r){return t.uniform1i(e,r)},n[i.a.INT_SAMPLER_2D_ARRAY]=function(t,e,r){return t.uniform1i(e,r)},n[i.a.UNSIGNED_INT_SAMPLER_2D]=function(t,e,r){return t.uniform1i(e,r)},n[i.a.UNSIGNED_INT_SAMPLER_3D]=function(t,e,r){return t.uniform1i(e,r)},n[i.a.UNSIGNED_INT_SAMPLER_CUBE]=function(t,e,r){return t.uniform1i(e,r)},n[i.a.UNSIGNED_INT_SAMPLER_2D_ARRAY]=function(t,e,r){return t.uniform1i(e,r)},n),f={},l={},h={},d=[0];function A(t,e,r,n){1===e&&"boolean"==typeof t&&(t=t?1:0),Number.isFinite(t)&&(d[0]=t,t=d);var a=t.length;if(a%e&&_.a.warn("Uniform size should be multiples of "+e,t)(),t instanceof r)return t;var i=n[a];i||(i=new r(a),n[a]=i);for(var o=0;o<a;o++)i[o]=t[o];return i}function T(t,e){return A(t,e,Float32Array,f)}function R(t,e){return A(t,e,Int32Array,l)}function g(t,e){return A(t,e,Uint32Array,h)}function v(t){if("]"!==t[t.length-1])return{name:t,length:1,isArray:!1};var e=t.match(/([^[]*)(\[[0-9]+\])?/);if(!e||e.length<2)throw new Error("Failed to parse GLSL uniform name "+t);return{name:e[1],length:e[2]||1,isArray:Boolean(e[2])}}function N(t,e,r){var n=c[r.type];if(!n)throw new Error("Unknown GLSL uniform type "+r.type);return n.bind(null,t,e)}function m(t){return Array.isArray(t)||ArrayBuffer.isView(t)?function(t){if(0===t.length)return!1;for(var e=Math.min(t.length,16),r=0;r<e;++r)if(!Number.isFinite(t[r]))return!1;return!0}(t):!!isFinite(t)||(!0===t||!1===t||(t instanceof s.a||(t instanceof E.a||t instanceof u.a&&Boolean(t.texture))))}function p(t,e){if(Array.isArray(t)||ArrayBuffer.isView(t)){if(!e)return!1;var r=t.length;if(e.length!==r)return!1;for(var n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}return t===e}r(39),r(2);function F(t,e){void 0===e&&(e="unnamed");var r=t.match(/#define[\s*]SHADER_NAME[\s*]([A-Za-z0-9_-]+)[\s*]/);return r?r[1]:e}r(28);var b=35632,O=35633;function I(t,e,r,n){for(var a=t.split(/\r?\n/),i={},o={},s=n||F(e)||"(unnamed)",u=function(t){switch(t){case b:return"fragment";case O:return"vertex";default:return"unknown type"}}(r)+" shader "+s,E=0;E<a.length;E++){var _=a[E];if(!(_.length<=1)){var c=_.split(":"),f=c[0],l=parseInt(c[2],10);if(isNaN(l))throw new Error("GLSL compilation error in "+u+": "+t);"WARNING"!==f?i[l]=_:o[l]=_}}var h=function(t,e,r){void 0===e&&(e=1);void 0===r&&(r=": ");var n=t.split(/\r?\n/),a=String(n.length+e-1).length;return n.map(function(t,n){var i=n+e,o=String(i).length,s=L(i,a-o);return s+r+t})}(e);return{shaderName:u,errors:S(i,h),warnings:S(o,h)}}function S(t,e){for(var r="",n=0;n<e.length;n++){var a=e[n];if((t[n+3]||t[n+2]||t[n+1])&&(r+=a+"\n",t[n+1])){var i=t[n+1],o=i.split(":",3),s=o[0],u=parseInt(o[1],10)||0;r+=L("^^^ "+s+": "+i.substring(o.join(":").length+1).trim()+"\n\n",u)}}return r}function L(t,e){for(var r="",n=0;n<e;++n)r+=" ";return""+r+t}var C=r(433),B=r(386),M=r(434);function P(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var D="Shader: GLSL source code must be a JavaScript string",y=function(t){function e(r,n){var a;Object(C.b)(r),Object(B.a)("string"==typeof n.source,D);var i=F(n.source,null)||n.id||Object(M.c)("unnamed "+e.getTypeName(n.shaderType));return(a=t.call(this,r,{id:i})||this).shaderType=n.shaderType,a.source=n.source,a.initialize(n),a}P(e,t),e.getTypeName=function(t){switch(t){case i.a.VERTEX_SHADER:return"vertex-shader";case i.a.FRAGMENT_SHADER:return"fragment-shader";default:return Object(B.a)(!1),"unknown"}};var r=e.prototype;return r.initialize=function(t){var e=t.source,r=F(e,null);r&&(this.id=Object(M.c)(r)),this._compile(e)},r.getParameter=function(t){return this.gl.getShaderParameter(this.handle,t)},r.toString=function(){return e.getTypeName(this.shaderType)+":"+this.id},r.getName=function(){return F(this.source)||"unnamed-shader"},r.getSource=function(){return this.gl.getShaderSource(this.handle)},r.getTranslatedSource=function(){var t=this.gl.getExtension("WEBGL.debug_shaders");return t?t.getTranslatedShaderSource(this.handle):"No translated source available. WEBGL.debug_shaders not implemented"},r._compile=function(){if(this.gl.shaderSource(this.handle,this.source),this.gl.compileShader(this.handle),!this.getParameter(i.a.COMPILE_STATUS)){var t=I(this.gl.getShaderInfoLog(this.handle),this.source,this.shaderType,this.id),e=t.shaderName,r=t.errors,n=t.warnings;throw _.a.error("GLSL compilation errors in "+e+"\n"+r)(),_.a.warn("GLSL compilation warnings in "+e+"\n"+n)(),new Error("GLSL compilation errors in "+e)}},r._deleteHandle=function(){this.gl.deleteShader(this.handle)},r._getOptsFromHandle=function(){return{type:this.getParameter(i.a.SHADER_TYPE),source:this.getSource()}},e}(o.a),U=function(t){function e(e,r){return"string"==typeof r&&(r={source:r}),t.call(this,e,Object.assign({},r,{shaderType:i.a.VERTEX_SHADER}))||this}return P(e,t),e.prototype._createHandle=function(){return this.gl.createShader(i.a.VERTEX_SHADER)},e}(y),G=function(t){function e(e,r){return"string"==typeof r&&(r={source:r}),t.call(this,e,Object.assign({},r,{shaderType:i.a.FRAGMENT_SHADER}))||this}return P(e,t),e.prototype._createHandle=function(){return this.gl.createShader(i.a.FRAGMENT_SHADER)},e}(y),w=(r(97),r(353)),x=r(333),H=function(){function t(t){this.id=t.id,this.attributeInfos=[],this.attributeInfosByName={},this.attributeInfosByLocation=[],this.varyingInfos=[],this.varyingInfosByName={},Object.seal(this),this._readAttributesFromProgram(t),this._readVaryingsFromProgram(t)}var e=t.prototype;return e.getAttributeInfo=function(t){var e=Number(t);return Number.isFinite(e)?this.attributeInfosByLocation[e]:this.attributeInfosByName[t]||null},e.getAttributeLocation=function(t){var e=this.getAttributeInfo(t);return e?e.location:-1},e.getAttributeAccessor=function(t){var e=this.getAttributeInfo(t);return e?e.accessor:null},e.getVaryingInfo=function(t){var e=Number(t);return Number.isFinite(e)?this.varyingInfos[e]:this.varyingInfosByName[t]||null},e.getVaryingIndex=function(t){var e=this.getVaryingInfo();return e?e.location:-1},e.getVaryingAccessor=function(t){var e=this.getVaryingInfo();return e?e.accessor:null},e._readAttributesFromProgram=function(t){for(var e=t.gl,r=e.getProgramParameter(t.handle,e.ACTIVE_ATTRIBUTES),n=0;n<r;n++){var a=e.getActiveAttrib(t.handle,n),i=a.name,o=a.type,s=a.size,u=e.getAttribLocation(t.handle,i);u>=0&&this._addAttribute(u,i,o,s)}this.attributeInfos.sort(function(t,e){return t.location-e.location})},e._readVaryingsFromProgram=function(t){var e=t.gl;if(Object(C.d)(e)){for(var r=e.getProgramParameter(t.handle,e.TRANSFORM_FEEDBACK_VARYINGS),n=0;n<r;n++){var a=e.getTransformFeedbackVarying(t.handle,n),i=a.name,o=a.type,s=a.size;this._addVarying(n,i,o,s)}this.varyingInfos.sort(function(t,e){return t.location-e.location})}},e._addAttribute=function(t,e,r,n){var a=Object(x.a)(r),i={type:a.type,size:n*a.components};this._inferProperties(t,e,i);var o={location:t,name:e,accessor:new w.a(i)};this.attributeInfos.push(o),this.attributeInfosByLocation[t]=o,this.attributeInfosByName[o.name]=o},e._inferProperties=function(t,e,r){/instance/i.test(e)&&(r.divisor=1)},e._addVarying=function(t,e,r,n){var a=Object(x.a)(r),i=a.type,o=a.components,s={location:t,name:e,accessor:new w.a({type:i,size:n*o})};this.varyingInfos.push(s),this.varyingInfosByName[s.name]=s},t}(),X=r(428),V=r(435);r.d(e,"a",function(){return W});var j=["setVertexArray","setAttributes","setBuffers","unsetBuffers","use","getUniformCount","getUniformInfo","getUniformLocation","getUniformValue","getVarying","getFragDataLocation","getAttachedShaders","getAttributeCount","getAttributeLocation","getAttributeInfo"],W=function(t){var e,r;function n(e,r){var n;return void 0===r&&(r={}),(n=t.call(this,e,r)||this).stubRemovedMethods("Program","v6.0",j),n._isCached=!1,n.initialize(r),Object.seal(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n)),n._setId(r.id),n}r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var a=n.prototype;return a.initialize=function(t){void 0===t&&(t={});var e=t,r=e.vs,n=e.fs,a=e.varyings,i=e.bufferMode,o=void 0===i?35981:i;return this.vs="string"==typeof r?new U(this.gl,{id:t.id+"-vs",source:r}):r,this.fs="string"==typeof n?new G(this.gl,{id:t.id+"-fs",source:n}):n,Object(B.a)(this.vs instanceof U),Object(B.a)(this.fs instanceof G),this.uniforms={},a&&(Object(C.a)(this.gl),this.varyings=a,this.gl.transformFeedbackVaryings(this.handle,a,o)),this._compileAndLink(),this._readUniformLocationsFromLinkedProgram(),this.configuration=new H(this),this.setProps(t)},a.delete=function(e){return void 0===e&&(e={}),this._isCached?this:t.prototype.delete.call(this,e)},a.setProps=function(t){return"uniforms"in t&&this.setUniforms(t.uniforms),this},a.draw=function(t){var e=this,r=t.logPriority,n=t.drawMode,a=void 0===n?i.a.TRIANGLES:n,o=t.vertexCount,s=t.offset,u=void 0===s?0:s,E=t.start,c=t.end,f=t.isIndexed,l=void 0!==f&&f,h=t.indexType,d=void 0===h?i.a.UNSIGNED_SHORT:h,A=t.isInstanced,T=void 0!==A&&A,R=t.instanceCount,g=void 0===R?0:R,v=t.vertexArray,N=void 0===v?null:v,m=t.transformFeedback,p=t.framebuffer,F=t.parameters,b=void 0===F?{}:F,O=t.uniforms,I=t.samplers;if((O||I)&&(_.a.deprecated("Program.draw({uniforms})","Program.setUniforms(uniforms)")(),this.setUniforms(O||{})),void 0!==r){var S=p?p.id:"default",L="mode="+Object(V.a)(this.gl,a)+" verts="+o+" instances="+g+" indexType="+Object(V.a)(this.gl,d)+" isInstanced="+T+" isIndexed="+l+" Framebuffer="+S;_.a.log(r,L)()}return Object(B.a)(N),this.gl.useProgram(this.handle),!!this._areTexturesRenderable()&&(N.bindForDraw(o,g,function(){if(void 0!==p&&(b=Object.assign({},b,{framebuffer:p})),m){var t=Object(x.c)(a);m.begin(t)}e._bindTextures(),Object(X.a)(e.gl,b,function(){l&&T?e.gl.drawElementsInstanced(a,o,d,u,g):l&&Object(C.d)(e.gl)&&!isNaN(E)&&!isNaN(c)?e.gl.drawRangeElements(a,E,c,o,d,u):l?e.gl.drawElements(a,o,d,u):T?e.gl.drawArraysInstanced(a,u,o,g):e.gl.drawArrays(a,u,o)}),m&&m.end()}),!0)},a.setUniforms=function(t,e){void 0===t&&(t={}),void 0===e&&(e=function(){});var r,n=!1,a={};for(var i in t)p(this.uniforms[i],t[i])||(n=!0,a[i]=t[i],this.uniforms[i]=(r=t[i],Array.isArray(r)||ArrayBuffer.isView(r)?r.slice():r));return n&&(e(),function(t,e,r){for(var n in t){var a=t[n];if((!r||Boolean(r[n]))&&!m(a))throw e=e?e+" ":"",console.error(e+" Bad uniform "+n,a),new Error(e+" Bad uniform "+n)}}(a,this.id,this._uniformSetters),this._setUniforms(a)),this},a.reset=function(){},a._areTexturesRenderable=function(){var t=!0;for(var e in this.uniforms){var r=this._uniformSetters[e];if(r&&void 0!==r.textureIndex){var n=this.uniforms[e];if(n instanceof u.a)n=n.texture;if(n instanceof s.a)t=t&&n.loaded}}return t},a._bindTextures=function(){for(var t in this.uniforms){var e=this._uniformSetters[t];if(e&&void 0!==e.textureIndex){var r=this.uniforms[t];if(r instanceof u.a&&(r=r.texture),r instanceof s.a)r.bind(e.textureIndex)}}},a._setUniforms=function(t){for(var e in this.gl.useProgram(this.handle),t){var r=t[e],n=this._uniformSetters[e];if(n)if(r instanceof u.a&&(r=r.texture),r instanceof s.a){void 0===n.textureIndex&&(n.textureIndex=this._textureIndexCounter++);var a=r,i=n.textureIndex;a.bind(i),n(i)}else n(r)}return this},a._createHandle=function(){return this.gl.createProgram()},a._deleteHandle=function(){this.gl.deleteProgram(this.handle)},a._getOptionsFromHandle=function(t){var e={},r=this.gl.getAttachedShaders(t),n=Array.isArray(r),a=0;for(r=n?r:r[Symbol.iterator]();;){var o;if(n){if(a>=r.length)break;o=r[a++]}else{if((a=r.next()).done)break;o=a.value}var s=o;switch(this.gl.getShaderParameter(this.handle,i.a.SHADER_TYPE)){case i.a.VERTEX_SHADER:e.vs=new U({handle:s});break;case i.a.FRAGMENT_SHADER:e.fs=new G({handle:s})}}return e},a._getParameter=function(t){return this.gl.getProgramParameter(this.handle,t)},a._setId=function(t){if(!t){var e=this._getName();this.id=Object(M.c)(e)}},a._getName=function(){var t=this.vs.getName()||this.fs.getName();return t=(t=t.replace(/shader/i,""))?t+"-program":"program"},a._compileAndLink=function(){var t=this.gl;if((t.attachShader(this.handle,this.vs.handle),t.attachShader(this.handle,this.fs.handle),_.a.time(4,"linkProgram for "+this._getName())(),t.linkProgram(this.handle),_.a.timeEnd(4,"linkProgram for "+this._getName())(),t.debug||_.a.priority>0)&&(t.validateProgram(this.handle),!t.getProgramParameter(this.handle,t.LINK_STATUS)))throw new Error("Error linking: "+t.getProgramInfoLog(this.handle))},a._readUniformLocationsFromLinkedProgram=function(){var t=this.gl;this._uniformSetters={},this._uniformCount=this._getParameter(i.a.ACTIVE_UNIFORMS);for(var e=0;e<this._uniformCount;e++){var r=this.gl.getActiveUniform(this.handle,e),n=v(r.name),a=n.name,o=(n.isArray,t.getUniformLocation(this.handle,a));if(this._uniformSetters[a]=N(t,o,r),r.size>1)for(var s=0;s<r.size;s++)o=t.getUniformLocation(this.handle,a+"["+s+"]"),this._uniformSetters[a+"["+s+"]"]=N(t,o,r)}this._textureIndexCounter=0},a.getActiveUniforms=function(t,e){return this.gl.getActiveUniforms(this.handle,t,e)},a.getUniformBlockIndex=function(t){return this.gl.getUniformBlockIndex(this.handle,t)},a.getActiveUniformBlockParameter=function(t,e){return this.gl.getActiveUniformBlockParameter(this.handle,t,e)},a.uniformBlockBinding=function(t,e){this.gl.uniformBlockBinding(this.handle,t,e)},n}(o.a)},450:function(t,e,r){"use strict";r(40),r(2);var n=r(356),a=r.n(n),i=(r(357),r(351)),o=(r(10),r(7),r(3),r(4),r(428)),s=function(){function t(){}var e=t.prototype;return e.getViews=function(t){var e=t.width,r=t.height;return[{params:{viewport:[0,0,e,r],scissor:[0,0,e,r],scissorTest:!0}}]},e.submitFrame=function(){return!0},e.requestAnimationFrame=function(t){return!1},e.delete=function(){},e._renderFrame=function(t){var e=this,r=this.getViews(t);if(!r)return!1;var n=this.animationLoop.gl,a=function(){if(s){if(u>=i.length)return"break";E=i[u++]}else{if((u=i.next()).done)return"break";E=u.value}var r=E;Object(o.a)(n,r.params,function(){return e.animationLoop.onRender(Object.assign({},t,r))})},i=r,s=Array.isArray(i),u=0;for(i=s?i:i[Symbol.iterator]();;){var E;if("break"===a())break}return this.submitFrame(),!0},t}();function u(t){var e=t.canvas,r=t.title,n=e.getBoundingClientRect(),a=n.top,i=n.left,o=n.width,s=n.height,u=document.createElement("div");u.style.position="absolute",u.style.top=a+"px",u.style.left=i+"px",u.style.width=o+"px",u.style.height=s+"px",u.style.pointerEvents="none",u.style.zIndex="999",document.body.appendChild(u);var E=document.createElement("button");return E.style.padding="16px",E.style.border="1px solid #fff",E.style.borderRadius="8px",E.style.background="rgba(0,0,0,0.5)",E.style.color="#fff",E.style.font="normal 20px sans-serif",E.style.cursor="pointer",E.style.margin="20px auto",E.style.display="block",E.style.pointerEvents="all",E.textContent=r,u.appendChild(E),E}function E(t,e,r,n,a,i,o){try{var s=t[i](o),u=s.value}catch(E){return void r(E)}s.done?e(u):Promise.resolve(u).then(n,a)}r.d(e,"a",function(){return _});var _=function(t){var e,r;function n(e){var r;return(r=t.call(this,e)||this)._vrSupported=n.isSupported(),r._vrSupported&&(r.vrFrameData=new window.VRFrameData,r.vrPresenting=!1,r.vrFrame=!1,window.addEventListener("vrdisplaypresentchange",r._vrDisplayPresentChange.bind(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(r)))),r}r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,n.isSupported=function(){return"undefined"!=typeof navigator&&"getVRDisplays"in navigator&&"VRFrameData"in window};var o=n.prototype;return o.delete=function(){t.prototype.delete.call(this),this._removeVRButton()},o.getViews=function(e){if(this._vrSupported&&this._addVRButton(),this.vrPresenting&&this.vrFrame){this.vrDisplay.getFrameData(this.vrFrameData);var r=this.vrFrameData,n=r.leftProjectionMatrix,a=r.leftViewMatrix,i=r.rightProjectionMatrix,o=r.rightViewMatrix,s=e.width,u=e.height;return[{displayEye:"left",projectionMatrix:n,viewMatrix:a,params:{viewport:[0,0,.5*s,u],scissor:[0,0,.5*s,u],scissorTest:!0}},{displayEye:"right",projectionMatrix:i,viewMatrix:o,params:{viewport:[.5*s,0,.5*s,u],scissor:[.5*s,0,.5*s,u],scissorTest:!0}}]}return t.prototype.getViews.call(this,e)},o.submitFrame=function(){return!(!this.vrPresenting||!this.vrFrame)&&(this.vrDisplay.submitFrame(),!0)},o.requestAnimationFrame=function(t){var e=this;return!!this.vrPresenting&&(this.vrDisplay.requestAnimationFrame(function(){e.vrFrame=!0,t(),e.vrFrame=!1}),!0)},o._addVRButton=function(){var t,e=(t=a.a.mark(function t(){var e,r,n=this;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.vrButton){t.next=2;break}return t.abrupt("return");case 2:if(e=this._getCanvas()){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,navigator.getVRDisplays();case 7:(r=t.sent)&&r.length&&(i.a.info(2,"Found VR Displays",r)(),this.vrDisplay=r[0],this.vrButton=u({canvas:e,title:"Enter VR ("+this.vrDisplay.displayName+")"}),this.vrButton.onclick=function(){return n._startDisplay()});case 9:case"end":return t.stop()}},t,this)}),function(){var e=this,r=arguments;return new Promise(function(n,a){var i=t.apply(e,r);function o(t){E(i,n,a,o,s,"next",t)}function s(t){E(i,n,a,o,s,"throw",t)}o(void 0)})});return function(){return e.apply(this,arguments)}}(),o._getCanvas=function(){return this.animationLoop.canvas||this.animationLoop.gl&&this.animationLoop.gl.canvas},o._removeVRButton=function(){this.vrButton},o._startDisplay=function(){this.vrDisplay.requestPresent([{source:this._getCanvas()}])},o._vrDisplayPresentChange=function(){this.vrDisplay.isPresenting?(i.a.info(2,"Entering VR")(),this.vrPresenting=!0,this.vrButton.style.display="none"):(i.a.info(2,"Exiting VR")(),this.vrPresenting=!1,this.vrButton.style.display="block")},n}(s)},451:function(t,e,r){"use strict";r(130),r(306),r(15),r(4),r(374),r(311),r(3),r(5),r(2);var n=r(308),a=r.n(n),i=r(353),o=r(324),s=(r(319),r(317),r(307),r(323)),u=r(433),E=(r(347),null);function _(t,e){var r;return new t((r=t.BYTES_PER_ELEMENT*e,(!E||E.byteLength<r)&&(E=new ArrayBuffer(r)),E),0,e)}var c=r(386),f=r(455);function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var h=function(t){var e,r;function n(e,r){var a;void 0===r&&(r={});var i=r.id||r.program&&r.program.id;return(a=t.call(this,e,Object.assign({},r,{id:i}))||this).hasVertexArrays=n.isSupported(e),a.buffer=null,a.bufferValue=null,a.initialize(r),Object.seal(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(a)),a}r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,n.isSupported=function(t,e){return void 0===e&&(e={}),e.constantAttributeZero?Object(u.d)(t)||"Chrome"===Object(f.a)():Object(u.d)(t)||t.getExtension("OES_vertex_array_object")},n.getDefaultArray=function(t){return t.luma=t.luma||{},t.luma.defaultVertexArray||(t.luma.defaultVertexArray=new n(t,{handle:null})),t.luma.defaultVertexArray},n.getMaxAttributes=function(t){return n.MAX_ATTRIBUTES=n.MAX_ATTRIBUTES||t.getParameter(t.MAX_VERTEX_ATTRIBS),n.MAX_ATTRIBUTES},n.setConstant=function(t,e,r){switch(r.constructor){case Float32Array:n._setConstantFloatArray(t,e,r);break;case Int32Array:n._setConstantIntArray(t,e,r);break;case Uint32Array:n._setConstantUintArray(t,e,r);break;default:Object(c.a)(!1)}};var i,s,E,h=n.prototype;return h.delete=function(){t.prototype.delete.call(this),this.buffer&&this.buffer.delete()},h.initialize=function(t){return void 0===t&&(t={}),this.setProps(t)},h.setProps=function(t){return this},h.setElementBuffer=function(t,e){var r=this;return void 0===t&&(t=null),void 0===e&&(e={}),Object(c.a)(!t||t.target===a.a.ELEMENT_ARRAY_BUFFER,"elements must be GL.ELEMENT_ARRAY_BUFFER"),this.bind(function(){r.gl.bindBuffer(a.a.ELEMENT_ARRAY_BUFFER,t?t.handle:null)}),this},h.setBuffer=function(t,e,r){if(e.target===a.a.ELEMENT_ARRAY_BUFFER)return this.setElementBuffer(e,r);var n=r.size,i=r.type,o=r.stride,s=r.offset,E=r.normalized,_=r.integer,f=r.divisor,l=this.gl;return t=Number(t),this.bind(function(){l.bindBuffer(l.ARRAY_BUFFER,e.handle),_?(Object(c.a)(Object(u.d)(l)),l.vertexAttribIPointer(t,n,i,o,s)):l.vertexAttribPointer(t,n,i,E,o,s),l.enableVertexAttribArray(t),l.vertexAttribDivisor(t,f||0)}),this},h.enable=function(t,e){var r=this;return void 0===e&&(e=!0),!e&&0===t&&!n.isSupported(this.gl,{constantAttributeZero:!0})||(t=Number(t),this.bind(function(){return e?r.gl.enableVertexAttribArray(t):r.gl.disableVertexAttribArray(t)})),this},h.getConstantBuffer=function(t,e,r){var n=this._normalizeConstantArrayValue(e,r),a=n.byteLength*t,i=n.length*t,s=!this.buffer;if(this.buffer=this.buffer||new o.a(this.gl,a),s=(s=s||this.buffer.reallocate(a))||!this._compareConstantArrayValues(n,this.bufferValue)){var u=_(e.constructor,i);!function(t){for(var e=t.target,r=t.source,n=t.start,a=void 0===n?0:n,i=t.count,o=void 0===i?1:i,s=r.length,u=o*s,E=0,_=a;E<s;E++)e[_++]=r[E];for(;E<u;)E<u-E?(e.copyWithin(a+E,a,a+E),E*=2):(e.copyWithin(a+E,a,a+u-E),E=u)}({target:u,source:n,start:0,count:i}),this.buffer.subData(u),this.bufferValue=e}return this.buffer},h._normalizeConstantArrayValue=function(t,e){return Array.isArray(t)?new Float32Array(t):t},h._compareConstantArrayValues=function(t,e){if(!t||!e||t.length!==e.length||t.constructor!==e.constructor)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0},n._setConstantFloatArray=function(t,e,r){switch(r.length){case 1:t.vertexAttrib1fv(e,r);break;case 2:t.vertexAttrib2fv(e,r);break;case 3:t.vertexAttrib3fv(e,r);break;case 4:t.vertexAttrib4fv(e,r);break;default:Object(c.a)(!1)}},n._setConstantIntArray=function(t,e,r){switch(Object(c.a)(Object(u.d)(t)),r.length){case 1:t.vertexAttribI1iv(e,r);break;case 2:t.vertexAttribI2iv(e,r);break;case 3:t.vertexAttribI3iv(e,r);break;case 4:t.vertexAttribI4iv(e,r);break;default:Object(c.a)(!1)}},n._setConstantUintArray=function(t,e,r){switch(Object(c.a)(Object(u.d)(t)),r.length){case 1:t.vertexAttribI1uiv(e,r);break;case 2:t.vertexAttribI2uiv(e,r);break;case 3:t.vertexAttribI3uiv(e,r);break;case 4:t.vertexAttribI4uiv(e,r);break;default:Object(c.a)(!1)}},h._createHandle=function(){return this.hasVertexArrays=n.isSupported(this.gl),this.hasVertexArrays?this.gl.createVertexArray():null},h._deleteHandle=function(t){return this.hasVertexArrays&&this.gl.deleteVertexArray(t),[this.elements]},h._bindHandle=function(t){this.hasVertexArrays&&this.gl.bindVertexArray(t)},h._getParameter=function(t,e){var r=this,n=e.location;return Object(c.a)(Number.isFinite(n)),this.bind(function(){switch(t){case a.a.VERTEX_ATTRIB_ARRAY_POINTER:return r.gl.getVertexAttribOffset(n,t);default:return r.gl.getVertexAttrib(n,t)}})},i=n,(s=[{key:"MAX_ATTRIBUTES",get:function(){return n.getMaxAttributes(this.gl)}}])&&l(i.prototype,s),E&&l(i,E),n}(s.a),d=r(436),A=r(351);r.d(e,"a",function(){return g});var T=/^(.+)__LOCATION_([0-9]+)$/,R=["setBuffers","setGeneric","clearBindings","setLocations","setGenericValues","setDivisor","enable","disable"],g=function(){function t(t,e){void 0===e&&(e={});var r=e.id||e.program&&e.program.id;this.id=r,this.gl=t,this.configuration=null,this.elements=null,this.elementsAccessor=null,this.values=null,this.accessors=null,this.unused=null,this.drawParams=null,this.buffer=null,this.vertexArrayObject=h.isSupported(t)?new h(t):h.getDefaultArray(t),Object(d.a)(this,"VertexArray","v6.0",R),this.initialize(e),Object.seal(this)}var e=t.prototype;return e.delete=function(){this.buffer&&this.buffer.delete()},e.initialize=function(t){return void 0===t&&(t={}),this.reset(),this.configuration=null,this.bindOnUse=!1,this.setProps(t)},e.reset=function(){this.elements=null,this.elementsAccessor=null;var t=this.vertexArrayObject.MAX_ATTRIBUTES;return this.values=new Array(t).fill(null),this.accessors=new Array(t).fill(null),this.unused={},this.drawParams=null,this},e.setProps=function(t){return"program"in t&&(this.configuration=t.program&&t.program.configuration),"configuration"in t&&(this.configuration=t.configuration),"attributes"in t&&this.setAttributes(t.attributes),"elements"in t&&this.setElementBuffer(t.elements),"bindOnUse"in t&&(t=t.bindOnUse),this},e.clearDrawParams=function(){this.drawParams=null},e.getDrawParams=function(t){return this.drawParams=this.drawParams||this._updateDrawParams(),Object.assign({},this.drawParams,t)},e.setAttributes=function(t){var e=this;return this.vertexArrayObject.bind(function(){for(var r in t){var n=t[r];e._setAttribute(r,n)}e.gl.bindBuffer(a.a.ARRAY_BUFFER,null)}),this},e.setElementBuffer=function(t,e){return void 0===t&&(t=null),void 0===e&&(e={}),this.elements=t,this.elementsAccessor=e,this.clearDrawParams(),this.vertexArrayObject.isDefaultArray||this.vertexArrayObject.setElementBuffer(t,e),this},e.setBuffer=function(t,e,r){if(void 0===r&&(r={}),e.target===a.a.ELEMENT_ARRAY_BUFFER)return this.setElementBuffer(e,r);var n=this._resolveLocationAndAccessor(t,e,e.accessor,r),i=n.location,o=n.accessor;return i>=0&&(this.values[i]=e,this.accessors[i]=o,this.clearDrawParams(),this.vertexArrayObject.isDefaultArray||this.vertexArrayObject.setBuffer(i,e,o)),this},e.setConstant=function(t,e,r){void 0===r&&(r={});var n=this._resolveLocationAndAccessor(t,e,Object.assign({size:e.length},r)),a=n.location,i=n.accessor;return a>=0&&(e=this.vertexArrayObject._normalizeConstantArrayValue(e,i),this.values[a]=e,this.accessors[a]=i,this.clearDrawParams(),this.vertexArrayObject.isDefaultArray||this.vertexArrayObject.enable(a,!1)),this},e.unbindBuffers=function(){var t=this;return this.vertexArrayObject.bind(function(){t.elements&&t.setElementBuffer(null),t.buffer=t.buffer||new o.a(t.gl,{accessor:{size:4}});for(var e=0;e<t.vertexArrayObject.MAX_ATTRIBUTES;e++)t.values[e]instanceof o.a&&(t.gl.disableVertexAttribArray(e),t.gl.bindBuffer(a.a.ARRAY_BUFFER,t.buffer.handle),t.gl.vertexAttribPointer(e,1,a.a.FLOAT,!1,0,0))}),this},e.bindBuffers=function(){var t=this;return this.vertexArrayObject.bind(function(){t.elements&&t.setElementBuffer(t.elements);for(var e=0;e<t.vertexArrayObject.MAX_ATTRIBUTES;e++){var r=t.values[e];r instanceof o.a&&t.setBuffer(e,r)}}),this},e.bindForDraw=function(t,e,r){var n,a=this;return this.vertexArrayObject.bind(function(){a._setConstantAttributes(t,e),a.vertexArrayObject.hasVertexArrays||a.bindBuffers(),n=r(),a.vertexArrayObject.hasVertexArrays||a.unbindBuffers()}),n},e._resolveLocationAndAccessor=function(t,e,r,n){var a=this,o=this._getAttributeIndex(t),s=o.location,u=o.name;if(!Number.isFinite(s)||s<0)return this.unused[t]=e,A.a.once(3,function(){return"unused value "+t+" in "+a.id})(),this;var E=this._getAttributeInfo(u||s);if(!E)return{location:-1,accessor:null};var _=i.a.resolve(E.accessor,r,n),f=_.size,l=_.type;return Object(c.a)(Number.isFinite(f)&&Number.isFinite(l)),{location:s,accessor:_}},e._getAttributeInfo=function(t){return this.configuration&&this.configuration.getAttributeInfo(t)},e._getAttributeIndex=function(t){var e=Number(t);if(Number.isFinite(e))return{location:e};var r=T.exec(t),n=r?r[1]:t,a=r?Number(r[2]):0;return this.configuration?{location:this.configuration.getAttributeLocation(n)+a,name:n}:{location:-1}},e._setAttribute=function(t,e){if(e instanceof o.a)this.setBuffer(t,e);else if(Array.isArray(e)&&e.length&&e[0]instanceof o.a){var r=e[0],n=e[1];this.setBuffer(t,r,n)}else if(ArrayBuffer.isView(e)||Array.isArray(e)){var a=e;this.setConstant(t,a)}else{if(!(e.buffer instanceof o.a))throw new Error("VertexArray: attributes must be Buffers or constants (i.e. typed array)");var i=e;this.setBuffer(t,i.buffer,i)}},e._setConstantAttributes=function(t,e){var r=Math.max(0|t,0|e),n=this.values[0];ArrayBuffer.isView(n)&&this._setConstantAttributeZero(n,r);for(var a=1;a<this.vertexArrayObject.MAX_ATTRIBUTES;a++)n=this.values[a],ArrayBuffer.isView(n)&&this._setConstantAttribute(a,n)},e._setConstantAttributeZero=function(t,e){if(h.isSupported(this.gl,{constantAttributeZero:!0}))this._setConstantAttribute(0,t);else{var r=this.vertexArrayObject.getConstantBuffer(e,t);this.vertexArrayObject.setBuffer(0,r,this.accessors[0])}},e._setConstantAttribute=function(t,e){h.setConstant(this.gl,t,e),this.vertexArrayObject.isDefault&&this.vertexArrayObject.enable(t,!1)},e._updateDrawParams=function(){for(var t={isIndexed:!1,isInstanced:!1,indexCount:1/0,vertexCount:1/0,instanceCount:1/0},e=0;e<this.vertexArrayObject.MAX_ATTRIBUTES;e++)this._updateDrawParamsForLocation(t,e);return this.elements&&(t.elementCount=this.elements.getElementCount(this.elements.accessor),t.isIndexed=!0,t.indexType=this.elementsAccessor.type||this.elements.accessor.type,t.indexOffset=this.elementsAccessor.offset||0),t.indexCount===1/0&&(t.indexCount=0),t.vertexCount===1/0&&(t.vertexCount=0),t.instanceCount===1/0&&(t.instanceCount=0),t},e._updateDrawParamsForLocation=function(t,e){var r=this.values[e],n=this.accessors[e];if(r){var a=n.divisor>0;if(t.isInstanced=t.isInstanced||a,r instanceof o.a){var i=r;if(a){var s=i.getVertexCount(n);t.instanceCount=Math.min(t.instanceCount,s)}else{var u=i.getVertexCount(n);t.vertexCount=Math.min(t.vertexCount,u)}}}},e.setElements=function(t,e){return void 0===t&&(t=null),void 0===e&&(e={}),A.a.deprecated("setElements","setElementBuffer")(),this.setElementBuffer(t,e)},t}()}}]);
//# sourceMappingURL=1-6a74c0a776c268d1ec8b.js.map