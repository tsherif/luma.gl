(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{284:function(t,e,n){"use strict";n.r(e);var i=n(0),r=n.n(i),o=n(318),a=(n(307),n(398)),s=n(342),u=n(314),c=n(330),d=n(447),l=n(348),h=(n(312),n(4),n(437)),p=n(434);var f=[-1,0,0,0,1,0,0,0,-1,0,0,1,0,-1,0,1,0,0],v=[3,4,5,3,5,1,3,1,0,3,0,4,4,0,2,4,2,5,2,0,1,5,2,1],m=function(t){var e,n;function i(e){void 0===e&&(e={});var n=e.id,i=void 0===n?Object(p.c)("ico-sphere-geometry"):n,r=function(t){var e=t.iterations,n=void 0===e?0:e,i=Math.PI,r=2*i,o=[].concat(f),a=[].concat(v);o.push(),a.push();for(var s=function(){var t={};return function(e,n){var i=(e*=3)<(n*=3)?e:n,r=e>n?e:n,a=i+"|"+r;if(a in t)return t[a];var s=o[e],u=o[e+1],c=o[e+2],d=o[n],l=o[n+1],h=o[n+2],p=(s+d)/2,f=(u+l)/2,v=(c+h)/2,m=Math.sqrt(p*p+f*f+v*v);return p/=m,f/=m,v/=m,o.push(p,f,v),t[a]=o.length/3-1}}(),u=0;u<n;u++){for(var c=[],d=0;d<a.length;d+=3){var l=s(a[d+0],a[d+1]),p=s(a[d+1],a[d+2]),m=s(a[d+2],a[d+0]);c.push(m,a[d+0],l,l,a[d+1],p,p,a[d+2],m,l,p,m)}a=c}for(var y=new Array(o.length),g=new Array(o.length/3*2),w=a.length-3;w>=0;w-=3){var _=a[w+0],b=a[w+1],M=a[w+2],x=3*_,E=3*b,S=3*M,P=2*_,R=2*b,I=2*M,O=o[x+0],j=o[x+1],A=o[x+2],L=Math.acos(A/Math.sqrt(O*O+j*j+A*A)),T=Math.atan2(j,O)+i,N=L/i,C=1-T/r,z=o[E+0],D=o[E+1],F=o[E+2],k=Math.acos(F/Math.sqrt(z*z+D*D+F*F)),V=Math.atan2(D,z)+i,U=k/i,q=1-V/r,G=o[S+0],K=o[S+1],B=o[S+2],X=Math.acos(B/Math.sqrt(G*G+K*K+B*B)),Z=Math.atan2(K,G)+i,J=X/i,Y=1-Z/r,Q=[G-z,K-D,B-F],W=[O-z,j-D,A-F],H=new h.a(Q).cross(W).normalize(),$=void 0;(0===C||0===q||0===Y)&&(0===C||C>.5)&&(0===q||q>.5)&&(0===Y||Y>.5)&&(o.push(o[x+0],o[x+1],o[x+2]),$=o.length/3-1,a.push($),g[2*$+0]=1,g[2*$+1]=N,y[3*$+0]=H.x,y[3*$+1]=H.y,y[3*$+2]=H.z,o.push(o[E+0],o[E+1],o[E+2]),$=o.length/3-1,a.push($),g[2*$+0]=1,g[2*$+1]=U,y[3*$+0]=H.x,y[3*$+1]=H.y,y[3*$+2]=H.z,o.push(o[S+0],o[S+1],o[S+2]),$=o.length/3-1,a.push($),g[2*$+0]=1,g[2*$+1]=J,y[3*$+0]=H.x,y[3*$+1]=H.y,y[3*$+2]=H.z),y[x+0]=y[E+0]=y[S+0]=H.x,y[x+1]=y[E+1]=y[S+1]=H.y,y[x+2]=y[E+2]=y[S+2]=H.z,g[P+0]=C,g[P+1]=N,g[R+0]=q,g[R+1]=U,g[I+0]=Y,g[I+1]=J}return{indices:{size:1,value:new Uint16Array(a)},attributes:{POSITION:{size:3,value:new Float32Array(o)},NORMAL:{size:3,value:new Float32Array(y)},TEXCOORD_0:{size:2,value:new Float32Array(g)}}}}(e),o=r.indices,a=r.attributes;return t.call(this,Object.assign({},e,{id:i,indices:o,attributes:Object.assign({},a,e.attributes)}))||this}return n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,i}(u.a);var y=n(394),g=n(446),w=n(457),_=n(366);var b,M,x,E,S,P="attribute vec2 aPosition;\n\nvoid main(void) {\n  gl_Position = vec4(aPosition, 0, 1);\n}\n",R=[],I=[],O=[],j=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,i.getInfo=function(){return"\n<p>\n  Electron trails renderings persist across multiple frames.\n<p>\n  Uses multiple luma.gl <code>Framebuffer</code>s to hold previously rendered data between frames.\n</p>\n"};var r=i.prototype;return r.onInitialize=function(t){var e=t.gl,n=t.width,i=t.height;Object(a.a)(e,{clearColor:[0,0,0,1],clearDepth:1,depthTest:!0,depthFunc:e.LEQUAL,faceCulling:!0,cullFace:e.BACK}),b=new s.a(e,{width:n,height:i}),M=[new s.a(e,{width:n,height:i}),new s.a(e,{width:n,height:i})];var r=new u.a({attributes:{aPosition:{value:new Float32Array([-1,-1,1,-1,1,1,-1,-1,1,1,-1,1]),size:2}},vertexCount:6});x=new c.a(e,{id:"quad",program:new d.a(e,{vs:P,fs:"precision highp float;\n\nuniform sampler2D uTexture;\nuniform vec2 uRes;\n\nvoid main(void) {\n  vec2 p = gl_FragCoord.xy/uRes.xy;\n  gl_FragColor = texture2D(uTexture, p);\n}\n"}),geometry:r}),E=new c.a(e,{id:"persistence-quad",program:new d.a(e,{vs:P,fs:"precision highp float;\n\nuniform sampler2D uScene;\nuniform sampler2D uPersistence;\nuniform vec2 uRes;\n\nvoid main(void) {\n  vec2 p = gl_FragCoord.xy / uRes.xy;\n  vec4 cS = texture2D(uScene, p);\n  vec4 cP = texture2D(uPersistence, p);\n  gl_FragColor = mix(cS*4.0, cP, 0.9);\n}\n"}),geometry:r}),S=new l.a(e,{id:"electron",geometry:new m({iterations:4}),program:new d.a(e,{vs:"attribute vec3 positions;\nattribute vec3 normals;\n\nuniform mat4 uModelView;\nuniform mat4 uProjection;\n\nvarying vec3 normal;\n\nvoid main(void) {\n  gl_Position = uProjection * uModelView * vec4(positions, 1.0);\n  normal = vec3((uModelView * vec4(normals, 0.0)));\n}\n",fs:"precision highp float;\n\nuniform vec3 uColor;\nuniform bool uLighting;\n\nvarying vec3 normal;\n\nvoid main(void) {\n  float d = 1.0;\n  if (uLighting) {\n    vec3 l = normalize(vec3(1,1,2));\n    d = dot(normal, l);\n  }\n  gl_FragColor = vec4(uColor * d, 1);\n}\n"})});for(var o=0;o<64;o++){var p=new h.a(Math.random()-.5,Math.random()-.5,Math.random()-.5),f=Math.random()+1;p.normalize().scale(f);p.scale(1.25),R.push(p);var v=new h.a(Math.random()-.5,Math.random()-.5,Math.random()-.5),y=p.clone().cross(v).normalize(),g=4/f*.0125,_=(new w.a).rotateAxis(g,y);I.push(_)}for(var j=0;j<64;j++){var A=new h.a(Math.random()-.5,Math.random()-.5,Math.random()-.5);A=A.normalize().scale(.5),O.push(A)}},r.onRender=function(t){var e=t.gl,n=t.tick,i=t.width,r=t.height,o=t.aspect;b.resize({width:i,height:r}),M[0].resize({width:i,height:r}),M[1].resize({width:i,height:r});var a=(new w.a).perspective({fov:Object(_.e)(75),aspect:o}),s=(new w.a).lookAt({eye:[0,0,4]});Object(y.a)(e,{framebuffer:b,color:[0,0,0,1],depth:1});for(var u=0;u<64;u++){R[u]=I[u].transformVector(R[u]);var c=(new w.a).translate(R[u]);S.setPosition([c[12],c[13],c[14]]).setScale([.06125,.06125,.06125]).updateMatrix().draw({framebuffer:b,uniforms:{uModelView:s.clone().multiplyRight(S.matrix),uView:s,uProjection:a,uColor:[0,.5,1],uLighting:0}})}for(var d=0;d<64;d++){var l=(new w.a).rotateXYZ([.013*n,0,0]).rotateXYZ([0,.021*n,0]).translate(O[d]);S.setPosition([l[12],l[13],l[14]]).setScale([.25,.25,.25]).updateMatrix().draw({framebuffer:b,uniforms:{uModelView:s.clone().multiplyRight(S.matrix),uProjection:a,uColor:[1,.25,.25],uLighting:1}})}var h=n%2,p=M[h],f=M[1-h];Object(y.a)(e,{framebuffer:p,color:!0,depth:!0}),E.draw({framebuffer:p,uniforms:{uScene:b.texture,uPersistence:f.texture,uRes:[i,r]}}),Object(y.a)(e,{color:!0,depth:!0}),x.draw({uniforms:{uTexture:p.texture,uRes:[i,r]}})},i}(g.a);"undefined"==typeof window||window.website||(new j).start();n.d(e,"default",function(){return A});var A=function(t){var e,n;function i(){return t.apply(this,arguments)||this}return n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,i.prototype.render=function(){return r.a.createElement(o.a,{AnimationLoop:j,exampleConfig:this.props.pageContext.exampleConfig})},i}(r.a.Component)},314:function(t,e,n){"use strict";n.d(e,"a",function(){return u});n(130),n(306),n(4);var i=n(434),r=n(386);function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}var s={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},u=function(){function t(t){void 0===t&&(t={});var e=t,n=e.id,r=void 0===n?Object(i.c)("geometry"):n,o=e.drawMode,a=void 0===o?s.TRIANGLES:o,u=e.attributes,c=void 0===u?{}:u,d=e.indices,l=void 0===d?null:d,h=e.vertexCount,p=void 0===h?null:h;this.id=r,this.drawMode=0|a,this.attributes={},this.userData={},this._setAttributes(c,l),this.vertexCount=p||this._calculateVertexCount(this.attributes,this.indices)}a(t,null,[{key:"DRAW_MODE",get:function(){return s}}]);var e=t.prototype;return e.getVertexCount=function(){return this.vertexCount},e.getAttributes=function(){return this.indices?Object.assign({indices:this.indices},this.attributes):this.attributes},e._print=function(t){return"Geometry "+this.id+" attribute "+t},e._setAttributes=function(t,e){for(var n in e&&(this.indices=ArrayBuffer.isView(e)?{value:e,size:1}:e),t){var i=t[n];i=ArrayBuffer.isView(i)?{value:i}:i,Object(r.a)(ArrayBuffer.isView(i.value),this._print(n)+": must be typed array or object with value as typed array"),"POSITION"!==n&&"positions"!==n||i.size||(i.size=3),"indices"===n?(Object(r.a)(!this.indices),this.indices=i):this.attributes[n]=i}return this.indices&&void 0!==this.indices.isIndexed&&(this.indices=Object.assign({},this.indices),delete this.indices.isIndexed),this},e._calculateVertexCount=function(t,e){if(e)return e.value.length;var n=1/0;for(var i in t){var o=t[i],a=o.value,s=o.size;!o.constant&&a&&s>=1&&(n=Math.min(n,a.length/s))}return Object(r.a)(Number.isFinite(n)),n},a(t,[{key:"mode",get:function(){return this.drawMode}}]),t}()},320:function(t,e,n){"use strict";n(27),n(17),n(98),n(39),n(55),n(131),n(132),n(74),n(3),n(5),n(2),n(73),n(96),n(10),n(7),n(1),Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r="undefined"!=typeof window&&window.addEventListener,o=new Map,a=function(){return r&&window.__SEER_INITIALIZED__},s=function(t,e){var n=o.get(t),i=Date.now();return!!(n&&i-n<e)||(o.set(t,i),!1)},u=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r&&a()){var n=new Set,o=JSON.stringify(e,function(t){return function(e,n){if(!n||"object"!==(void 0===n?"undefined":i(n))||!t.has(n))return t.add(n),Object.prototype.toString.call(n).slice(8,-1).includes("Array")?Array.prototype.slice.call(n,0,20):n}}(n));try{window.postMessage({type:t,payload:o,source:"seer-agent"},"*")}catch(u){if(s("seer-log",2e3))return;console.log(u)}}},c=new Map,d=function(t){if(t&&t.data&&"seer-core"===t.data.source){var e=t.data,n=e.type,i=e.payload,r=c.get(n);r&&r.forEach(function(t){return t(i)})}},l=function(){r&&!window.__SEER_LISTENER__&&(window.addEventListener("message",d),window.__SEER_LISTENER__=!0)};e.default={send:u,throttle:s,isReady:a,list:function(t,e){return u("LIST",{key:t,data:e})},listItem:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return u("LIST_ITEM",{key:t,itemKey:e,data:n})},updateItem:function(t,e,n,i){return u("UPDATE_ITEM",{key:t,itemKey:e,path:n,data:i})},multiUpdate:function(t,e,n){return u("MULTI_UPDATE_ITEM",{key:t,itemKey:e,array:n})},deleteItem:function(t,e){return u("DELETE_ITEM",{key:t,itemKey:e})},addLog:function(t,e,n){return u("ADD_LOG",{key:t,itemKey:e,msg:n})},listeners:c,listenFor:function(t,e){if(r){if(!t||!e)throw new Error("Please provide a type and callback");c.has(t)||c.set(t,[]),window.__SEER_LISTENER__||l(),c.get(t).push(e)}},removeListener:function(t){c.forEach(function(e,n){c.set(n,e.filter(function(e){return e!==t}))})},init:l,clean:function(){r&&window.__SEER_LISTENER__&&(window.removeEventListener("message",d),delete window.__SEER_LISTENER__)}}},348:function(t,e,n){"use strict";var i=n(330),r=(n(4),n(39),n(2),n(15),n(437)),o=n(457),a=n(434),s=n(386),u=function(){function t(t){void 0===t&&(t={});var e=t.id;this.id=e||Object(a.c)(this.constructor.name),this.display=!0,this.position=new r.a,this.rotation=new r.a,this.scale=new r.a(1,1,1),this.matrix=new o.a,this.userData={},this.props={},this._setScenegraphNodeProps(t)}var e=t.prototype;return e.delete=function(){},e.setProps=function(t){return this._setScenegraphNodeProps(t),this},e.toString=function(){return"{type: ScenegraphNode, id: "+this.id+")}"},e.setPosition=function(t){return Object(s.a)(3===t.length,"setPosition requires vector argument"),this.position=t,this},e.setRotation=function(t){return Object(s.a)(3===t.length,"setRotation requires vector argument"),this.rotation=t,this},e.setScale=function(t){return Object(s.a)(3===t.length,"setScale requires vector argument"),this.scale=t,this},e.setMatrix=function(t,e){void 0===e&&(e=!0),e?this.matrix.copy(t):this.matrix=t},e.setMatrixComponents=function(t){var e=t.position,n=t.rotation,i=t.scale,r=t.update,o=void 0===r||r;return e&&this.setPosition(e),n&&this.setRotation(n),i&&this.setScale(i),o&&this.updateMatrix(),this},e.updateMatrix=function(){var t=this.position,e=this.rotation,n=this.scale;return this.matrix.identity(),this.matrix.translate(t),this.matrix.rotateXYZ(e),this.matrix.scale(n),this},e.update=function(t){var e=void 0===t?{}:t,n=e.position,i=e.rotation,r=e.scale;return n&&this.setPosition(n),i&&this.setRotation(i),r&&this.setScale(r),this.updateMatrix(),this},e.getCoordinateUniforms=function(t,e){Object(s.a)(t),e=e||this.matrix;var n=new o.a(t).multiplyRight(e),i=n.invert(),r=i.transpose();return{viewMatrix:t,modelMatrix:e,objectMatrix:e,worldMatrix:n,worldInverseMatrix:i,worldInverseTransposeMatrix:r}},e._setScenegraphNodeProps=function(t){"display"in t&&(this.display=t.display),"position"in t&&this.setPosition(t.position),"rotation"in t&&this.setRotation(t.rotation),"scale"in t&&this.setScale(t.scale),"matrix"in t&&this.setMatrix(t.matrix),Object.assign(this.props,t)},t}();n.d(e,"a",function(){return c});var c=function(t){var e,n;function r(e,n){var r;return void 0===n&&(n={}),(r=t.call(this,n)||this).onBeforeRender=null,r.AfterRender=null,e instanceof i.a?(r.model=e,r._setModelNodeProps(n)):r.model=new i.a(e,n),r.managedResources=n.managedResources||[],r}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=r.prototype;return o.setProps=function(e){return t.prototype.setProps.call(this,e),this._setModelNodeProps(e),this},o.delete=function(){this.model&&(this.model.delete(),this.model=null),this.managedResources.forEach(function(t){return t.delete()}),this.managedResources=[]},o.draw=function(){var t;return(t=this.model).draw.apply(t,arguments)},o.setUniforms=function(){var t;return(t=this.model).setUniforms.apply(t,arguments),this},o.setAttributes=function(){var t;return(t=this.model).setAttributes.apply(t,arguments),this},o.updateModuleSettings=function(){var t;return(t=this.model).updateModuleSettings.apply(t,arguments),this},o._setModelNodeProps=function(t){this.model.setProps(t)},r}(u)}}]);
//# sourceMappingURL=component---templates-core-example-persistence-jsx-ae05b14073518f4ae97a.js.map