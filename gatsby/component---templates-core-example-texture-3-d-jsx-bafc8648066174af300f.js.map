{"version":3,"sources":["webpack:///../examples/core/texture-3d/perlin.js","webpack:///../examples/core/texture-3d/app.js","webpack:///./templates/core/example-texture-3d.jsx","webpack:///../node_modules/seer/dist/index.js"],"names":["lerp","a","b","t","range","result","i","shuffle","array","random","randomIndex","currentIndex","length","swapValue","Math","fade","x","grad","hash","y","z","h","u","v","AppAnimationLoop","props","_this","_AnimationLoop","call","this","Object","assign","useDevicePixels","isDemoSupported","getInfo","onInitialize","gl","_ref","isWebGL2","noise","params","TypeError","interpolation","Array","permutation","Error","irp","p","fx","fy","fz","X","Y","Z","w","A","AA","AB","B","BA","BB","perlin","setParameters","clearColor","blend","blendFunc","ONE","ONE_MINUS_SRC_ALPHA","positionData","Float32Array","DIMENSIONS","positionIndex","j","k","positionBuffer","buffer","textureData","Uint8Array","TEXTURE_DIMENSIONS","textureIndex","_i","_j","_k","mvpMat","matrix4","viewMat","lookAt","eye","texture","texture_3d","width","height","depth","data","format","RED","dataFormat","R8","cloud","model","vs","fs","drawMode","POINTS","vertexCount","attributes","position","uniforms","uTexture","uView","onRender","animationProps","tick","aspect","fov","radians","near","far","uTime","uMVP","onFinalize","_ref2","isSupported","getAltText","AnimationLoop","window","website","app_AppAnimationLoop","animationLoop","Example","render","react_default","createElement","animation_loop_example_page","exampleConfig","pageContext","React","Component","__webpack_require__","defineProperty","exports","value","_typeof","Symbol","iterator","obj","constructor","prototype","isBrowser","addEventListener","timers","Map","isReady","__SEER_INITIALIZED__","throttle","key","delay","time","get","now","Date","set","send","type","arguments","undefined","seen","Set","payload","JSON","stringify","has","add","toString","slice","includes","replacer","postMessage","source","e","console","log","listeners","listener","message","_message$data","typeListeners","forEach","cb","init","__SEER_LISTENER__","list","listItem","itemKey","updateItem","path","multiUpdate","deleteItem","addLog","msg","listenFor","push","removeListener","filter","l","clean","removeEventListener"],"mappings":"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","file":"component---templates-core-example-texture-3-d-jsx-bafc8648066174af300f.js","sourcesContent":["// Ported from https://github.com/BartVanBeurden/node-noise3d\n// Used under WTFPL\n/* eslint-disable */\n\nexport function nearestNeighbour(a, b, t) {\n  return t < 0.5 ? a : b;\n}\n\nexport function lerp(a, b, t) {\n  return a + t * (b - a);\n}\n\nexport function cosine(a, b, t) {\n  t = (1 - Math.cos(t * Math.PI)) * 0.5;\n  return a + t * (b - a);\n}\n\nexport function range(a, b) {\n  var result = [];\n  for (var i = a; i <= b; i++) {\n    result.push(i);\n  }\n  return result;\n}\n\nexport function shuffle(array, random) {\n  // Fisher-Yates\n  var currentIndex = array.length;\n  var swapValue = 0;\n  var randomIndex;\n\n  while (currentIndex) {\n    randomIndex = Math.floor(random() * currentIndex);\n    currentIndex -= 1;\n\n    swapValue = array[currentIndex];\n    array[currentIndex] = array[randomIndex];\n    array[randomIndex] = swapValue;\n  }\n\n  return array;\n}\n\nvar fade = function(x) {\n  return x * x * x * (x * (x * 6 - 15) + 10);\n};\n\nvar grad = function(hash, x, y, z) {\n  var h = hash & 15;\n  var u = h < 8 ? x : y;\n  var v = h < 4 ? y : h == 12 || h == 14 ? x : z;\n  return (h & 1 ? -u : u) + (h & 2 ? -v : v);\n};\n\nexport function perlin(params) {\n  if (typeof params != 'object') throw new TypeError('params is not an object');\n  if (typeof params.interpolation != 'function')\n    throw new TypeError('params.interpolation is not a function');\n  if (!Array.isArray(params.permutation)) throw new TypeError('params.permutation is not an array');\n  if (params.permutation.length != 256) throw new Error('params.permutation must have 256 items');\n\n  var irp = params.interpolation;\n  var p = params.permutation.slice(0);\n\n  for (var i = 0; i < 256; i++) p[256 + i] = p[i];\n\n  return function(x, y, z) {\n    var fx = Math.floor(x);\n    var fy = Math.floor(y);\n    var fz = Math.floor(z);\n\n    var X = fx & 255;\n    var Y = fy & 255;\n    var Z = fz & 255;\n\n    x -= fx;\n    y -= fy;\n    z -= fz;\n\n    var u = fade(x);\n    var v = fade(y);\n    var w = fade(z);\n\n    var A = p[X] + Y;\n    var AA = p[A] + Z;\n    var AB = p[A + 1] + Z;\n    var B = p[X + 1] + Y;\n    var BA = p[B] + Z;\n    var BB = p[B + 1] + Z;\n\n    return irp(\n      irp(\n        irp(grad(p[AA], x, y, z), grad(p[BA], x - 1, y, z), u),\n        irp(grad(p[AB], x, y - 1, z), grad(p[BB], x - 1, y - 1, z), u),\n        v\n      ),\n      irp(\n        irp(grad(p[AA + 1], x, y, z - 1), grad(p[BA + 1], x - 1, y, z - 1), u),\n        irp(grad(p[AB + 1], x, y - 1, z - 1), grad(p[BB + 1], x - 1, y - 1, z - 1), u),\n        v\n      ),\n      w\n    );\n  };\n}\n","import {AnimationLoop, setParameters, Model, Texture3D, Buffer, isWebGL2} from '@luma.gl/core';\nimport {Matrix4, radians} from 'math.gl';\nimport {perlin, lerp, shuffle, range} from './perlin';\n\n/*\n  Ported from PicoGL.js example: https://tsherif.github.io/picogl.js/examples/3Dtexture.html\n*/\n\nconst INFO_HTML = `\n<p>\nVolumetric 3D noise visualized using a <b>3D texture</b>.\n<p>\nUses the luma.gl <code>Texture3D</code> class.\n`;\n\nconst vs = `\\\n#version 300 es\nin vec3 position;\n\nuniform mat4 uMVP;\n\nout vec3 vUV;\nvoid main() {\n  vUV = position.xyz + 0.5;\n  gl_Position = uMVP * vec4(position, 1.0);\n  gl_PointSize = 2.0;\n}`;\n\nconst fs = `\\\n#version 300 es\nprecision highp float;\nprecision lowp sampler3D;\nin vec3 vUV;\nuniform sampler3D uTexture;\nuniform float uTime;\nout vec4 fragColor;\nvoid main() {\n  float alpha = texture(uTexture, vUV + vec3(0.0, 0.0, uTime)).r * 0.1;\n  fragColor = vec4(fract(vUV) * alpha, alpha);\n}`;\n\nconst NEAR = 0.1;\nconst FAR = 10.0;\nconst ALT_TEXT = \"THIS DEMO REQUIRES WEBLG2, BUT YOUR BROWSER DOESN'T SUPPORT IT\";\n\nexport default class AppAnimationLoop extends AnimationLoop {\n  static getInfo() {\n    return INFO_HTML;\n  }\n\n  constructor(props = {}) {\n    super(Object.assign(props, {useDevicePixels: true}));\n    // Default value is true, so GL context is always created to verify wheter it is WebGL2 or not.\n    this.isDemoSupported = true;\n  }\n\n  onInitialize({gl}) {\n    this.isDemoSupported = isWebGL2(gl);\n    if (!this.isDemoSupported) {\n      return {};\n    }\n    const noise = perlin({\n      interpolation: lerp,\n      permutation: shuffle(range(0, 255), Math.random)\n    });\n\n    setParameters(gl, {\n      clearColor: [0, 0, 0, 1],\n      blend: true,\n      blendFunc: [gl.ONE, gl.ONE_MINUS_SRC_ALPHA]\n    });\n\n    // CREATE POINT CLOUD\n    const DIMENSIONS = 128;\n    const INCREMENT = 1 / DIMENSIONS;\n\n    const positionData = new Float32Array(DIMENSIONS * DIMENSIONS * DIMENSIONS * 3);\n    let positionIndex = 0;\n    let x = -0.5;\n    for (let i = 0; i < DIMENSIONS; ++i) {\n      let y = -0.5;\n      for (let j = 0; j < DIMENSIONS; ++j) {\n        let z = -0.5;\n        for (let k = 0; k < DIMENSIONS; ++k) {\n          positionData[positionIndex++] = x;\n          positionData[positionIndex++] = y;\n          positionData[positionIndex++] = z;\n          z += INCREMENT;\n        }\n        y += INCREMENT;\n      }\n      x += INCREMENT;\n    }\n\n    const positionBuffer = new Buffer(gl, positionData);\n\n    // CREATE 3D TEXTURE\n    const TEXTURE_DIMENSIONS = 16;\n    const NOISE_DIMENSIONS = TEXTURE_DIMENSIONS * 0.07;\n    const textureData = new Uint8Array(\n      TEXTURE_DIMENSIONS * TEXTURE_DIMENSIONS * TEXTURE_DIMENSIONS\n    );\n    let textureIndex = 0;\n    for (let i = 0; i < TEXTURE_DIMENSIONS; ++i) {\n      for (let j = 0; j < TEXTURE_DIMENSIONS; ++j) {\n        for (let k = 0; k < TEXTURE_DIMENSIONS; ++k) {\n          textureData[textureIndex++] =\n            (0.5 + 0.5 * noise(i / NOISE_DIMENSIONS, j / NOISE_DIMENSIONS, k / NOISE_DIMENSIONS)) *\n            255;\n        }\n      }\n    }\n\n    const mvpMat = new Matrix4();\n    const viewMat = new Matrix4().lookAt({eye: [1, 1, 1]});\n\n    const texture = new Texture3D(gl, {\n      width: TEXTURE_DIMENSIONS,\n      height: TEXTURE_DIMENSIONS,\n      depth: TEXTURE_DIMENSIONS,\n      data: textureData,\n      format: gl.RED,\n      dataFormat: gl.R8\n    });\n\n    const cloud = new Model(gl, {\n      vs,\n      fs,\n      drawMode: gl.POINTS,\n      vertexCount: positionData.length / 3,\n      attributes: {\n        position: positionBuffer\n      },\n      uniforms: {\n        uTexture: texture,\n        uView: viewMat\n      }\n    });\n\n    return {cloud, mvpMat, viewMat};\n  }\n\n  onRender(animationProps) {\n    const {gl, cloud, mvpMat, viewMat, tick, aspect} = animationProps;\n    if (!this.isDemoSupported) {\n      return;\n    }\n\n    mvpMat.perspective({fov: radians(75), aspect, near: NEAR, far: FAR}).multiplyRight(viewMat);\n\n    // Draw the cubes\n    gl.clear(gl.COLOR_BUFFER_BIT);\n    cloud.draw({\n      uniforms: {\n        uTime: tick / 100,\n        uMVP: mvpMat\n      }\n    });\n  }\n\n  onFinalize({gl, cloud}) {\n    if (cloud) {\n      cloud.delete();\n    }\n  }\n\n  isSupported() {\n    return this.isDemoSupported;\n  }\n\n  getAltText() {\n    return ALT_TEXT;\n  }\n}\n\n/* global window */\nif (typeof window !== 'undefined' && !window.website) {\n  const animationLoop = new AppAnimationLoop();\n  animationLoop.start();\n}\n","import React from 'react';\nimport AnimationLoopExamplePage from '../../src/components/animation-loop-example-page';\nimport AnimationLoop from '../../../examples/core/texture-3d/app';\n\nexport default class Example extends React.Component {\n  render() {\n    return (\n      <AnimationLoopExamplePage AnimationLoop={AnimationLoop} exampleConfig={this.props.pageContext.exampleConfig} />\n    );\n  }\n}\n","'use strict';\n\nrequire(\"core-js/modules/es6.array.filter\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/es6.set\");\n\nrequire(\"core-js/modules/es6.regexp.to-string\");\n\nrequire(\"core-js/modules/es6.date.to-string\");\n\nrequire(\"core-js/modules/es7.array.includes\");\n\nrequire(\"core-js/modules/es6.string.includes\");\n\nrequire(\"core-js/modules/es6.date.now\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.string.iterator\");\n\nrequire(\"core-js/modules/es6.map\");\n\nrequire(\"core-js/modules/es7.symbol.async-iterator\");\n\nrequire(\"core-js/modules/es6.symbol\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n}; // Copyright (c) 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n\nvar isBrowser = typeof window !== 'undefined' && window.addEventListener;\nvar timers = new Map();\n/**\n * Ready check for Seer initialization\n *\n * @returns {Boolean}\n */\n\nvar isReady = function isReady() {\n  return isBrowser && window.__SEER_INITIALIZED__;\n};\n/**\n * Utility method allowing to throttle a user action based on a key and a minimun delay.\n *\n * @param key {String} A unique key\n * @param delay {Number} The minimal delay to throttle\n * @returns {Boolean}\n */\n\n\nvar throttle = function throttle(key, delay) {\n  var time = timers.get(key);\n  var now = Date.now();\n\n  if (time && now - time < delay) {\n    return true;\n  }\n\n  timers.set(key, now);\n  return false;\n};\n\nvar replacer = function replacer(seen) {\n  return function (key, value) {\n    if (value && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && seen.has(value)) {\n      return;\n    }\n\n    seen.add(value);\n    var isArray = Object.prototype.toString.call(value).slice(8, -1).includes('Array');\n\n    if (isArray) {\n      return Array.prototype.slice.call(value, 0, 20);\n    }\n\n    return value;\n  };\n};\n/**\n * Low-level api leveraging window.postMessage\n *\n * @param type {String} The action type\n * @param payload {Any} The action payload\n */\n\n\nvar send = function send(type) {\n  var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (!isBrowser || !isReady()) {\n    return;\n  }\n\n  var seen = new Set();\n  var payload = JSON.stringify(data, replacer(seen));\n\n  try {\n    window.postMessage({\n      type: type,\n      payload: payload,\n      source: 'seer-agent'\n    }, '*');\n  } catch (e) {\n    if (throttle('seer-log', 2E3)) {\n      return;\n    }\n\n    console.log(e); // eslint-disable-line\n  }\n};\n\nvar listeners = new Map();\n\nvar listener = function listener(message) {\n  if (!message || !message.data || message.data.source !== 'seer-core') {\n    return;\n  }\n\n  var _message$data = message.data,\n      type = _message$data.type,\n      payload = _message$data.payload;\n  var typeListeners = listeners.get(type);\n\n  if (typeListeners) {\n    typeListeners.forEach(function (cb) {\n      return cb(payload);\n    });\n  }\n};\n/**\n * Initilize window listener. There will be only one for the whole process\n * to prevent too many registrations.\n *\n * This method will be called automatically if you use the `listenFor` method.\n */\n\n\nvar init = function init() {\n  if (!isBrowser || window.__SEER_LISTENER__) {\n    return;\n  }\n\n  window.addEventListener('message', listener);\n  window.__SEER_LISTENER__ = true;\n};\n/**\n * Clean listener. Can be useful in case you want to unregister upcoming events\n * or liberate memory.\n */\n\n\nvar clean = function clean() {\n  if (!isBrowser || !window.__SEER_LISTENER__) {\n    return;\n  }\n\n  window.removeEventListener('message', listener);\n  delete window.__SEER_LISTENER__;\n};\n/**\n * Create a listener that will be called upon events of the given key.\n *\n * @param key {String} The unique tab key\n * @param cb {Function} A callback that will receive the message payload\n */\n\n\nvar listenFor = function listenFor(type, cb) {\n  if (!isBrowser) {\n    return;\n  }\n\n  if (!type || !cb) {\n    throw new Error('Please provide a type and callback');\n  }\n\n  if (!listeners.has(type)) {\n    listeners.set(type, []);\n  }\n\n  if (!window.__SEER_LISTENER__) {\n    init();\n  }\n\n  listeners.get(type).push(cb);\n};\n/**\n * Remove an identity listener\n *\n * @param cb {Function} The callback to remove\n */\n\n\nvar removeListener = function removeListener(cb) {\n  listeners.forEach(function (typeListeners, key) {\n    listeners.set(key, typeListeners.filter(function (l) {\n      return l !== cb;\n    }));\n  });\n};\n/**\n * Creates a new indexed list.\n * It works by index to get O(1) accessing and performance.\n *\n * @param key {String} The key of the tab\n * @param data {Object} The indexed object\n */\n\n\nvar list = function list(key, data) {\n  return send('LIST', {\n    key: key,\n    data: data\n  });\n};\n/**\n * Creates an element in the indexed list, based on the itemKey.\n *\n * @param key {String} The key of the tab\n * @param itemKey {String} The key of the item\n * @param data {Any} The value of the item\n */\n\n\nvar listItem = function listItem(key, itemKey) {\n  var data = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  return send('LIST_ITEM', {\n    key: key,\n    itemKey: itemKey,\n    data: data\n  });\n};\n/**\n * Update an item property, can be deeply nested.\n *\n * @param key {String} The key of the tab\n * @param itemKey {String} The key of the item\n * @param path {String} The path of the variable you want to update\n * @param data {Object} The new value\n */\n\n\nvar updateItem = function updateItem(key, itemKey, path, data) {\n  return send('UPDATE_ITEM', {\n    key: key,\n    itemKey: itemKey,\n    path: path,\n    data: data\n  });\n};\n/**\n * Similar to updateItem, but allows to pass an array with {path,data} pairs for\n * multiple update of the same item without having to send multiple messages.\n *\n * @param key {String} The key of the tab\n * @param itemKey {String} The key of the item\n * @param array {Array} The array of updates\n * @param array.path {String} The path for this update\n * @param array.data {Object} The value of this update\n */\n\n\nvar multiUpdate = function multiUpdate(key, itemKey, array) {\n  return send('MULTI_UPDATE_ITEM', {\n    key: key,\n    itemKey: itemKey,\n    array: array\n  });\n};\n/**\n * Remove a specific item in a specific tab.\n *\n * @param key {String} They key of the tab\n * @param itemKey {String} The key of the item\n */\n\n\nvar deleteItem = function deleteItem(key, itemKey) {\n  return send('DELETE_ITEM', {\n    key: key,\n    itemKey: itemKey\n  });\n};\n/**\n * Will create a log message to an item, that will be displayde with the current time.\n *\n * @param key {String} The key of the tab\n * @param itemKey {String} The key of the item\n * @param msg {String} The message to display\n */\n\n\nvar addLog = function addLog(key, itemKey, msg) {\n  return send('ADD_LOG', {\n    key: key,\n    itemKey: itemKey,\n    msg: msg\n  });\n};\n\nexports[\"default\"] = {\n  send: send,\n  throttle: throttle,\n  isReady: isReady,\n  list: list,\n  listItem: listItem,\n  updateItem: updateItem,\n  multiUpdate: multiUpdate,\n  deleteItem: deleteItem,\n  addLog: addLog,\n  listeners: listeners,\n  listenFor: listenFor,\n  removeListener: removeListener,\n  init: init,\n  clean: clean\n};"],"sourceRoot":""}