(window.webpackJsonp=window.webpackJsonp||[]).push([[20,1,3],{276:function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return s});var n=r(0),i=r.n(n),a=r(449);r(277);"undefined"!=typeof window&&(window.website=!0);var o=r(448).default,s=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.render=function(){return i.a.createElement(a.a,{HeroExample:o})},n}(i.a.Component)},308:function(e,t){e.exports={DEPTH_BUFFER_BIT:256,STENCIL_BUFFER_BIT:1024,COLOR_BUFFER_BIT:16384,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,ZERO:0,ONE:1,SRC_COLOR:768,ONE_MINUS_SRC_COLOR:769,SRC_ALPHA:770,ONE_MINUS_SRC_ALPHA:771,DST_ALPHA:772,ONE_MINUS_DST_ALPHA:773,DST_COLOR:774,ONE_MINUS_DST_COLOR:775,SRC_ALPHA_SATURATE:776,CONSTANT_COLOR:32769,ONE_MINUS_CONSTANT_COLOR:32770,CONSTANT_ALPHA:32771,ONE_MINUS_CONSTANT_ALPHA:32772,FUNC_ADD:32774,FUNC_SUBTRACT:32778,FUNC_REVERSE_SUBTRACT:32779,BLEND_EQUATION:32777,BLEND_EQUATION_RGB:32777,BLEND_EQUATION_ALPHA:34877,BLEND_DST_RGB:32968,BLEND_SRC_RGB:32969,BLEND_DST_ALPHA:32970,BLEND_SRC_ALPHA:32971,BLEND_COLOR:32773,ARRAY_BUFFER_BINDING:34964,ELEMENT_ARRAY_BUFFER_BINDING:34965,LINE_WIDTH:2849,ALIASED_POINT_SIZE_RANGE:33901,ALIASED_LINE_WIDTH_RANGE:33902,CULL_FACE_MODE:2885,FRONT_FACE:2886,DEPTH_RANGE:2928,DEPTH_WRITEMASK:2930,DEPTH_CLEAR_VALUE:2931,DEPTH_FUNC:2932,STENCIL_CLEAR_VALUE:2961,STENCIL_FUNC:2962,STENCIL_FAIL:2964,STENCIL_PASS_DEPTH_FAIL:2965,STENCIL_PASS_DEPTH_PASS:2966,STENCIL_REF:2967,STENCIL_VALUE_MASK:2963,STENCIL_WRITEMASK:2968,STENCIL_BACK_FUNC:34816,STENCIL_BACK_FAIL:34817,STENCIL_BACK_PASS_DEPTH_FAIL:34818,STENCIL_BACK_PASS_DEPTH_PASS:34819,STENCIL_BACK_REF:36003,STENCIL_BACK_VALUE_MASK:36004,STENCIL_BACK_WRITEMASK:36005,VIEWPORT:2978,SCISSOR_BOX:3088,COLOR_CLEAR_VALUE:3106,COLOR_WRITEMASK:3107,UNPACK_ALIGNMENT:3317,PACK_ALIGNMENT:3333,MAX_TEXTURE_SIZE:3379,MAX_VIEWPORT_DIMS:3386,SUBPIXEL_BITS:3408,RED_BITS:3410,GREEN_BITS:3411,BLUE_BITS:3412,ALPHA_BITS:3413,DEPTH_BITS:3414,STENCIL_BITS:3415,POLYGON_OFFSET_UNITS:10752,POLYGON_OFFSET_FACTOR:32824,TEXTURE_BINDING_2D:32873,SAMPLE_BUFFERS:32936,SAMPLES:32937,SAMPLE_COVERAGE_VALUE:32938,SAMPLE_COVERAGE_INVERT:32939,COMPRESSED_TEXTURE_FORMATS:34467,VENDOR:7936,RENDERER:7937,VERSION:7938,IMPLEMENTATION_COLOR_READ_TYPE:35738,IMPLEMENTATION_COLOR_READ_FORMAT:35739,BROWSER_DEFAULT_WEBGL:37444,STATIC_DRAW:35044,STREAM_DRAW:35040,DYNAMIC_DRAW:35048,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,BUFFER_SIZE:34660,BUFFER_USAGE:34661,CURRENT_VERTEX_ATTRIB:34342,VERTEX_ATTRIB_ARRAY_ENABLED:34338,VERTEX_ATTRIB_ARRAY_SIZE:34339,VERTEX_ATTRIB_ARRAY_STRIDE:34340,VERTEX_ATTRIB_ARRAY_TYPE:34341,VERTEX_ATTRIB_ARRAY_NORMALIZED:34922,VERTEX_ATTRIB_ARRAY_POINTER:34373,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:34975,CULL_FACE:2884,FRONT:1028,BACK:1029,FRONT_AND_BACK:1032,BLEND:3042,DEPTH_TEST:2929,DITHER:3024,POLYGON_OFFSET_FILL:32823,SAMPLE_ALPHA_TO_COVERAGE:32926,SAMPLE_COVERAGE:32928,SCISSOR_TEST:3089,STENCIL_TEST:2960,NO_ERROR:0,INVALID_ENUM:1280,INVALID_VALUE:1281,INVALID_OPERATION:1282,OUT_OF_MEMORY:1285,CONTEXT_LOST_WEBGL:37442,CW:2304,CCW:2305,DONT_CARE:4352,FASTEST:4353,NICEST:4354,GENERATE_MIPMAP_HINT:33170,BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,DEPTH_COMPONENT:6402,ALPHA:6406,RGB:6407,RGBA:6408,LUMINANCE:6409,LUMINANCE_ALPHA:6410,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,FRAGMENT_SHADER:35632,VERTEX_SHADER:35633,COMPILE_STATUS:35713,DELETE_STATUS:35712,LINK_STATUS:35714,VALIDATE_STATUS:35715,ATTACHED_SHADERS:35717,ACTIVE_ATTRIBUTES:35721,ACTIVE_UNIFORMS:35718,MAX_VERTEX_ATTRIBS:34921,MAX_VERTEX_UNIFORM_VECTORS:36347,MAX_VARYING_VECTORS:36348,MAX_COMBINED_TEXTURE_IMAGE_UNITS:35661,MAX_VERTEX_TEXTURE_IMAGE_UNITS:35660,MAX_TEXTURE_IMAGE_UNITS:34930,MAX_FRAGMENT_UNIFORM_VECTORS:36349,SHADER_TYPE:35663,SHADING_LANGUAGE_VERSION:35724,CURRENT_PROGRAM:35725,NEVER:512,ALWAYS:519,LESS:513,EQUAL:514,LEQUAL:515,GREATER:516,GEQUAL:518,NOTEQUAL:517,KEEP:7680,REPLACE:7681,INCR:7682,DECR:7683,INVERT:5386,INCR_WRAP:34055,DECR_WRAP:34056,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TEXTURE_2D:3553,TEXTURE:5890,TEXTURE_CUBE_MAP:34067,TEXTURE_BINDING_CUBE_MAP:34068,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074,MAX_CUBE_MAP_TEXTURE_SIZE:34076,TEXTURE0:33984,ACTIVE_TEXTURE:34016,REPEAT:10497,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,TEXTURE_WIDTH:4096,TEXTURE_HEIGHT:4097,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,SAMPLER_2D:35678,SAMPLER_CUBE:35680,LOW_FLOAT:36336,MEDIUM_FLOAT:36337,HIGH_FLOAT:36338,LOW_INT:36339,MEDIUM_INT:36340,HIGH_INT:36341,FRAMEBUFFER:36160,RENDERBUFFER:36161,RGBA4:32854,RGB5_A1:32855,RGB565:36194,DEPTH_COMPONENT16:33189,STENCIL_INDEX:6401,STENCIL_INDEX8:36168,DEPTH_STENCIL:34041,RENDERBUFFER_WIDTH:36162,RENDERBUFFER_HEIGHT:36163,RENDERBUFFER_INTERNAL_FORMAT:36164,RENDERBUFFER_RED_SIZE:36176,RENDERBUFFER_GREEN_SIZE:36177,RENDERBUFFER_BLUE_SIZE:36178,RENDERBUFFER_ALPHA_SIZE:36179,RENDERBUFFER_DEPTH_SIZE:36180,RENDERBUFFER_STENCIL_SIZE:36181,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:36048,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:36049,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:36050,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:36051,COLOR_ATTACHMENT0:36064,DEPTH_ATTACHMENT:36096,STENCIL_ATTACHMENT:36128,DEPTH_STENCIL_ATTACHMENT:33306,NONE:0,FRAMEBUFFER_COMPLETE:36053,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:36054,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:36055,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:36057,FRAMEBUFFER_UNSUPPORTED:36061,FRAMEBUFFER_BINDING:36006,RENDERBUFFER_BINDING:36007,READ_FRAMEBUFFER:36008,DRAW_FRAMEBUFFER:36009,MAX_RENDERBUFFER_SIZE:34024,INVALID_FRAMEBUFFER_OPERATION:1286,UNPACK_FLIP_Y_WEBGL:37440,UNPACK_PREMULTIPLY_ALPHA_WEBGL:37441,UNPACK_COLORSPACE_CONVERSION_WEBGL:37443,READ_BUFFER:3074,UNPACK_ROW_LENGTH:3314,UNPACK_SKIP_ROWS:3315,UNPACK_SKIP_PIXELS:3316,PACK_ROW_LENGTH:3330,PACK_SKIP_ROWS:3331,PACK_SKIP_PIXELS:3332,TEXTURE_BINDING_3D:32874,UNPACK_SKIP_IMAGES:32877,UNPACK_IMAGE_HEIGHT:32878,MAX_3D_TEXTURE_SIZE:32883,MAX_ELEMENTS_VERTICES:33e3,MAX_ELEMENTS_INDICES:33001,MAX_TEXTURE_LOD_BIAS:34045,MAX_FRAGMENT_UNIFORM_COMPONENTS:35657,MAX_VERTEX_UNIFORM_COMPONENTS:35658,MAX_ARRAY_TEXTURE_LAYERS:35071,MIN_PROGRAM_TEXEL_OFFSET:35076,MAX_PROGRAM_TEXEL_OFFSET:35077,MAX_VARYING_COMPONENTS:35659,FRAGMENT_SHADER_DERIVATIVE_HINT:35723,RASTERIZER_DISCARD:35977,VERTEX_ARRAY_BINDING:34229,MAX_VERTEX_OUTPUT_COMPONENTS:37154,MAX_FRAGMENT_INPUT_COMPONENTS:37157,MAX_SERVER_WAIT_TIMEOUT:37137,MAX_ELEMENT_INDEX:36203,RED:6403,RGB8:32849,RGBA8:32856,RGB10_A2:32857,TEXTURE_3D:32879,TEXTURE_WRAP_R:32882,TEXTURE_MIN_LOD:33082,TEXTURE_MAX_LOD:33083,TEXTURE_BASE_LEVEL:33084,TEXTURE_MAX_LEVEL:33085,TEXTURE_COMPARE_MODE:34892,TEXTURE_COMPARE_FUNC:34893,SRGB:35904,SRGB8:35905,SRGB8_ALPHA8:35907,COMPARE_REF_TO_TEXTURE:34894,RGBA32F:34836,RGB32F:34837,RGBA16F:34842,RGB16F:34843,TEXTURE_2D_ARRAY:35866,TEXTURE_BINDING_2D_ARRAY:35869,R11F_G11F_B10F:35898,RGB9_E5:35901,RGBA32UI:36208,RGB32UI:36209,RGBA16UI:36214,RGB16UI:36215,RGBA8UI:36220,RGB8UI:36221,RGBA32I:36226,RGB32I:36227,RGBA16I:36232,RGB16I:36233,RGBA8I:36238,RGB8I:36239,RED_INTEGER:36244,RGB_INTEGER:36248,RGBA_INTEGER:36249,R8:33321,RG8:33323,R16F:33325,R32F:33326,RG16F:33327,RG32F:33328,R8I:33329,R8UI:33330,R16I:33331,R16UI:33332,R32I:33333,R32UI:33334,RG8I:33335,RG8UI:33336,RG16I:33337,RG16UI:33338,RG32I:33339,RG32UI:33340,R8_SNORM:36756,RG8_SNORM:36757,RGB8_SNORM:36758,RGBA8_SNORM:36759,RGB10_A2UI:36975,TEXTURE_IMMUTABLE_FORMAT:37167,TEXTURE_IMMUTABLE_LEVELS:33503,UNSIGNED_INT_2_10_10_10_REV:33640,UNSIGNED_INT_10F_11F_11F_REV:35899,UNSIGNED_INT_5_9_9_9_REV:35902,FLOAT_32_UNSIGNED_INT_24_8_REV:36269,UNSIGNED_INT_24_8:34042,HALF_FLOAT:5131,RG:33319,RG_INTEGER:33320,INT_2_10_10_10_REV:36255,CURRENT_QUERY:34917,QUERY_RESULT:34918,QUERY_RESULT_AVAILABLE:34919,ANY_SAMPLES_PASSED:35887,ANY_SAMPLES_PASSED_CONSERVATIVE:36202,MAX_DRAW_BUFFERS:34852,DRAW_BUFFER0:34853,DRAW_BUFFER1:34854,DRAW_BUFFER2:34855,DRAW_BUFFER3:34856,DRAW_BUFFER4:34857,DRAW_BUFFER5:34858,DRAW_BUFFER6:34859,DRAW_BUFFER7:34860,DRAW_BUFFER8:34861,DRAW_BUFFER9:34862,DRAW_BUFFER10:34863,DRAW_BUFFER11:34864,DRAW_BUFFER12:34865,DRAW_BUFFER13:34866,DRAW_BUFFER14:34867,DRAW_BUFFER15:34868,MAX_COLOR_ATTACHMENTS:36063,COLOR_ATTACHMENT1:36065,COLOR_ATTACHMENT2:36066,COLOR_ATTACHMENT3:36067,COLOR_ATTACHMENT4:36068,COLOR_ATTACHMENT5:36069,COLOR_ATTACHMENT6:36070,COLOR_ATTACHMENT7:36071,COLOR_ATTACHMENT8:36072,COLOR_ATTACHMENT9:36073,COLOR_ATTACHMENT10:36074,COLOR_ATTACHMENT11:36075,COLOR_ATTACHMENT12:36076,COLOR_ATTACHMENT13:36077,COLOR_ATTACHMENT14:36078,COLOR_ATTACHMENT15:36079,SAMPLER_3D:35679,SAMPLER_2D_SHADOW:35682,SAMPLER_2D_ARRAY:36289,SAMPLER_2D_ARRAY_SHADOW:36292,SAMPLER_CUBE_SHADOW:36293,INT_SAMPLER_2D:36298,INT_SAMPLER_3D:36299,INT_SAMPLER_CUBE:36300,INT_SAMPLER_2D_ARRAY:36303,UNSIGNED_INT_SAMPLER_2D:36306,UNSIGNED_INT_SAMPLER_3D:36307,UNSIGNED_INT_SAMPLER_CUBE:36308,UNSIGNED_INT_SAMPLER_2D_ARRAY:36311,MAX_SAMPLES:36183,SAMPLER_BINDING:35097,PIXEL_PACK_BUFFER:35051,PIXEL_UNPACK_BUFFER:35052,PIXEL_PACK_BUFFER_BINDING:35053,PIXEL_UNPACK_BUFFER_BINDING:35055,COPY_READ_BUFFER:36662,COPY_WRITE_BUFFER:36663,COPY_READ_BUFFER_BINDING:36662,COPY_WRITE_BUFFER_BINDING:36663,FLOAT_MAT2x3:35685,FLOAT_MAT2x4:35686,FLOAT_MAT3x2:35687,FLOAT_MAT3x4:35688,FLOAT_MAT4x2:35689,FLOAT_MAT4x3:35690,UNSIGNED_INT_VEC2:36294,UNSIGNED_INT_VEC3:36295,UNSIGNED_INT_VEC4:36296,UNSIGNED_NORMALIZED:35863,SIGNED_NORMALIZED:36764,VERTEX_ATTRIB_ARRAY_INTEGER:35069,VERTEX_ATTRIB_ARRAY_DIVISOR:35070,TRANSFORM_FEEDBACK_BUFFER_MODE:35967,MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS:35968,TRANSFORM_FEEDBACK_VARYINGS:35971,TRANSFORM_FEEDBACK_BUFFER_START:35972,TRANSFORM_FEEDBACK_BUFFER_SIZE:35973,TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN:35976,MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS:35978,MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS:35979,INTERLEAVED_ATTRIBS:35980,SEPARATE_ATTRIBS:35981,TRANSFORM_FEEDBACK_BUFFER:35982,TRANSFORM_FEEDBACK_BUFFER_BINDING:35983,TRANSFORM_FEEDBACK:36386,TRANSFORM_FEEDBACK_PAUSED:36387,TRANSFORM_FEEDBACK_ACTIVE:36388,TRANSFORM_FEEDBACK_BINDING:36389,FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING:33296,FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE:33297,FRAMEBUFFER_ATTACHMENT_RED_SIZE:33298,FRAMEBUFFER_ATTACHMENT_GREEN_SIZE:33299,FRAMEBUFFER_ATTACHMENT_BLUE_SIZE:33300,FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE:33301,FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE:33302,FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE:33303,FRAMEBUFFER_DEFAULT:33304,DEPTH24_STENCIL8:35056,DRAW_FRAMEBUFFER_BINDING:36006,READ_FRAMEBUFFER_BINDING:36010,RENDERBUFFER_SAMPLES:36011,FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER:36052,FRAMEBUFFER_INCOMPLETE_MULTISAMPLE:36182,UNIFORM_BUFFER:35345,UNIFORM_BUFFER_BINDING:35368,UNIFORM_BUFFER_START:35369,UNIFORM_BUFFER_SIZE:35370,MAX_VERTEX_UNIFORM_BLOCKS:35371,MAX_FRAGMENT_UNIFORM_BLOCKS:35373,MAX_COMBINED_UNIFORM_BLOCKS:35374,MAX_UNIFORM_BUFFER_BINDINGS:35375,MAX_UNIFORM_BLOCK_SIZE:35376,MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS:35377,MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS:35379,UNIFORM_BUFFER_OFFSET_ALIGNMENT:35380,ACTIVE_UNIFORM_BLOCKS:35382,UNIFORM_TYPE:35383,UNIFORM_SIZE:35384,UNIFORM_BLOCK_INDEX:35386,UNIFORM_OFFSET:35387,UNIFORM_ARRAY_STRIDE:35388,UNIFORM_MATRIX_STRIDE:35389,UNIFORM_IS_ROW_MAJOR:35390,UNIFORM_BLOCK_BINDING:35391,UNIFORM_BLOCK_DATA_SIZE:35392,UNIFORM_BLOCK_ACTIVE_UNIFORMS:35394,UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES:35395,UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER:35396,UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER:35398,OBJECT_TYPE:37138,SYNC_CONDITION:37139,SYNC_STATUS:37140,SYNC_FLAGS:37141,SYNC_FENCE:37142,SYNC_GPU_COMMANDS_COMPLETE:37143,UNSIGNALED:37144,SIGNALED:37145,ALREADY_SIGNALED:37146,TIMEOUT_EXPIRED:37147,CONDITION_SATISFIED:37148,WAIT_FAILED:37149,SYNC_FLUSH_COMMANDS_BIT:1,COLOR:6144,DEPTH:6145,STENCIL:6146,MIN:32775,MAX:32776,DEPTH_COMPONENT24:33190,STREAM_READ:35041,STREAM_COPY:35042,STATIC_READ:35045,STATIC_COPY:35046,DYNAMIC_READ:35049,DYNAMIC_COPY:35050,DEPTH_COMPONENT32F:36012,DEPTH32F_STENCIL8:36013,INVALID_INDEX:4294967295,TIMEOUT_IGNORED:-1,MAX_CLIENT_WAIT_TIMEOUT_WEBGL:37447,VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE:35070,UNMASKED_VENDOR_WEBGL:37445,UNMASKED_RENDERER_WEBGL:37446,MAX_TEXTURE_MAX_ANISOTROPY_EXT:34047,TEXTURE_MAX_ANISOTROPY_EXT:34046,COMPRESSED_RGB_S3TC_DXT1_EXT:33776,COMPRESSED_RGBA_S3TC_DXT1_EXT:33777,COMPRESSED_RGBA_S3TC_DXT3_EXT:33778,COMPRESSED_RGBA_S3TC_DXT5_EXT:33779,COMPRESSED_R11_EAC:37488,COMPRESSED_SIGNED_R11_EAC:37489,COMPRESSED_RG11_EAC:37490,COMPRESSED_SIGNED_RG11_EAC:37491,COMPRESSED_RGB8_ETC2:37492,COMPRESSED_RGBA8_ETC2_EAC:37493,COMPRESSED_SRGB8_ETC2:37494,COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:37495,COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:37496,COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:37497,COMPRESSED_RGB_PVRTC_4BPPV1_IMG:35840,COMPRESSED_RGBA_PVRTC_4BPPV1_IMG:35842,COMPRESSED_RGB_PVRTC_2BPPV1_IMG:35841,COMPRESSED_RGBA_PVRTC_2BPPV1_IMG:35843,COMPRESSED_RGB_ETC1_WEBGL:36196,COMPRESSED_RGB_ATC_WEBGL:35986,COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL:35986,COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL:34798,UNSIGNED_INT_24_8_WEBGL:34042,HALF_FLOAT_OES:36193,RGBA32F_EXT:34836,RGB32F_EXT:34837,FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT:33297,UNSIGNED_NORMALIZED_EXT:35863,MIN_EXT:32775,MAX_EXT:32776,SRGB_EXT:35904,SRGB_ALPHA_EXT:35906,SRGB8_ALPHA8_EXT:35907,FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING_EXT:33296,FRAGMENT_SHADER_DERIVATIVE_HINT_OES:35723,COLOR_ATTACHMENT0_WEBGL:36064,COLOR_ATTACHMENT1_WEBGL:36065,COLOR_ATTACHMENT2_WEBGL:36066,COLOR_ATTACHMENT3_WEBGL:36067,COLOR_ATTACHMENT4_WEBGL:36068,COLOR_ATTACHMENT5_WEBGL:36069,COLOR_ATTACHMENT6_WEBGL:36070,COLOR_ATTACHMENT7_WEBGL:36071,COLOR_ATTACHMENT8_WEBGL:36072,COLOR_ATTACHMENT9_WEBGL:36073,COLOR_ATTACHMENT10_WEBGL:36074,COLOR_ATTACHMENT11_WEBGL:36075,COLOR_ATTACHMENT12_WEBGL:36076,COLOR_ATTACHMENT13_WEBGL:36077,COLOR_ATTACHMENT14_WEBGL:36078,COLOR_ATTACHMENT15_WEBGL:36079,DRAW_BUFFER0_WEBGL:34853,DRAW_BUFFER1_WEBGL:34854,DRAW_BUFFER2_WEBGL:34855,DRAW_BUFFER3_WEBGL:34856,DRAW_BUFFER4_WEBGL:34857,DRAW_BUFFER5_WEBGL:34858,DRAW_BUFFER6_WEBGL:34859,DRAW_BUFFER7_WEBGL:34860,DRAW_BUFFER8_WEBGL:34861,DRAW_BUFFER9_WEBGL:34862,DRAW_BUFFER10_WEBGL:34863,DRAW_BUFFER11_WEBGL:34864,DRAW_BUFFER12_WEBGL:34865,DRAW_BUFFER13_WEBGL:34866,DRAW_BUFFER14_WEBGL:34867,DRAW_BUFFER15_WEBGL:34868,MAX_COLOR_ATTACHMENTS_WEBGL:36063,MAX_DRAW_BUFFERS_WEBGL:34852,VERTEX_ARRAY_BINDING_OES:34229,QUERY_COUNTER_BITS_EXT:34916,CURRENT_QUERY_EXT:34917,QUERY_RESULT_EXT:34918,QUERY_RESULT_AVAILABLE_EXT:34919,TIME_ELAPSED_EXT:35007,TIMESTAMP_EXT:36392,GPU_DISJOINT_EXT:36795}},314:function(e,t,r){"use strict";r.d(t,"a",function(){return u});r(130),r(306),r(4);var n=r(434),i=r(386);function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),e}var s={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},u=function(){function e(e){void 0===e&&(e={});var t=e,r=t.id,i=void 0===r?Object(n.c)("geometry"):r,a=t.drawMode,o=void 0===a?s.TRIANGLES:a,u=t.attributes,c=void 0===u?{}:u,f=t.indices,l=void 0===f?null:f,_=t.vertexCount,d=void 0===_?null:_;this.id=i,this.drawMode=0|o,this.attributes={},this.userData={},this._setAttributes(c,l),this.vertexCount=d||this._calculateVertexCount(this.attributes,this.indices)}o(e,null,[{key:"DRAW_MODE",get:function(){return s}}]);var t=e.prototype;return t.getVertexCount=function(){return this.vertexCount},t.getAttributes=function(){return this.indices?Object.assign({indices:this.indices},this.attributes):this.attributes},t._print=function(e){return"Geometry "+this.id+" attribute "+e},t._setAttributes=function(e,t){for(var r in t&&(this.indices=ArrayBuffer.isView(t)?{value:t,size:1}:t),e){var n=e[r];n=ArrayBuffer.isView(n)?{value:n}:n,Object(i.a)(ArrayBuffer.isView(n.value),this._print(r)+": must be typed array or object with value as typed array"),"POSITION"!==r&&"positions"!==r||n.size||(n.size=3),"indices"===r?(Object(i.a)(!this.indices),this.indices=n):this.attributes[r]=n}return this.indices&&void 0!==this.indices.isIndexed&&(this.indices=Object.assign({},this.indices),delete this.indices.isIndexed),this},t._calculateVertexCount=function(e,t){if(t)return t.value.length;var r=1/0;for(var n in e){var a=e[n],o=a.value,s=a.size;!a.constant&&o&&s>=1&&(r=Math.min(r,o.length/s))}return Object(i.a)(Number.isFinite(r)),r},o(e,[{key:"mode",get:function(){return this.drawMode}}]),e}()},318:function(e,t,r){"use strict";(function(e){r.d(t,"a",function(){return _});r(15);var n=r(0),i=r.n(n),a=r(385),o=r(399),s=r(450),u=r(454),c=r(378);void 0===e||e.navigator||(e.navigator={}),"undefined"!=typeof window&&(window.website=!0);var f={EXAMPLE_NOT_SUPPPORTED:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"}},l={position:"fixed",fontSize:"12px",zIndex:1e4,color:"#fff",background:"#000",padding:"8px",opacity:.8},_=function(e){var t,r;function n(t){var r,n=(r=e.call(this,t)||this).props.AnimationLoop;return r.animationLoop=new n,r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var _=n.prototype;return _.componentDidMount=function(){var e=this.props.showStats;this.animationLoop._setDisplay(new s.a);var t=this.props.exampleConfig;if(t&&t.path){Object(a.c)("https://raw.githubusercontent.com/uber/luma.gl/master/"+t.path)}this.animationLoop.start(this.props),e&&this._showStats(this.animationLoop)},_.componentWillUnmount=function(){this.animationLoop.stop(this.props),this.animationLoop.delete(),this.animationLoop=null},_._showStats=function(e){var t=this,r=new u.a(e.stats,{container:this.refs.renderStats,title:"Render Time",css:{header:{fontWeight:"bold"}},framesPerUpdate:60,formatters:{"CPU Time":"averageTime","GPU Time":"averageTime","Frame Rate":"fps"},resetOnUpdate:{"CPU Time":!0,"GPU Time":!0,"Frame Rate":!0}});o.a.get("Memory Usage").reset();var n=new u.a(o.a.get("Memory Usage"),{container:this.refs.memStats,css:{header:{fontWeight:"bold"}},framesPerUpdate:60,formatters:{"GPU Memory":"memory","Buffer Memory":"memory","Renderbuffer Memory":"memory","Texture Memory":"memory"}});this.animationFrame=window.requestAnimationFrame(function e(){r.update(),n.update(),t.animationFrame=window.requestAnimationFrame(e)})},_._stopStats=function(){window.cancelAnimationFrame(this.animationFrame)},_.render=function(){var e=this.props,t=e.name,r=e.panel,n=void 0===r||r,a=e.stats,o=e.sourceLink;if(this.animationLoop.isSupported&&!this.animationLoop.isSupported()){var s=this.animationLoop.getAltText?this.animationLoop.getAltText():"THIS EXAMPLE IS NOT SUPPORTED";return i.a.createElement("div",{style:f.EXAMPLE_NOT_SUPPPORTED},i.a.createElement("h2",null," ",s," "))}var u=this.props.AnimationLoop.getInfo()||this.animationLoop.getInfo&&this.animationLoop.getInfo();return i.a.createElement("div",{className:"fg",style:{width:"100%",height:"100%",padding:0,border:0}},a?i.a.createElement("div",{ref:"stats",className:"stats",style:l},i.a.createElement("div",{ref:"renderStats",className:"renderStats"}),i.a.createElement("div",{ref:"memStats",className:"memStats"})):null,i.a.createElement("canvas",{id:this.props.canvas,style:{width:"100%",height:"100%",padding:0,border:0}}),n?i.a.createElement(c.a,{name:t,controls:u,sourceLink:o}):null)},n}(n.Component);_.defaultProps={canvas:"example-canvas"},_.displayName="AnimationLoop"}).call(this,r(99))},322:function(e,t,r){"use strict";r(15),r(10),r(7),r(3),r(5),r(2),r(9),r(97);var n=r(331),i=r(352),a=function(){function e(){this.shaderModules={},this.defaultShaderModules=[]}var t=e.prototype;return t.setDefaultShaderModules=function(e){this.defaultShaderModules=this.resolveModules(e)},t.getDefaultShaderModules=function(){return this.defaultShaderModules},t.registerShaderModules=function(e,t){var r=(void 0===t?{}:t).ignoreMultipleRegistrations,n=void 0!==r&&r,i=e,a=Array.isArray(i),o=0;for(i=a?i:i[Symbol.iterator]();;){var s;if(a){if(o>=i.length)break;s=i[o++]}else{if((o=i.next()).done)break;s=o.value}var u=s;this._registerShaderModule(u,n)}},t.getShaderModule=function(e){if(e instanceof n.a)return e;if("string"!=typeof e)return this._registerShaderModule(e,!0);var t=this.shaderModules[e];return t||Object(i.a)(!1,"Unknown shader module "+e),t},t.resolveModules=function(e){var t=this;return e.map(function(e){return t.getShaderModule(e)})},t._registerShaderModule=function(e,t){if(void 0===t&&(t=!1),e instanceof n.a)return e;if(Object(i.a)(e.name,"shader module has no name"),this.shaderModules[e.name]&&!t)throw new Error("shader module "+e.name+" already registered");return(e=new n.a(e)).dependencies=this.resolveModules(e.dependencies),this.shaderModules[e.name]=e,this.shaderModules[e.name]},e}();r.d(t,"b",function(){return s}),r.d(t,"a",function(){return u});var o=new a;function s(e){return e=e.concat(o.defaultShaderModules),c(e=o.resolveModules(e))}function u(e){return o.getShaderModule(e)}function c(e){var t={},r={};return f({modules:e,level:0,moduleMap:t,moduleDepth:r}),Object.keys(r).sort(function(e,t){return r[t]-r[e]}).map(function(e){return t[e]})}function f(e){var t=e.modules,r=e.level,n=e.moduleMap,i=e.moduleDepth;if(r>=5)throw new Error("Possible loop in shader dependency graph");var a=t,o=Array.isArray(a),s=0;for(a=o?a:a[Symbol.iterator]();;){var u;if(o){if(s>=a.length)break;u=a[s++]}else{if((s=a.next()).done)break;u=s.value}var c=u;n[c.name]=c,(void 0===i[c.name]||i[c.name]<r)&&(i[c.name]=r)}var l=t,_=Array.isArray(l),d=0;for(l=_?l:l[Symbol.iterator]();;){var E;if(_){if(d>=l.length)break;E=l[d++]}else{if((d=l.next()).done)break;E=d.value}var h=E;h.dependencies&&f({modules:h.dependencies,level:r+1,moduleMap:n,moduleDepth:i})}}},323:function(e,t,r){"use strict";r.d(t,"a",function(){return l});r(10),r(7),r(3),r(5),r(9),r(39),r(2),r(15);var n=r(399),i=r(433),a=r(435),o=r(434),s=r(386),u=r(436);function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var f="Resource subclass must define virtual methods",l=function(){function e(e,t){void 0===t&&(t={}),Object(i.b)(e);var r=t,n=r.id,a=r.userData,s=void 0===a?{}:a;this.gl=e,this.id=n||Object(o.c)(this.constructor.name),this.userData=s,this._bound=!1,this._handle=t.handle,void 0===this._handle&&(this._handle=this._createHandle()),this.byteLength=0,this._addStats()}var t,r,l,_=e.prototype;return _.toString=function(){return this.constructor.name+"("+this.id+")"},_.delete=function(e){var t=(void 0===e?{}:e).deleteChildren,r=void 0!==t&&t,n=this._handle&&this._deleteHandle(this._handle);return this._handle&&this._removeStats(),this._handle=null,n&&r&&n.filter(Boolean).forEach(function(e){e.delete()}),this},_.bind=function(e){return void 0===e&&(e=this.handle),"function"!=typeof e?(this._bindHandle(e),this):(this._bound?t=e():(this._bindHandle(this.handle),this._bound=!0,t=e(),this._bound=!1,this._bindHandle(null)),t);var t},_.unbind=function(){this.bind(null)},_.getParameter=function(e,t){void 0===t&&(t={}),e=Object(a.b)(this.gl,e),Object(s.a)(e);var r=(this.constructor.PARAMETERS||{})[e];if(r){var n=Object(i.d)(this.gl);if(!((!("webgl2"in r)||n)&&(!("extension"in r)||this.gl.getExtension(r.extension)))){var o=r.webgl1,u="webgl2"in r?r.webgl2:r.webgl1;return n?u:o}}return this._getParameter(e,t)},_.getParameters=function(e){void 0===e&&(e={});var t={},r=t.parameters,n=t.keys,o=this.constructor.PARAMETERS||{},s=Object(i.d)(this.gl),u={},c=r||Object.keys(o),f=Array.isArray(c),l=0;for(c=f?c:c[Symbol.iterator]();;){var _;if(f){if(l>=c.length)break;_=c[l++]}else{if((l=c.next()).done)break;_=l.value}var d=_,E=o[d];if(E&&(!("webgl2"in E)||s)&&(!("extension"in E)||this.gl.getExtension(E.extension))){var h=n?Object(a.a)(this.gl,d):d;u[h]=this.getParameter(d,e),n&&"GLenum"===E.type&&(u[h]=Object(a.a)(this.gl,u[h]))}}return u},_.setParameter=function(e,t){e=Object(a.b)(this.gl,e),Object(s.a)(e);var r=(this.constructor.PARAMETERS||{})[e];if(r){var n=Object(i.d)(this.gl);if(!((!("webgl2"in r)||n)&&(!("extension"in r)||this.gl.getExtension(r.extension))))throw new Error("Parameter not available on this platform");"GLenum"===r.type&&(t=Object(a.b)(t))}return this._setParameter(e,t),this},_.setParameters=function(e){for(var t in e)this.setParameter(t,e[t]);return this},_.stubRemovedMethods=function(e,t,r){return Object(u.a)(this,e,t,r)},_.initialize=function(e){},_._createHandle=function(){throw new Error(f)},_._deleteHandle=function(){throw new Error(f)},_._bindHandle=function(){throw new Error(f)},_._getOptsFromHandle=function(){throw new Error(f)},_._getParameter=function(e,t){throw new Error(f)},_._setParameter=function(e,t){throw new Error(f)},_._context=function(){return this.gl.luma=this.gl.luma||{},this.gl.luma},_._addStats=function(){var e=this.constructor.name,t=n.a.get("Resource Counts");t.get("Resources Created").incrementCount(),t.get(e+"s Created").incrementCount(),t.get(e+"s Active").incrementCount()},_._removeStats=function(){var e=this.constructor.name;n.a.get("Resource Counts").get(e+"s Active").decrementCount()},_._trackAllocatedMemory=function(e,t){void 0===t&&(t=this.constructor.name);var r=n.a.get("Memory Usage");r.get("GPU Memory").addCount(e),r.get(t+" Memory").addCount(e),this.byteLength=e},_._trackDeallocatedMemory=function(e){void 0===e&&(e=this.constructor.name);var t=n.a.get("Memory Usage");t.get("GPU Memory").subtractCount(this.byteLength),t.get(e+" Memory").subtractCount(this.byteLength),this.byteLength=0},t=e,(r=[{key:"handle",get:function(){return this._handle}}])&&c(t.prototype,r),l&&c(t,l),e}()},324:function(e,t,r){"use strict";r.d(t,"a",function(){return A});r(307),r(4),r(130),r(306),r(311);var n=r(308),i=r.n(n),a=r(323),o=r(353),s=r(433),u=r(388),c=r(432),f=r(386),l=r(351);function _(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var d={offset:"accessor.offset",stride:"accessor.stride",type:"accessor.type",size:"accessor.size",divisor:"accessor.divisor",normalized:"accessor.normalized",integer:"accessor.integer",instanced:"accessor.divisor",isInstanced:"accessor.divisor"},E={removedProps:{},replacedProps:{bytes:"byteLength"},deprecatedProps:d},h={removedProps:d},A=function(e){var t,r;function n(t,r){var n;return void 0===r&&(r={}),(n=e.call(this,t,r)||this).stubRemovedMethods("Buffer","v6.0",["layout","setLayout","getIndexedParameter"]),n.target=r.target||(n.gl.webgl2?i.a.COPY_READ_BUFFER:i.a.ARRAY_BUFFER),n.initialize(r),Object.seal(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n)),n}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a,d,A,T=n.prototype;return T.getElementCount=function(e){return void 0===e&&(e=this.accessor),Math.round(this.byteLength/o.a.getBytesPerElement(e))},T.getVertexCount=function(e){return void 0===e&&(e=this.accessor),Math.round(this.byteLength/o.a.getBytesPerVertex(e))},T.initialize=function(e){return void 0===e&&(e={}),ArrayBuffer.isView(e)&&(e={data:e}),Number.isFinite(e)&&(e={byteLength:e}),e=Object(c.a)("Buffer",e,E),this.usage=e.usage||i.a.STATIC_DRAW,this.debugData=null,this.setAccessor(Object.assign({},e,e.accessor)),e.data?this._setData(e.data):this._setByteLength(e.byteLength||0),this},T.setProps=function(e){return"accessor"in(e=Object(c.a)("Buffer",e,h))&&this.setAccessor(e.accessor),this},T.setAccessor=function(e){return delete(e=Object.assign({},e)).buffer,this.accessor=new o.a(e),this},T.reallocate=function(e){return e>this.byteLength?(this._setByteLength(e),!0):(this.bytesUsed=e,!1)},T.setData=function(e){return this.initialize(e)},T.subData=function(e){ArrayBuffer.isView(e)&&(e={data:e});var t=e,r=t.data,n=t.offset,a=void 0===n?0:n,o=t.srcOffset,u=void 0===o?0:o,c=e.byteLength||e.length;Object(f.a)(r);var l=this.gl.webgl2?i.a.COPY_WRITE_BUFFER:this.target;return this.gl.bindBuffer(l,this.handle),0!==u||void 0!==c?(Object(s.a)(this.gl),this.gl.bufferSubData(this.target,a,r,u,c)):this.gl.bufferSubData(l,a,r),this.gl.bindBuffer(l,null),this.debugData=null,this._inferType(r),this},T.copyData=function(e){var t=e.sourceBuffer,r=e.readOffset,n=void 0===r?0:r,a=e.writeOffset,o=void 0===a?0:a,u=e.size,c=this.gl;return Object(s.a)(c),c.bindBuffer(i.a.COPY_READ_BUFFER,t.handle),c.bindBuffer(i.a.COPY_WRITE_BUFFER,this.handle),c.copyBufferSubData(i.a.COPY_READ_BUFFER,i.a.COPY_WRITE_BUFFER,n,o,u),c.bindBuffer(i.a.COPY_READ_BUFFER,null),c.bindBuffer(i.a.COPY_WRITE_BUFFER,null),this.debugData=null,this},T.getData=function(e){var t=void 0===e?{}:e,r=t.dstData,n=void 0===r?null:r,a=t.srcByteOffset,o=void 0===a?0:a,c=t.dstOffset,l=void 0===c?0:c,_=t.length,d=void 0===_?0:_;Object(s.a)(this.gl);var E,h,A=Object(u.c)(this.accessor.type||i.a.FLOAT,{clamped:!1}),T=this._getAvailableElementCount(o),v=l;n?E=(h=n.length)-v:h=v+(E=Math.min(T,d||T));var R=Math.min(T,E);return d=d||R,Object(f.a)(d<=R),n=n||new A(h),this.gl.bindBuffer(i.a.COPY_READ_BUFFER,this.handle),this.gl.getBufferSubData(i.a.COPY_READ_BUFFER,o,n,l,d),this.gl.bindBuffer(i.a.COPY_READ_BUFFER,null),n},T.bind=function(e){var t=void 0===e?{}:e,r=t.target,n=void 0===r?this.target:r,a=t.index,o=void 0===a?this.accessor&&this.accessor.index:a,s=t.offset,u=void 0===s?0:s,c=t.size;return n===i.a.UNIFORM_BUFFER||n===i.a.TRANSFORM_FEEDBACK_BUFFER?void 0!==c?this.gl.bindBufferRange(n,o,this.handle,u,c):(Object(f.a)(0===u),this.gl.bindBufferBase(n,o,this.handle)):this.gl.bindBuffer(n,this.handle),this},T.unbind=function(e){var t=void 0===e?{}:e,r=t.target,n=void 0===r?this.target:r,a=t.index,o=void 0===a?this.accessor&&this.accessor.index:a;return n===i.a.UNIFORM_BUFFER||n===i.a.TRANSFORM_FEEDBACK_BUFFER?this.gl.bindBufferBase(n,o,null):this.gl.bindBuffer(n,null),this},T.getDebugData=function(){return this.debugData?{data:this.debugData,changed:!1}:(this.debugData=this.getData({length:10}),{data:this.debugData,changed:!0})},T.invalidateDebugData=function(){this.debugData=null},T._setData=function(e,t){void 0===t&&(t=this.usage),Object(f.a)(ArrayBuffer.isView(e)),this._trackDeallocatedMemory();var r=this._getTarget();this.gl.bindBuffer(r,this.handle),this.gl.bufferData(r,e,t),this.gl.bindBuffer(r,null),this.usage=t,this.debugData=e.slice(0,10),this.bytesUsed=e.byteLength,this._trackAllocatedMemory(e.byteLength);var n=Object(u.b)(e);return Object(f.a)(n),this.setAccessor(new o.a(this.accessor,{type:n})),this},T._setByteLength=function(e,t){void 0===t&&(t=this.usage),Object(f.a)(e>=0),this._trackDeallocatedMemory();var r=e;0===e&&(r=new Float32Array(0));var n=this._getTarget();return this.gl.bindBuffer(n,this.handle),this.gl.bufferData(n,r,t),this.gl.bindBuffer(n,null),this.usage=t,this.debugData=null,this.bytesUsed=e,this._trackAllocatedMemory(e),this},T._getTarget=function(){return this.gl.webgl2?i.a.COPY_WRITE_BUFFER:this.target},T._getAvailableElementCount=function(e){var t=e/Object(u.c)(this.accessor.type||i.a.FLOAT,{clamped:!1}).BYTES_PER_ELEMENT;return this.getElementCount()-t},T._inferType=function(e){this.accessor.type||this.setAccessor(new o.a(this.accessor,{type:Object(u.b)(e)}))},T._createHandle=function(){return this.gl.createBuffer()},T._deleteHandle=function(){this.gl.deleteBuffer(this.handle),this._trackDeallocatedMemory()},T._getParameter=function(e){this.gl.bindBuffer(this.target,this.handle);var t=this.gl.getBufferParameter(this.target,e);return this.gl.bindBuffer(this.target,null),t},T.setByteLength=function(e){return l.a.deprecated("setByteLength","reallocate")(),this.reallocate(e)},T.updateAccessor=function(e){return l.a.deprecated("updateAccessor(...)","setAccessor(new Accessor(buffer.accessor, ...)")(),this.accessor=new o.a(this.accessor,e),this},a=n,(d=[{key:"type",get:function(){return l.a.deprecated("Buffer.type","Buffer.accessor.type")(),this.accessor.type}},{key:"bytes",get:function(){return l.a.deprecated("Buffer.bytes","Buffer.byteLength")(),this.byteLength}}])&&_(a.prototype,d),A&&_(a,A),n}(a.a)},325:function(e,t,r){"use strict";r(97),r(130),r(306),r(10),r(7),r(3),r(62),r(4),r(15),r(8),r(28);var n=r(336),i=r(322);r(5),r(2),r(9);var a=r(352),o=7936,s=7937,u=7938,c=35724,f={GLSL_FRAG_DATA:["WEBGL_draw_buffers",!0],GLSL_FRAG_DEPTH:["EXT_frag_depth",!0],GLSL_DERIVATIVES:["OES_standard_derivatives",!0],GLSL_TEXTURE_LOD:["EXT_shader_texture_lod",!0]},l={};Object.keys(f).forEach(function(e){l[e]=e});var _={};function d(e,t,r){void 0===r&&(r={});var n=f[t];if(Object(a.a)(n,t),!function(e){void 0===e&&(e={});var t="undefined"!=typeof window&&window.navigator||{},r=e.userAgent||t.userAgent||"",n=-1!==r.indexOf("MSIE "),i=-1!==r.indexOf("Trident/");return n||i}(r))return!0;if(t in _)return _[t];var i="#extension GL_"+n[0]+" : "+(r.behavior||"enable")+"\nvoid main(void) {}",o=e.createShader(e.VERTEX_SHADER);e.shaderSource(o,i),e.compileShader(o);var s=e.getShaderParameter(o,e.COMPILE_STATUS);return e.deleteShader(o),_[t]=s,s}function E(e,t){var r=f[t];Object(a.a)(r,t);var n=function(e){return Boolean(e&&2===e._version)}(e)&&r[1]||r[0],i="string"==typeof n?Boolean(e.getExtension(n)):n;return Object(a.a)(!1===i||!0===i),i}function h(e,t){return(t=Array.isArray(t)?t:[t]).every(function(t){return E(e,t)})}function A(e){switch(function(e){var t=e.getExtension("WEBGL_debug_renderer_info"),r=e.getParameter(t&&t.UNMASKED_VENDOR_WEBGL||o),n=e.getParameter(t&&t.UNMASKED_RENDERER_WEBGL||s);return{gpuVendor:function(e,t){return e.match(/NVIDIA/i)||t.match(/NVIDIA/i)?"NVIDIA":e.match(/INTEL/i)||t.match(/INTEL/i)?"INTEL":e.match(/AMD/i)||t.match(/AMD/i)||e.match(/ATI/i)||t.match(/ATI/i)?"AMD":"UNKNOWN GPU"}(r,n),vendor:r,renderer:n,version:e.getParameter(u),shadingLanguageVersion:e.getParameter(c)}}(e).gpuVendor.toLowerCase()){case"nvidia":return"#define NVIDIA_GPU\n// Nvidia optimizes away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n";case"intel":return"#define INTEL_GPU\n// Intel optimizes away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n// Intel's built-in 'tan' function doesn't have acceptable precision\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\n// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\n";case"amd":return"#define AMD_GPU\n";default:return"#define DEFAULT_GPU\n// Prevent driver from optimizing away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n// Intel's built-in 'tan' function doesn't have acceptable precision\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\n// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\n"}}var T,v,R=r(332);r.d(t,"c",function(){return N}),r.d(t,"b",function(){return F}),r.d(t,"a",function(){return S});var g="\n\n"+R.a+"\n\n",m=((T={})[n.b]="vertex",T[n.a]="fragment",T),p=((v={})[n.b]={},v[n.a]={},v),b={},O="precision highp float;\n\n";function N(e,t){void 0===t&&(t={});var r=(e=e.trim()).split(":"),n=r[0],i=r[1],a=e.replace(/\(.+/,"");p[n][a]=Object.assign(t,{signature:i})}function F(e,t){var r=t.hook,n=t.injection,i=t.order,o=void 0===i?0:i,s=r.slice(0,2);b[e]=b[e]||{},b[e][s]=b[e][s]||{},Object(a.a)(!b[e][s][r],"Module injection already created"),b[e][s][r]={injection:n,order:o}}function S(e,t){var r=t.vs,a=t.fs,o=Object(i.b)(t.modules||[]);return{gl:e,vs:I(e,Object.assign({},t,{source:r,type:n.b,modules:o})),fs:I(e,Object.assign({},t,{source:a,type:n.a,modules:o})),getUniforms:L(o),modules:C(o)}}function I(e,t){var r=t.id,i=t.source,o=t.type,s=t.modules,u=t.defines,c=void 0===u?{}:u,f=t.inject,_=void 0===f?{}:f,E=t.prologue,T=void 0===E||E,v=t.log;Object(a.a)("string"==typeof i,"shader source must be a string");var N=o===n.b,F=i.split("\n"),S=100,I="",L=i;0===F[0].indexOf("#version ")&&(S=300,I=F[0],L=F.slice(1).join("\n"));var C={};s.forEach(function(e){Object.assign(C,e.getDefines())}),Object.assign(C,c);var y=T?I+"\n"+function(e){var t=e.id,r=e.source,n=e.type;return t&&"string"==typeof t&&-1===r.indexOf("SHADER_NAME")?"\n#define SHADER_NAME "+t+"_"+m[n]+"\n\n":""}({id:r,source:i,type:o})+"\n"+function(e){var t=e.type;return"\n#define SHADER_TYPE_"+m[t].toUpperCase()+"\n"}({type:o})+"\n"+A(e)+"\n"+function(e,t,r){var n="#if (__VERSION__ > 120)\n\n# define FRAG_DEPTH\n# define DERIVATIVES\n# define DRAW_BUFFERS\n# define TEXTURE_LOD\n\n#endif // __VERSION\n";return h(e,l.GLSL_FRAG_DEPTH)&&(n+="// FRAG_DEPTH => gl_FragDepth is available\n#ifdef GL_EXT_frag_depth\n#extension GL_EXT_frag_depth : enable\n# define FRAG_DEPTH\n# define gl_FragDepth gl_FragDepthEXT\n#endif\n"),h(e,l.GLSL_DERIVATIVES)&&d(e,l.GLSL_DERIVATIVES)&&(n+="// DERIVATIVES => dxdF, dxdY and fwidth are available\n#ifdef GL_OES_standard_derivatives\n#extension GL_OES_standard_derivatives : enable\n# define DERIVATIVES\n#endif\n"),h(e,l.GLSL_FRAG_DATA)&&d(e,l.GLSL_FRAG_DATA,{behavior:"require"})&&(n+="// DRAW_BUFFERS => gl_FragData[] is available\n#ifdef GL_EXT_draw_buffers\n#extension GL_EXT_draw_buffers : require\n#define DRAW_BUFFERS\n#endif\n"),h(e,l.GLSL_TEXTURE_LOD)&&(n+="// TEXTURE_LOD => texture2DLod etc are available\n#ifdef GL_EXT_shader_texture_lod\n#extension GL_EXT_shader_texture_lod : enable\n# define TEXTURE_LOD\n#define texture2DLod texture2DLodEXT\n#define texture2DProjLod texture2DProjLodEXT\n#define texture2DProjLod texture2DProjLodEXT\n#define textureCubeLod textureCubeLodEXT\n#define texture2DGrad texture2DGradEXT\n#define texture2DProjGrad texture2DProjGradEXT\n#define texture2DProjGrad texture2DProjGradEXT\n#define textureCubeGrad textureCubeGradEXT\n#endif\n"),n}(e)+"\n"+function(e){void 0===e&&(e={});var t=0,r="";for(var n in e){0===t&&(r+="\n// APPLICATION DEFINES\n"),t++;var i=e[n];(i||Number.isFinite(i))&&(r+="#define "+n.toUpperCase()+" "+e[n]+"\n")}0===t&&(r+="\n");return r}(C)+"\n"+(N?"":O)+"\n":I+"\n",M=!1,P={},B={};for(var D in _){var U="string"==typeof _[D]?{injection:_[D],order:0}:_[D];D.match(/^(v|f)s:/)?"#"===D[3]?B[D]=[U]:P[D]=[U]:B[D]=[U]}var w=s,x=Array.isArray(w),G=0;for(w=x?w:w[Symbol.iterator]();;){var j;if(x){if(G>=w.length)break;j=w[G++]}else{if((G=w.next()).done)break;j=G.value}var H=j;switch(H.name){case"inject":M=!0;break;default:if(v&&H.checkDeprecations(L,v),y+=H.getModuleSource(o,S),b[H.name]){var V=b[H.name][o];for(var X in V)X.match(/^(v|f)s:#/)?(B[X]=B[X]||[],B[X].push(V[X])):(P[X]=P[X]||[],P[X].push(V[X]))}}}return y+=g,y+=function(e,t){var r="",n=p[e];for(var i in n){var a=n[i];if(r+="void "+a.signature+" {\n",a.header&&(r+="  "+a.header),t[i]){var o=t[i];o.sort(function(e,t){return e.order-t.order});for(var s=o,u=Array.isArray(s),c=0,s=u?s:s[Symbol.iterator]();;){var f;if(u){if(c>=s.length)break;f=s[c++]}else{if((c=s.next()).done)break;f=c.value}var l=f;r+="  "+l.injection+"\n"}}a.footer&&(r+="  "+a.footer),r+="}\n"}return r}(o,P),y+=L,y=Object(R.c)(y,o,B,M)}function L(e){return function(t){var r={},n=e,i=Array.isArray(n),a=0;for(n=i?n:n[Symbol.iterator]();;){var o;if(i){if(a>=n.length)break;o=n[a++]}else{if((a=n.next()).done)break;o=a.value}var s=o.getUniforms(t,r);Object.assign(r,s)}return r}}function C(e){var t={},r=e,n=Array.isArray(r),a=0;for(r=n?r:r[Symbol.iterator]();;){var o;if(n){if(a>=r.length)break;o=r[a++]}else{if((a=r.next()).done)break;o=a.value}var s=o,u=Object(i.a)(s);t[s]=u}return t}},330:function(e,t,r){"use strict";r(15),r(130),r(306),r(4);var n=r(308),i=r.n(n),a=r(324),o=r(391),s=(r(319),r(312),r(386)),u={POSITION:"positions",NORMAL:"normals",COLOR_0:"colors",TEXCOORD_0:"texCoords",TEXCOORD_1:"texCoords1",TEXCOORD_2:"texCoords2"};function c(e,t){var r=(t||{}).attributeMap,n=void 0===r?u:r;return n&&n[e]||e}function f(e,t){var r;switch(e){case"texCoords":case"texCoord1":case"texCoord2":case"texCoord3":r="uvs";break;case"vertices":case"positions":case"normals":case"pickingColors":r="vectors"}switch(r){case"vectors":t.size=t.size||3;break;case"uvs":t.size=t.size||2}Object(s.a)(Number.isFinite(t.size),"attribute "+e+" needs size")}r(3),r(5),r(2),r(9);var l=r(433),_=r(451),d=r(439),E=r(447),h=r(338),A=r(325),T=(r(8),r(435)),v=r(333);function R(e,t){void 0===t&&(t={});var r=t.isInteger,n=void 0!==r&&r;if(Array.isArray(e)||ArrayBuffer.isView(e))return function(e,t){for(var r=t.maxElts,n=void 0===r?16:r,i=t.size,a=void 0===i?1:i,o="[",s=0;s<e.length&&s<n;++s)s>0&&(o+=","+(s%a==0?" ":"")),o+=R(e[s],t);return o+(e.length>n?"...":"]")}(e,t);if(!Number.isFinite(e))return String(e);if(Math.abs(e)<1e-16)return n?"0":"0.";if(n)return e.toFixed(0);if(Math.abs(e)>100&&Math.abs(e)<1e4)return e.toFixed(0);var i=e.toPrecision(2);return i.indexOf(".0")===i.length-2?i.slice(0,-1):i}function g(e,t,r,n){var i,o,s,u,c=e.gl,f="NOT PROVIDED",l="N/A",_="N/A",d="N/A";if(r&&(f=r.type,l=r.size,o=-1!==(f=String(f).replace("Array","")).indexOf("nt")),t instanceof a.a){var E,h,A=t,v=A.getDebugData(),g=v.data;if(s=v.modified?"*":"",u=g,_=(d=A.byteLength)/g.BYTES_PER_ELEMENT/l,r)h=(r.divisor>0?"I ":"P ")+" "+_+" (x"+l+"="+d+" bytes "+Object(T.a)(c,f)+")";else o=!0,h=d+" bytes";return(E={})[n]=""+s+R(u,{size:l,isInteger:o}),E["Format "]=h,E}return u=t,l=t.length,o=-1!==(f=String(t.constructor.name).replace("Array","")).indexOf("nt"),(i={})[n]=R(u,{size:l,isInteger:o})+" (constant)",i["Format "]=l+"x"+f+" (constant)",i}function m(e,t){var r=t.type,n=t.size,i=Object(v.b)(r,n);return i?e+" ("+i.name+")":e}r(62),r(10),r(7),r(97);function p(e){var t=void 0===e?{}:e,r=t.header,n=void 0===r?"Uniforms":r,i=t.program,a=t.uniforms,o=t.undefinedOnly,u=void 0!==o&&o;Object(s.a)(i);var c=i._uniformSetters,f={},l=Object.keys(c).sort(),_=0,d=l,E=Array.isArray(d),h=0;for(d=E?d:d[Symbol.iterator]();;){var A;if(E){if(h>=d.length)break;A=d[h++]}else{if((h=d.next()).done)break;A=h.value}var T=A;T.match(".*_.*")||T.match(".*Matrix")||b({table:f,header:n,uniforms:a,uniformName:T,undefinedOnly:u})&&_++}var v=l,g=Array.isArray(v),m=0;for(v=g?v:v[Symbol.iterator]();;){var p;if(g){if(m>=v.length)break;p=v[m++]}else{if((m=v.next()).done)break;p=m.value}var O=p;O.match(".*Matrix")&&b({table:f,header:n,uniforms:a,uniformName:O,undefinedOnly:u})&&_++}var N=l,F=Array.isArray(N),S=0;for(N=F?N:N[Symbol.iterator]();;){var I;if(F){if(S>=N.length)break;I=N[S++]}else{if((S=N.next()).done)break;I=S.value}f[I]||b({table:f,header:n,uniforms:a,uniformName:I,undefinedOnly:u})&&_++}var L=0,C={};if(!u)for(var y in a){var M,P=a[y];if(!f[y])L++,C[y]=((M={Type:"NOT USED: "+P})[n]=R(P),M)}return{table:f,count:_,unusedTable:C,unusedCount:L}}function b(e){var t,r=e.table,n=e.header,i=e.uniforms,a=e.uniformName,o=e.undefinedOnly,s=i[a],u=function(e){return null!=e}(s);return(!o||!u)&&(r[a]=((t={})[n]=u?R(s):"N/A",t["Uniform Type"]=u?s:"NOT PROVIDED",t),!0)}function O(e){var t=e.accessor,r=t.type,n=t.size,i=Object(v.b)(r,n);return i?i.name+" "+e.name:e.name}r(73),r(96);var N=r(320),F=r.n(N),S=r(341),I={},L=function e(t,r,n){t&&(r.length>1?e(t[r[0]],r.slice(1),n):t[r[0]]=n)},C=new Map;F.a.listenFor("luma.gl",function(e){var t=I[e.itemKey];if(t&&"edit"===e.type&&"uniforms"===e.valuePath[0]){var r=e.valuePath.slice(1);!function(e,t,r){S.b.__SEER_INITIALIZED__&&(C.has(e)||C.set(e,new Map),C.get(e).set(t,r))}(e.itemKey,r,e.value);var n=t.getUniforms();L(n,r,e.value),t.setUniforms(n)}});var y=r(434),M=r(351),P=function(){function e(e,t){void 0===t&&(t={}),Object(s.a)(Object(l.c)(e));var r=t.id,n=void 0===r?Object(y.c)("base-model"):r;this.id=n,this.gl=e,this.id=t.id||Object(y.c)("Model"),this.lastLogTime=0,this.initialize(t),this._setBaseModelProps(t)}var t=e.prototype;return t.initialize=function(e){this.props={},this.program=this._createProgram(e),this.vertexArray=new _.a(this.gl,{program:this.program}),this.userData={},this.needsRedraw=!0,this._attributes={},this.attributes={},this.animatedUniforms={},this.animated=!1,this.animationLoop=null,this.timerQueryEnabled=!1,this.timeElapsedQuery=void 0,this.lastQueryReturned=!0,this.stats={accumulatedFrameTime:0,averageFrameTime:0,profileFrameCount:0},this.pickable=!0,this._setBaseModelProps(e),this.setUniforms(Object.assign({},this.getModuleUniforms(),this.getModuleUniforms(e.moduleSettings)))},t.setProps=function(e){this._setBaseModelProps(e)},t.delete=function(){for(var e in this._attributes)this._attributes[e]!==this.attributes[e]&&this._attributes[e].delete();var t;this.program.delete(),this.vertexArray.delete(),t=this.id,delete I[t],F.a.deleteItem("luma.gl",t)},t.isAnimated=function(){return this.animated},t.getProgram=function(){return this.program},t.getUniforms=function(){return this.program.uniforms},t.setUniforms=function(e){return void 0===e&&(e={}),e=Object.assign({},e),function(e,t){if(S.b.__SEER_INITIALIZED__&&e){var r=C.get(e);r&&r.forEach(function(e,r){L(t,r,e)})}}(this.id,e),e=this._extractAnimatedUniforms(e),this.program.setUniforms(e),this},t.updateModuleSettings=function(e){var t=this.getModuleUniforms(e||{});return this.setUniforms(t)},t.drawGeometry=function(e){void 0===e&&(e={});var t,r=e,n=r.moduleSettings,i=void 0===n?null:n,a=r.framebuffer,o=r.uniforms,s=void 0===o?{}:o,u=r.attributes,c=void 0===u?{}:u,f=r.transformFeedback,l=void 0===f?this.transformFeedback:f,_=r.parameters,d=void 0===_?{}:_,E=r.vertexArray,h=void 0===E?this.vertexArray:E,A=r.animationProps;I[(t=this).id]||(I[t.id]=t,F.a.listItem("luma.gl",t.id)),this.setAttributes(c),this.updateModuleSettings(i),this.setUniforms(s),this._refreshAnimationProps(A);var T=this._logDrawCallStart(2),v=this.vertexArray.getDrawParams(this.props);v.isInstanced&&!this.isInstanced&&M.a.warn("Found instanced attributes on non-instanced model",this.id)();var R=v.isIndexed,g=v.indexType,m=v.indexOffset,p=this.isInstanced,b=this.instanceCount,O=function(){},N=this.props,S=N.onBeforeRender,L=void 0===S?O:S,C=N.onAfterRender,y=void 0===C?O:C;L(),this._timerQueryStart();var P=this.program.draw(Object.assign({},e,{logPriority:T,uniforms:null,framebuffer:a,parameters:d,drawMode:this.getDrawMode(),vertexCount:this.getVertexCount(),vertexArray:h,transformFeedback:l,isIndexed:R,indexType:g,isInstanced:p,instanceCount:b,offset:R?m:0}));return this._timerQueryEnd(),y(),this._logDrawCallEnd(T,h,a),P},t._setBaseModelProps=function(e){Object.assign(this.props,e),"uniforms"in e&&this.setUniforms(e.uniforms),"pickable"in e&&(this.pickable=e.pickable),"timerQueryEnabled"in e&&(this.timerQueryEnabled=e.timerQueryEnabled&&d.a.isSupported(this.gl,["timers"]),e.timerQueryEnabled&&!this.timerQueryEnabled&&M.a.warn("GPU timer not supported")()),"_animationProps"in e&&this._setAnimationProps(e._animationProps),"_animationLoop"in e&&(this.animationLoop=e._animationLoop)},t._createProgram=function(e){var t=e.vs,r=void 0===t?null:t,n=e.fs,a=void 0===n?null:n,o=e.modules,u=void 0===o?null:o,c=e.defines,f=void 0===c?{}:c,l=e.inject,_=void 0===l?{}:l,d=e.shaderCache,T=void 0===d?null:d,v=e.varyings,R=void 0===v?null:v,g=e.bufferMode,m=void 0===g?i.a.SEPARATE_ATTRIBS:g,p=e.program,b=void 0===p?null:p;this.getModuleUniforms=function(e){};var O=this.id;if(!b){r=r||h.a.vs,a=a||h.a.fs;var N=Object(A.a)(this.gl,{vs:r,fs:a,modules:u,inject:_,defines:f,log:M.a});r=N.vs,a=N.fs,b=T?T.getProgram(this.gl,{id:O,vs:r,fs:a}):new E.a(this.gl,{id:O,vs:r,fs:a,varyings:R,bufferMode:m}),this.getModuleUniforms=N.getUniforms||function(e){}}return Object(s.a)(b instanceof E.a,"Model needs a program"),b},t._refreshAnimationProps=function(e){(e=e||this.animationLoop&&this.animationLoop.animationProps)&&this._setAnimationProps(e)},t._evaluateAnimateUniforms=function(e){if(!this.animated)return{};var t={};for(var r in this.animatedUniforms){var n=this.animatedUniforms[r];t[r]=n(e)}return t},t._extractAnimatedUniforms=function(e){var t=!1;for(var r in e){var n=e[r];"function"==typeof n?(this.animatedUniforms[r]=n,t=!0):delete this.animatedUniforms[r]}if(this.animated=!Object(y.a)(this.animatedUniforms),!t)return e;var i={};for(var a in e)this.animatedUniforms[a]||(i[a]=e[a]);return i},t._timerQueryStart=function(){!0===this.timerQueryEnabled&&(this.timeElapsedQuery||(this.timeElapsedQuery=new d.a(this.gl)),this.lastQueryReturned&&(this.lastQueryReturned=!1,this.timeElapsedQuery.beginTimeElapsedQuery()))},t._timerQueryEnd=function(){if(!0===this.timerQueryEnabled&&(this.timeElapsedQuery.end(),this.timeElapsedQuery.isResultAvailable())){this.lastQueryReturned=!0;var e=this.timeElapsedQuery.getTimerMilliseconds();this.stats.lastFrameTime=e,this.stats.accumulatedFrameTime+=e,this.stats.profileFrameCount++,this.stats.averageFrameTime=this.stats.accumulatedFrameTime/this.stats.profileFrameCount,M.a.log(2,"GPU time "+this.program.id+": "+this.stats.lastFrameTime+"ms average "+this.stats.averageFrameTime+"ms accumulated: "+this.stats.accumulatedFrameTime+"ms count: "+this.stats.profileFrameCount)()}},t._logDrawCallStart=function(e){var t=e>3?0:1e4;if(!(M.a.priority<e||Date.now()-this.lastLogTime<t))return this.lastLogTime=Date.now(),M.a.group(2,">>> DRAWING MODEL "+this.id,{collapsed:M.a.priority<=2})(),e},t._logDrawCallEnd=function(e,t,r,n){if(void 0!==e){var i=function(e){var t=void 0===e?{}:e,r=t.vertexArray,n=t.header,i=void 0===n?"Attributes":n;if(!r.configuration)return{};var a={};r.elements&&(a.ELEMENT_ARRAY_BUFFER=g(r,r.elements,null,i));var o=r.values;for(var s in o){var u=r._getAttributeInfo(s);if(u){var c=s+": "+u.name,f=r.accessors[u.location];f&&(c=s+": "+m(u.name,f)),a[c]=g(r,o[s],f,i)}}return a}({vertexArray:t,header:this.id+" attributes",attributes:this._attributes}),a=p({header:this.id+" uniforms",program:this.program,uniforms:Object.assign({},this.program.uniforms,r)}),o=a.table,s=a.unusedTable,u=a.unusedCount,c=p({header:this.id+" uniforms",program:this.program,uniforms:Object.assign({},this.program.uniforms,r),undefinedOnly:!0}),f=c.table;c.count>0&&M.a.log("MISSING UNIFORMS",Object.keys(f))(),u>0&&M.a.log("UNUSED UNIFORMS",Object.keys(s))();var l=function(e){var t={},r="Accessors for "+e.id,n=e.attributeInfos,i=Array.isArray(n),a=0;for(n=i?n:n[Symbol.iterator]();;){var o;if(i){if(a>=n.length)break;o=n[a++]}else{if((a=n.next()).done)break;o=a.value}var s,u=o;u&&(t["in "+O(u)]=((s={})[r]=JSON.stringify(u.accessor),s))}var c=e.varyingInfos,f=Array.isArray(c),l=0;for(c=f?c:c[Symbol.iterator]();;){var _;if(f){if(l>=c.length)break;_=c[l++]}else{if((l=c.next()).done)break;_=l.value}var d,E=_;E&&(t["out "+O(E)]=((d={})[r]=JSON.stringify(E.accessor),d))}return t}(this.vertexArray.configuration);M.a.table(e,i)(),M.a.table(e,o)(),M.a.table(e+1,l)(),function(e,t){if(F.a.isReady()&&!F.a.throttle("luma.gl:"+e.id,1e3)){var r=e.geometry?Object.assign({},e.geometry.attributes,e.attributes):e.attributes,n=Object.assign({},e.uniforms,t);F.a.multiUpdate("luma.gl",e.id,[{path:"objects.uniforms",data:n},{path:"objects.attributes",data:r}])}}(this,r),n&&n.log({priority:2,message:"Rendered to "+n.id}),M.a.groupEnd(2,">>> DRAWING MODEL "+this.id)()}},e}();r.d(t,"a",function(){return B});var B=function(e){var t,r;function n(t,r){void 0===r&&(r={});var n=r.id,i=void 0===n?Object(y.c)("model"):n;return e.call(this,t,Object.assign({},r,{id:i}))||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var u=n.prototype;return u.initialize=function(t){e.prototype.initialize.call(this,t),this.drawMode=void 0!==t.drawMode?t.drawMode:i.a.TRIANGLES,this.vertexCount=t.vertexCount||0,this.geometryBuffers={},this.isInstanced=t.isInstanced||t.instanced,this._setModelProps(t),this.geometry={},Object(s.a)(void 0!==this.drawMode&&Number.isFinite(this.vertexCount),"Model needs drawMode and vertexCount")},u.setProps=function(t){e.prototype.setProps.call(this,t),this._setModelProps(t)},u.delete=function(){e.prototype.delete.call(this),this._deleteGeometryBuffers()},u.getDrawMode=function(){return this.drawMode},u.getVertexCount=function(){return this.vertexCount},u.getInstanceCount=function(){return this.instanceCount},u.getAttributes=function(){return this.attributes},u.setDrawMode=function(e){return this.drawMode=e,this},u.setVertexCount=function(e){return Object(s.a)(Number.isFinite(e)),this.vertexCount=e,this},u.setInstanceCount=function(e){return Object(s.a)(Number.isFinite(e)),this.instanceCount=e,this},u.setGeometry=function(e){return this.drawMode=e.drawMode,this.vertexCount=e.getVertexCount(),this._deleteGeometryBuffers(),this.geometryBuffers=function(e,t,r){var n={},o=t.indices;for(var u in t.attributes){var l=t.attributes[u],_=c(u,r);if("indices"===u)o=l;else if(l.constant)n[_]=l.value;else{var d=l.value,E=Object.assign({},l);delete E.value,n[_]=[new a.a(e,d),E],f(u,E)}}if(o){var h=o.value||o;Object(s.a)(h instanceof Uint16Array||h instanceof Uint32Array,'attribute array for "indices" must be of integer type');var A={size:1,isIndexed:void 0===o.isIndexed||o.isIndexed};n.indices=[new a.a(e,{data:h,target:i.a.ELEMENT_ARRAY_BUFFER}),A]}return n}(this.gl,e),this.vertexArray.setAttributes(this.geometryBuffers),this},u.setAttributes=function(e){if(void 0===e&&(e={}),Object(y.a)(e))return this;var t={};for(var r in e){var n=e[r];t[r]=n.getValue?n.getValue():n}return this.vertexArray.setAttributes(t),this},u.draw=function(e){return void 0===e&&(e={}),this.drawGeometry(e)},u.transform=function(e){void 0===e&&(e={});var t,r=e,n=r.discard,a=void 0===n||n,o=r.feedbackBuffers,s=r.unbindModels,u=void 0===s?[]:s,c=e.parameters;(o&&this._setFeedbackBuffers(o),a)&&(c=Object.assign({},c,((t={})[i.a.RASTERIZER_DISCARD]=a,t)));u.forEach(function(e){return e.vertexArray.unbindBuffers()});try{this.draw(Object.assign({},e,{parameters:c}))}finally{u.forEach(function(e){return e.vertexArray.bindBuffers()})}return this},u.render=function(e){return void 0===e&&(e={}),M.a.warn("Model.render() is deprecated. Use Model.setUniforms() and Model.draw()")(),this.setUniforms(e).draw()},u._setModelProps=function(e){"instanceCount"in e&&(this.instanceCount=e.instanceCount),"geometry"in e&&this.setGeometry(e.geometry),"attributes"in e&&this.setAttributes(e.attributes),"_feedbackBuffers"in e&&this._setFeedbackBuffers(e._feedbackBuffers)},u._deleteGeometryBuffers=function(){for(var e in this.geometryBuffers){var t=this.geometryBuffers[e][0]||this.geometryBuffers[e];t instanceof a.a&&t.delete()}},u._setAnimationProps=function(e){if(this.animated){Object(s.a)(e,"Model.draw(): animated uniforms but no animationProps");var t=this._evaluateAnimateUniforms(e);this.program.setUniforms(t)}},u._setFeedbackBuffers=function(e){if(void 0===e&&(e={}),Object(y.a)(e))return this;var t=this.program.gl;return this.transformFeedback=this.transformFeedback||new o.a(t,{program:this.program}),this.transformFeedback.setBuffers(e),this},n}(P)},331:function(e,t,r){"use strict";r(133),r(15),r(8);function n(e,t,r){switch(t){case 300:return r?function(e){return e.replace(/attribute\s+/g,"in ").replace(/varying\s+/g,"out ").replace(/texture2D\(/g,"texture(").replace(/textureCube\(+/g,"texture(").replace(/texture2DLodEXT\(/g,"textureLod(").replace(/textureCubeLodEXT\(/g,"textureLod(")}(e):function(e){return e.replace(/varying\s+/g,"in ").replace(/texture2D\(/g,"texture(").replace(/textureCube\(/g,"texture(").replace(/texture2DLodEXT\(/g,"textureLod(").replace(/textureCubeLodEXT\(/g,"textureLod(")}(e);case 100:return r?function(e){return e.replace(/^in\s+/gm,"attribute ").replace(/^out\s+/gm,"varying ").replace(/texture\(/g,"texture2D(")}(e):function(e){return e.replace(/^in\s+/gm,"varying ").replace(/texture\(/g,"texture2D(")}(e);default:throw new Error("unknown GLSL version "+t)}}var i=r(352),a=(r(4),r(130),r(306),{number:{validate:function(e,t){return Number.isFinite(e)&&(!("max"in t)||e<=t.max)&&(!("min"in t)||e>=t.min)}},array:{validate:function(e,t){return Array.isArray(e)||ArrayBuffer.isView(e)}}});function o(e){var t=s(e);return"object"===t?e?"type"in e?Object.assign({},e,a[e.type]):"value"in e?(t=s(e.value),Object.assign({type:t},e,a[t])):{type:"object",value:e}:{type:"object",value:null}:Object.assign({type:t,value:e},a[t])}function s(e){return Array.isArray(e)||ArrayBuffer.isView(e)?"array":typeof e}r.d(t,"a",function(){return u});var u=function(){function e(e){var t=e.name,r=e.vs,n=e.fs,a=e.dependencies,s=void 0===a?[]:a,u=e.uniforms,c=e.getUniforms,f=e.deprecations,l=void 0===f?[]:f,_=e.defines,d=void 0===_?{}:_,E=e.vertexShader,h=e.fragmentShader;Object(i.a)("string"==typeof t),this.name=t,this.vs=r||E,this.fs=n||h,this.getModuleUniforms=c,this.dependencies=s,this.deprecations=this._parseDeprecationDefinitions(l),this.defines=d,u&&(this.uniforms=function(e){var t={};for(var r in e){var n=o(e[r]);t[r]=n}return t}(u))}var t=e.prototype;return t.getModuleSource=function(e,t){var r;switch(e){case"vs":r=n(this.vs||"",t,!0);break;case"fs":r=n(this.fs||"",t,!1);break;default:Object(i.a)(!1)}return"#define MODULE_"+this.name.toUpperCase()+"\n"+r+"// END MODULE_"+this.name+"\n\n"},t.getUniforms=function(e,t){return this.getModuleUniforms?this.getModuleUniforms(e,t):this.uniforms?this._defaultGetUniforms(e):{}},t.getDefines=function(){return this.defines},t.checkDeprecations=function(e,t){this.deprecations.forEach(function(r){r.regex.test(e)&&(r.deprecated?t.deprecated(r.old,r.new)():t.removed(r.old,r.new)())})},t._parseDeprecationDefinitions=function(e){return e.forEach(function(e){switch(e.type){case"function":e.regex=new RegExp("\\b"+e.old+"\\(");break;default:e.regex=new RegExp(e.type+" "+e.old+";")}}),e},t._defaultGetUniforms=function(e){void 0===e&&(e={});var t={},r=this.uniforms;for(var n in r){var a=r[n];n in e&&!a.private?(a.validate&&Object(i.a)(a.validate(e[n],a),this.name+": invalid "+n),t[n]=e[n]):t[n]=a.value}return t},e}()},332:function(e,t,r){"use strict";r(8),r(97);var n,i=r(336),a=r(352);r.d(t,"a",function(){return s}),r.d(t,"c",function(){return l}),r.d(t,"b",function(){return _});var o=((n={})[i.b]="#ifdef MODULE_LOGDEPTH\n  logdepth_adjustPosition(gl_Position);\n#endif\n",n[i.a]="#ifdef MODULE_MATERIAL\n  gl_FragColor = material_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LIGHTING\n  gl_FragColor = lighting_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_FOG\n  gl_FragColor = fog_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_PICKING\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LOGDEPTH\n  logdepth_setFragDepth();\n#endif\n",n),s="__LUMA_INJECT_DECLARATIONS__",u=/void main\s*\([^)]*\)\s*\{\n?/,c=/}\n?[^{}]*$/,f=[];function l(e,t,r,n){var a=t===i.b,l=function(t){var n=r[t];n.sort(function(e,t){return e.order-t.order}),f.length=n.length;for(var i=0,o=n.length;i<o;++i)f[i]=n[i].injection;var l=f.join("\n")+"\n";switch(t){case"vs:#decl":a&&(e=e.replace(s,l));break;case"vs:#main-start":a&&(e=e.replace(u,function(e){return e+l}));break;case"vs:#main-end":a&&(e=e.replace(c,function(e){return l+e}));break;case"fs:#decl":a||(e=e.replace(s,l));break;case"fs:#main-start":a||(e=e.replace(u,function(e){return e+l}));break;case"fs:#main-end":a||(e=e.replace(c,function(e){return l+e}));break;default:e=e.replace(t,function(e){return e+l})}};for(var _ in r)l(_);return e=e.replace(s,""),n&&(e=e.replace(/\}\s*$/,function(e){return e+o[t]})),e}function _(e){var t={};return Object(a.a)(Array.isArray(e)&&e.length>1),e.forEach(function(e){for(var r in e)t[r]=t[r]?t[r]+"\n"+e[r]:e[r]}),t}},333:function(e,t,r){"use strict";r.d(t,"c",function(){return v}),r.d(t,"a",function(){return R}),r.d(t,"b",function(){return g});var n,i=r(386),a=5120,o=5121,s=5122,u=5123,c=0,f=1,l=2,_=3,d=4,E=5,h=6,A=5126,T=((n={})[A]=[A,1,"float"],n[35664]=[A,2,"vec2"],n[35665]=[A,3,"vec3"],n[35666]=[A,4,"vec4"],n[5124]=[5124,1,"int"],n[35667]=[5124,2,"ivec2"],n[35668]=[5124,3,"ivec3"],n[35669]=[5124,4,"ivec4"],n[5125]=[5125,1,"uint"],n[36294]=[5125,2,"uvec2"],n[36295]=[5125,3,"uvec3"],n[36296]=[5125,4,"uvec4"],n[35670]=[A,1,"bool"],n[35671]=[A,2,"bvec2"],n[35672]=[A,3,"bvec3"],n[35673]=[A,4,"bvec4"],n[35674]=[A,8,"mat2"],n[35685]=[A,8,"mat2x3"],n[35686]=[A,8,"mat2x4"],n[35675]=[A,12,"mat3"],n[35687]=[A,12,"mat3x2"],n[35688]=[A,12,"mat3x4"],n[35676]=[A,16,"mat4"],n[35689]=[A,16,"mat4x2"],n[35690]=[A,16,"mat4x3"],n);function v(e){switch(e){case c:return c;case f:case _:case l:return f;case d:case E:case h:return d;default:return Object(i.a)(!1),0}}function R(e){var t=T[e];return t?{type:t[0],components:t[1]}:null}function g(e,t){switch(e){case a:case o:case s:case u:e=A}for(var r in T){var n=T[r],i=n[0],c=n[1],f=n[2];if(i===e&&c===t)return{glType:r,name:f}}return null}},334:function(e,t,r){"use strict";r.d(t,"a",function(){return h});r(130),r(306),r(4),r(40),r(39),r(2);var n=r(308),i=r.n(n),a=r(323),o=r(324),s=r(367),u=r(428),c=r(433),f=r(393),l=r(434),_=r(351),d=r(386);var E=[i.a.LINEAR,i.a.NEAREST],h=function(e){var t,r;function n(t,r){var n,i=r.id,a=void 0===i?Object(l.c)("texture"):i,o=r.handle,s=r.target;return(n=e.call(this,t,{id:a,handle:o})||this).target=s,n.textureUnit=void 0,n.loaded=!1,n.width=void 0,n.height=void 0,n.depth=void 0,n.format=void 0,n.type=void 0,n.dataFormat=void 0,n.border=void 0,n.textureUnit=void 0,n.mipmaps=void 0,n}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.isSupported=function(e,t){var r=void 0===t?{}:t,n=r.format,i=r.linearFiltering,a=!0;return n&&(a=(a=a&&Object(s.d)(e,n))&&(!i||Object(s.e)(e,n))),a};var a=n.prototype;return a.toString=function(){return"Texture("+this.id+","+this.width+"x"+this.height+")"},a.initialize=function(e){var t,r=this;void 0===e&&(e={});var n=e.data;if(n instanceof Promise)return n.then(function(t){return r.initialize(Object.assign({},e,{pixels:t,data:t}))}),this;var a=e,o=a.pixels,s=void 0===o?null:o,u=a.format,c=void 0===u?i.a.RGBA:u,f=a.border,l=void 0===f?0:f,d=a.recreate,E=void 0!==d&&d,h=a.parameters,A=void 0===h?{}:h,T=a.pixelStore,v=void 0===T?{}:T,R=a.textureUnit,g=void 0===R?void 0:R,m=a.unpackFlipY,p=void 0===m||m,b=e.mipmaps,O=void 0===b||b;n||(n=s);var N=e,F=N.width,S=N.height,I=N.dataFormat,L=N.type,C=e.depth,y=void 0===C?0:C,M=this._deduceParameters({format:c,type:L,dataFormat:I,compressed:!1,data:n,width:F,height:S});F=M.width,S=M.height,I=M.dataFormat,L=M.type,this.width=F,this.height=S,this.depth=y,this.format=c,this.type=L,this.dataFormat=I,this.border=l,this.textureUnit=g,Number.isFinite(this.textureUnit)&&(this.gl.activeTexture(i.a.TEXTURE0+this.textureUnit),this.gl.bindTexture(this.target,this.handle));var P=((t={})[i.a.UNPACK_FLIP_Y_WEBGL]=p,t),B=Object.assign({},P,v);return O&&this._isNPOT()&&(_.a.warn("texture: "+this+" is Non-Power-Of-Two, disabling mipmaping")(),O=!1,this._updateForNPOT(A)),this.mipmaps=O,this.setImageData({data:n,width:F,height:S,depth:y,format:c,type:L,dataFormat:I,border:l,mipmaps:O,parameters:B}),O&&this.generateMipmap(),this.setParameters(A),E&&(this.data=n),this},a.resize=function(e){var t=e.height,r=e.width,n=e.mipmaps,i=void 0!==n&&n;return r!==this.width||t!==this.height?this.initialize({width:r,height:t,format:this.format,type:this.type,dataFormat:this.dataFormat,border:this.border,mipmaps:i}):this},a.generateMipmap=function(e){var t=this;return void 0===e&&(e={}),this._isNPOT()?(_.a.warn("texture: "+this+" is Non-Power-Of-Two, disabling mipmaping")(),this):(this.mipmaps=!0,this.gl.bindTexture(this.target,this.handle),Object(u.a)(this.gl,e,function(){t.gl.generateMipmap(t.target)}),this.gl.bindTexture(this.target,null),this)},a.setImageData=function(e){this._trackDeallocatedMemory("Texture");var t=e.target,r=void 0===t?this.target:t,n=e.pixels,a=void 0===n?null:n,o=e.level,f=void 0===o?0:o,l=e.format,_=void 0===l?this.format:l,E=e.border,h=void 0===E?this.border:E,A=e.offset,T=void 0===A?0:A,v=e.parameters,R=void 0===v?{}:v,g=e.data,m=void 0===g?null:g,p=e.type,b=void 0===p?this.type:p,O=e.width,N=void 0===O?this.width:O,F=e.height,S=void 0===F?this.height:F,I=e.dataFormat,L=void 0===I?this.dataFormat:I,C=e.compressed,y=void 0!==C&&C;m||(m=a);var M=this._deduceParameters({format:_,type:b,dataFormat:L,compressed:y,data:m,width:N,height:S});b=M.type,L=M.dataFormat,y=M.compressed,N=M.width,S=M.height;var P=this.gl;P.bindTexture(this.target,this.handle);var B,D=this._getDataType({data:m,compressed:y});if(m=D.data,B=D.dataType,Object(u.a)(this.gl,R,function(){switch(B){case"null":P.texImage2D(r,f,_,N,S,h,L,b,m);break;case"typed-array":P.texImage2D(r,f,_,N,S,h,L,b,m,T);break;case"buffer":Object(c.a)(P),P.bindBuffer(i.a.PIXEL_UNPACK_BUFFER,m.handle||m),P.texImage2D(r,f,_,N,S,h,L,b,T),P.bindBuffer(i.a.PIXEL_UNPACK_BUFFER,null);break;case"browser-object":Object(c.d)(P)?P.texImage2D(r,f,_,N,S,h,L,b,m):P.texImage2D(r,f,_,L,b,m);break;case"compressed":P.compressedTexImage2D(r,f,_,N,S,h,m);break;default:Object(d.a)(!1,"Unknown image data type")}}),m&&m.byteLength)this._trackAllocatedMemory(m.byteLength,"Texture");else{var U=s.a[this.dataFormat]||4,w=s.c[this.type]||1;this._trackAllocatedMemory(this.width*this.height*U*w,"Texture")}return this.loaded=!0,this},a.setSubImageData=function(e){var t=this,r=e.target,n=void 0===r?this.target:r,a=e.pixels,s=void 0===a?null:a,l=e.data,_=void 0===l?null:l,E=e.x,h=void 0===E?0:E,A=e.y,T=void 0===A?0:A,v=e.width,R=void 0===v?this.width:v,g=e.height,m=void 0===g?this.height:g,p=e.level,b=void 0===p?0:p,O=e.format,N=void 0===O?this.format:O,F=e.type,S=void 0===F?this.type:F,I=e.dataFormat,L=void 0===I?this.dataFormat:I,C=e.compressed,y=void 0!==C&&C,M=e.offset,P=void 0===M?0:M,B=e.border,D=(void 0===B&&this.border,e.parameters),U=void 0===D?{}:D,w=this._deduceParameters({format:N,type:S,dataFormat:L,compressed:y,data:_,width:R,height:m});if(S=w.type,L=w.dataFormat,y=w.compressed,R=w.width,m=w.height,Object(d.a)(0===this.depth,"texSubImage not supported for 3D textures"),_||(_=s),_&&_.data){var x=_;_=x.data,R=x.shape[0],m=x.shape[1]}_ instanceof o.a&&(_=_.handle),this.gl.bindTexture(this.target,this.handle),Object(u.a)(this.gl,U,function(){y?t.gl.compressedTexSubImage2D(n,b,h,T,R,m,N,_):null===_?t.gl.texSubImage2D(n,b,h,T,R,m,L,S,null):ArrayBuffer.isView(_)?t.gl.texSubImage2D(n,b,h,T,R,m,L,S,_,P):_ instanceof f.b?(Object(c.a)(t.gl),t.gl.bindBuffer(i.a.PIXEL_UNPACK_BUFFER,_),t.gl.texSubImage2D(n,b,h,T,R,m,L,S,P),t.gl.bindBuffer(i.a.PIXEL_UNPACK_BUFFER,null)):Object(c.d)(t.gl)?t.gl.texSubImage2D(n,b,h,T,R,m,L,S,_):t.gl.texSubImage2D(n,b,h,T,L,S,_)}),this.gl.bindTexture(this.target,null)},a.copyFramebuffer=function(e){return void 0===e&&(e={}),_.a.error("Texture.copyFramebuffer({...}) is no logner supported, use copyToTexture(source, target, opts})")(),null},a.getActiveUnit=function(){return this.gl.getParameter(i.a.ACTIVE_TEXTURE)-i.a.TEXTURE0},a.bind=function(e){void 0===e&&(e=this.textureUnit);var t=this.gl;return void 0!==e&&(this.textureUnit=e,t.activeTexture(t.TEXTURE0+e)),t.bindTexture(this.target,this.handle),e},a.unbind=function(e){void 0===e&&(e=this.textureUnit);var t=this.gl;return void 0!==e&&(this.textureUnit=e,t.activeTexture(t.TEXTURE0+e)),t.bindTexture(this.target,null),e},a._getDataType=function(e){var t=e.data,r=e.compressed;return void 0!==r&&r?{data:t,dataType:"compressed"}:null===t?{data:t,dataType:"null"}:ArrayBuffer.isView(t)?{data:t,dataType:"typed-array"}:t instanceof o.a?{data:t.handle,dataType:"buffer"}:t instanceof f.b?{data:t,dataType:"buffer"}:{data:t,dataType:"browser-object"}},a._deduceParameters=function(e){var t=e.format,r=e.data,n=e.width,i=e.height,a=e.dataFormat,o=e.type,u=e.compressed,c=s.b[t];a=a||c&&c.dataFormat,o=o||c&&c.types[0],u=u||c&&c.compressed;var f=this._deduceImageSize(r,n,i);return{dataFormat:a,type:o,compressed:u,width:n=f.width,height:i=f.height,format:t,data:r}},a._deduceImageSize=function(e,t,r){var n;return n="undefined"!=typeof ImageData&&e instanceof ImageData?{width:e.width,height:e.height}:"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement?{width:e.naturalWidth,height:e.naturalHeight}:"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement?{width:e.width,height:e.height}:"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap?{width:e.width,height:e.height}:"undefined"!=typeof HTMLVideoElement&&e instanceof HTMLVideoElement?{width:e.videoWidth,height:e.videoHeight}:e?{width:t,height:r}:{width:t>=0?t:1,height:r>=0?r:1},Object(d.a)(n,"Could not deduced texture size"),Object(d.a)(void 0===t||n.width===t,"Deduced texture width does not match supplied width"),Object(d.a)(void 0===r||n.height===r,"Deduced texture height does not match supplied height"),n},a._createHandle=function(){return this.gl.createTexture()},a._deleteHandle=function(){this.gl.deleteTexture(this.handle),this._trackDeallocatedMemory("Texture")},a._getParameter=function(e){switch(e){case i.a.TEXTURE_WIDTH:return this.width;case i.a.TEXTURE_HEIGHT:return this.height;default:this.gl.bindTexture(this.target,this.handle);var t=this.gl.getTexParameter(this.target,e);return this.gl.bindTexture(this.target,null),t}},a._setParameter=function(e,t){switch(this.gl.bindTexture(this.target,this.handle),t=this._getNPOTParam(e,t),e){case i.a.TEXTURE_MIN_LOD:case i.a.TEXTURE_MAX_LOD:this.gl.texParameterf(this.handle,e,t);break;case i.a.TEXTURE_WIDTH:case i.a.TEXTURE_HEIGHT:Object(d.a)(!1);break;default:this.gl.texParameteri(this.target,e,t)}return this.gl.bindTexture(this.target,null),this},a._isNPOT=function(){return!Object(c.d)(this.gl)&&(!(!this.width||!this.height)&&(!Object(l.b)(this.width)||!Object(l.b)(this.height)))},a._updateForNPOT=function(e){void 0===e[this.gl.TEXTURE_MIN_FILTER]&&(e[this.gl.TEXTURE_MIN_FILTER]=this.gl.LINEAR),void 0===e[this.gl.TEXTURE_WRAP_S]&&(e[this.gl.TEXTURE_WRAP_S]=this.gl.CLAMP_TO_EDGE),void 0===e[this.gl.TEXTURE_WRAP_T]&&(e[this.gl.TEXTURE_WRAP_T]=this.gl.CLAMP_TO_EDGE)},a._getNPOTParam=function(e,t){if(this._isNPOT())switch(e){case i.a.TEXTURE_MIN_FILTER:-1===E.indexOf(t)&&(t=i.a.LINEAR);break;case i.a.TEXTURE_WRAP_S:case i.a.TEXTURE_WRAP_T:t!==i.a.CLAMP_TO_EDGE&&(t=i.a.CLAMP_TO_EDGE)}return t},n}(a.a)},336:function(e,t,r){"use strict";r.d(t,"b",function(){return n}),r.d(t,"a",function(){return i});var n="vs",i="fs"},337:function(e,t,r){"use strict";r.d(t,"a",function(){return f});r(4),r(307),r(312);var n=r(314),i=r(434);var a=new Uint16Array([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23]),o=new Float32Array([-1,-1,1,1,-1,1,1,1,1,-1,1,1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,1,-1,-1,1,1,1,1,1,1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,-1,1,-1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1]),s=new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0]),u=new Float32Array([0,0,1,0,1,1,0,1,1,0,1,1,0,1,0,0,0,1,0,0,1,0,1,1,1,1,0,1,0,0,1,0,1,0,1,1,0,1,0,0,0,0,1,0,1,1,0,1]),c={POSITION:{size:3,value:new Float32Array(o)},NORMAL:{size:3,value:new Float32Array(s)},TEXCOORD_0:{size:2,value:new Float32Array(u)}},f=function(e){var t,r;function n(t){void 0===t&&(t={});var r=t.id,n=void 0===r?Object(i.c)("cube-geometry"):r;return e.call(this,Object.assign({},t,{id:n,indices:{size:1,value:new Uint16Array(a)},attributes:Object.assign({},c,t.attributes)}))||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n}(n.a)},338:function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n={vs:"#define SHADER_NAME luma_modular_vertex\n\n// object attributes\nattribute vec3 positions;\nattribute vec3 normals;\nattribute vec4 colors;\nattribute vec2 texCoords;\nattribute vec3 pickingColors;\n\nvoid main(void) {\n\n  // Set up position\n#ifdef MODULE_GEOMETRY\n  geometry_setPosition(positions);\n  geometry_setNormal(normals);\n#endif\n\n#ifdef MODULE_PROJECT\n  project_setPositionAndNormal_Model(positions, normals);\n  gl_Position = project_model_to_clipspace(positions);\n#endif\n\n  // Set up depth\n#ifdef MODULE_LOGDEPTH\n  logdepth_adjustPosition(gl_Position);\n#endif\n\n#ifdef MODULE_DIFFUSE\n  diffuse_setTextureCoordinate(texCoords);\n#endif\n\n  // Set up color calculations\n#ifdef MODULE_MATERIAL\n  material_setDiffuseColor(colors);\n  material_setDiffuseTextureCoordinates(texCoords);\n#endif\n\n#ifdef MODULE_LIGHTING\n  lighting_setPositionAndNormal(positions, normals);\n  lighting_apply_light(positions);\n  lighting_apply_reflection(positions);\n#endif\n\n#ifdef MODULE_PICKING\n  picking_setPickingColor(pickingColors);\n#endif\n\n}\n",fs:"#define SHADER_NAME luma-modular-fragment\n\nprecision highp float;\n\n// varyings\nvarying vec4 vColor;\n\nvoid main(){\n  gl_FragColor = vec4(1., 0., 1., 1.);\n\n#ifdef MODULE_DIFFUSE\n  gl_FragColor = diffuse_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_MATERIAL\n  gl_FragColor = material_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LIGHTING\n  gl_FragColor = lighting_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_FOG\n  gl_FragColor = fog_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_PICKING\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LOGDEPTH\n  logdepth_setFragDepth(gl_Position);\n#endif\n}\n",uniforms:{}}},340:function(e,t,r){"use strict";(function(e){r(5),r(2),r(9),r(10),r(7),r(3);var t=r(364),n=r(401);function i(e,r){var i=r.extension,a=r.target,o=r.target2,s=n.b[i];Object(t.a)(s);for(var u=s.meta,c=(void 0===u?{}:u).suffix,f=void 0===c?"":c,l=e.getExtension(i),_=function(){var t=E[d],r=""+t+f,n=null;"meta"===t||"function"==typeof e[t]||(l&&"function"==typeof l[r]?n=function(){return l[r].apply(l,arguments)}:"function"==typeof s[t]&&(n=s[t].bind(a))),n&&(a[t]=n,o[t]=n)},d=0,E=Object.keys(s);d<E.length;d++)_()}(void 0!==e?e:window).polyfillContext=function(e){return e.luma=e.luma||{},function(e){e.luma.extensions={};for(var t=e.getSupportedExtensions()||[],r=Array.isArray(t),n=0,t=r?t:t[Symbol.iterator]();;){var i;if(r){if(n>=t.length)break;i=t[n++]}else{if((n=t.next()).done)break;i=n.value}var a=i;e.luma[a]=e.getExtension(a)}}(e),e.luma.polyfilled||(function(e,t){for(var r=Object.getOwnPropertyNames(t),n=Array.isArray(r),a=0,r=n?r:r[Symbol.iterator]();;){var o;if(n){if(a>=r.length)break;o=r[a++]}else{if((a=r.next()).done)break;o=a.value}var s=o;"overrides"!==s&&i(e,{extension:s,target:e.luma,target2:e})}}(e,n.b),function(e,t){var r=t.target,i=t.target2;Object.keys(n.a).forEach(function(t){if("function"==typeof n.a[t]){var a=e[t]?e[t].bind(e):function(){},o=n.a[t].bind(null,e,a);r[t]=o,i[t]=o}})}(e,{target:e.luma,target2:e}),e.luma.polyfilled=!0),e}}).call(this,r(99))},341:function(e,t,r){"use strict";(function(e){r.d(t,"b",function(){return i}),r.d(t,"a",function(){return a});var n={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==e&&e,document:"undefined"!=typeof document&&document},i=n.window||n.self||n.global,a=n.global||n.self||n.window}).call(this,r(99))},342:function(e,t,r){"use strict";r.d(t,"a",function(){return T});r(10),r(7),r(130),r(4),r(3),r(5),r(2),r(9),r(311);var n=r(308),i=r.n(n),a=r(323),o=r(368),s=r(369),u=r(394),c=r(400),f=r(440),l=r(433),_=r(435),d=r(386),E=r(351);function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function A(e,t,r){return t&&h(e.prototype,t),r&&h(e,r),e}var T=function(e){var t,r;function n(t,r){var n;return void 0===r&&(r={}),(n=e.call(this,t,r)||this).width=null,n.height=null,n.attachments={},n.readBuffer=i.a.COLOR_ATTACHMENT0,n.drawBuffers=[i.a.COLOR_ATTACHMENT0],n.initialize(r),Object.seal(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n)),n}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.isSupported=function(e,t){var r=void 0===t?{}:t,n=r.colorBufferFloat,i=r.colorBufferHalfFloat;return n&&e.getExtension(Object(l.d)(e)?"EXT_color_buffer_float":"WEBGL.color_buffer_float"),i&&e.getExtension(Object(l.d)(e)?"EXT_color_buffer_float":"EXT_color_buffer_half_float")},n.getDefaultFramebuffer=function(e){return e.luma=e.luma||{},e.luma.defaultFramebuffer=e.luma.defaultFramebuffer||new n(e,{id:"default-framebuffer",handle:null,attachments:{}}),e.luma.defaultFramebuffer},A(n,[{key:"MAX_COLOR_ATTACHMENTS",get:function(){return this.gl.getParameter(this.gl.MAX_COLOR_ATTACHMENTS)}},{key:"MAX_DRAW_BUFFERS",get:function(){return this.gl.getParameter(this.gl.MAX_DRAW_BUFFERS)}}]);var a=n.prototype;return a.initialize=function(e){var t=e.width,r=void 0===t?1:t,n=e.height,i=void 0===n?1:n,a=e.attachments,o=void 0===a?null:a,s=e.color,u=void 0===s||s,c=e.depth,f=void 0===c||c,l=e.stencil,_=void 0!==l&&l,E=e.check,h=void 0===E||E,A=e.readBuffer,T=e.drawBuffers;if(Object(d.a)(r>=0&&i>=0,"Width and height need to be integers"),this.width=r,this.height=i,o)for(var v in o){var R=o[v];(Array.isArray(R)?R[0]:R).resize({width:r,height:i})}else o=this._createDefaultAttachments(u,f,_,r,i);this.update({clearAttachments:!0,attachments:o,readBuffer:A,drawBuffers:T}),o&&h&&this.checkStatus()},a.update=function(e){var t=e.attachments,r=void 0===t?{}:t,n=e.readBuffer,a=e.drawBuffers,o=e.clearAttachments,s=void 0!==o&&o,u=e.resizeAttachments,c=void 0===u||u;this.attach(r,{clearAttachments:s,resizeAttachments:c});var f=this.gl,l=f.bindFramebuffer(i.a.FRAMEBUFFER,this.handle);return n&&this._setReadBuffer(n),a&&this._setDrawBuffers(a),f.bindFramebuffer(i.a.FRAMEBUFFER,l||null),this},a.resize=function(e){var t=void 0===e?{}:e,r=t.width,n=t.height;if(null===this.handle)return Object(d.a)(void 0===r&&void 0===n),this.width=this.gl.drawingBufferWidth,this.height=this.gl.drawingBufferHeight,this;for(var i in void 0===r&&(r=this.gl.drawingBufferWidth),void 0===n&&(n=this.gl.drawingBufferHeight),r!==this.width&&n!==this.height&&E.a.log(2,"Resizing framebuffer "+this.id+" to "+r+"x"+n)(),this.attachments)this.attachments[i].resize({width:r,height:n});return this.width=r,this.height=n,this},a.attach=function(e,t){var r=this,n=void 0===t?{}:t,a=n.clearAttachments,o=void 0!==a&&a,u=n.resizeAttachments,c=void 0===u||u,f={};o&&Object.keys(this.attachments).forEach(function(e){f[e]=null}),Object.assign(f,e);var l=this.gl.bindFramebuffer(i.a.FRAMEBUFFER,this.handle);for(var _ in f){Object(d.a)(void 0!==_,"Misspelled framebuffer binding point?");var E=Number(_),h=f[E],A=h;if(A)if(A instanceof s.a)this._attachRenderbuffer({attachment:E,renderbuffer:A});else if(Array.isArray(h)){var T=h[0],v=h[1],R=void 0===v?0:v,g=h[2],m=void 0===g?0:g;A=T,this._attachTexture({attachment:E,texture:T,layer:R,level:m})}else this._attachTexture({attachment:E,texture:A,layer:0,level:0});else this._unattach(E);c&&A&&A.resize({width:this.width,height:this.height})}this.gl.bindFramebuffer(i.a.FRAMEBUFFER,l||null),Object.assign(this.attachments,e),Object.keys(this.attachments).filter(function(e){return!r.attachments[e]}).forEach(function(e){delete r.attachments[e]})},a.checkStatus=function(){var e=this.gl,t=e.bindFramebuffer(i.a.FRAMEBUFFER,this.handle),r=e.checkFramebufferStatus(i.a.FRAMEBUFFER);if(e.bindFramebuffer(i.a.FRAMEBUFFER,t||null),r!==e.FRAMEBUFFER_COMPLETE)throw new Error(v(r));return this},a.clear=function(e){var t=void 0===e?{}:e,r=t.color,n=t.depth,a=t.stencil,o=t.drawBuffers,s=void 0===o?[]:o,c=this.gl.bindFramebuffer(i.a.FRAMEBUFFER,this.handle);return(r||n||a)&&Object(u.a)(this.gl,{color:r,depth:n,stencil:a}),s.forEach(function(e,t){Object(u.b)({drawBuffer:t,value:e})}),this.gl.bindFramebuffer(i.a.FRAMEBUFFER,c||null),this},a.readPixels=function(e){return void 0===e&&(e={}),E.a.error("Framebuffer.readPixels() is no logner supported, use readPixelsToArray(framebuffer)")(),null},a.readPixelsToBuffer=function(e){return void 0===e&&(e={}),E.a.error("Framebuffer.readPixelsToBuffer()is no logner supported, use readPixelsToBuffer(framebuffer)")(),null},a.copyToDataUrl=function(e){return void 0===e&&(e={}),E.a.error("Framebuffer.copyToDataUrl() is no logner supported, use copyToDataUrl(framebuffer)")(),null},a.copyToImage=function(e){return void 0===e&&(e={}),E.a.error("Framebuffer.copyToImage() is no logner supported, use copyToImage(framebuffer)")(),null},a.copyToTexture=function(e){return void 0===e&&(e={}),E.a.error("Framebuffer.copyToTexture({...}) is no logner supported, use copyToTexture(source, target, opts})")(),null},a.blit=function(e){return void 0===e&&(e={}),E.a.error("Framebuffer.blit({...}) is no logner supported, use blit(source, target, opts)")(),null},a.invalidate=function(e){var t=e.attachments,r=void 0===t?[]:t,n=e.x,a=void 0===n?0:n,o=e.y,s=void 0===o?0:o,u=e.width,c=e.height,f=this.gl;Object(l.a)(f);var _=f.bindFramebuffer(i.a.READ_FRAMEBUFFER,this.handle);return 0===a&&0===s&&void 0===u&&void 0===c?f.invalidateFramebuffer(i.a.READ_FRAMEBUFFER,r):f.invalidateFramebuffer(i.a.READ_FRAMEBUFFER,r,a,s,u,c),f.bindFramebuffer(i.a.READ_FRAMEBUFFER,_),this},a.getAttachmentParameter=function(e,t,r){var n=this._getAttachmentParameterFallback(t);return null===n&&(this.gl.bindFramebuffer(i.a.FRAMEBUFFER,this.handle),n=this.gl.getFramebufferAttachmentParameter(i.a.FRAMEBUFFER,e,t),this.gl.bindFramebuffer(i.a.FRAMEBUFFER,null)),r&&n>1e3&&(n=Object(_.a)(this.gl,n)),n},a.getAttachmentParameters=function(e,t,r){void 0===e&&(e=i.a.COLOR_ATTACHMENT0),void 0===r&&(r=this.constructor.ATTACHMENT_PARAMETERS||[]);var n={},a=r,o=Array.isArray(a),s=0;for(a=o?a:a[Symbol.iterator]();;){var u;if(o){if(s>=a.length)break;u=a[s++]}else{if((s=a.next()).done)break;u=s.value}var c=u;n[t?Object(_.a)(this.gl,c):c]=this.getAttachmentParameter(e,c,t)}return n},a.getParameters=function(e){void 0===e&&(e=!0);for(var t={},r=0,n=Object.keys(this.attachments);r<n.length;r++){var i=n[r],a=Number(i);t[e?Object(_.a)(this.gl,a):a]=this.getAttachmentParameters(a,e)}return t},a.show=function(){return"undefined"!=typeof window&&window.open(Object(c.a)(this),"luma-debug-texture"),this},a.log=function(e,t){if(void 0===e&&(e=0),void 0===t&&(t=""),e>E.a.priority||"undefined"==typeof window)return this;t=t||"Framebuffer "+this.id;var r=Object(c.a)(this,{maxHeight:100});return E.a.image({priority:e,message:t,image:r},t)(),this},a.bind=function(e){var t=(void 0===e?{}:e).target,r=void 0===t?i.a.FRAMEBUFFER:t;return this.gl.bindFramebuffer(r,this.handle),this},a.unbind=function(e){var t=(void 0===e?{}:e).target,r=void 0===t?i.a.FRAMEBUFFER:t;return this.gl.bindFramebuffer(r,null),this},a._createDefaultAttachments=function(e,t,r,n,a){var u,c=null;e&&((c=c||{})[i.a.COLOR_ATTACHMENT0]=new o.a(this.gl,{id:this.id+"-color0",pixels:null,format:i.a.RGBA,type:i.a.UNSIGNED_BYTE,width:n,height:a,mipmaps:!1,parameters:(u={},u[i.a.TEXTURE_MIN_FILTER]=i.a.LINEAR,u[i.a.TEXTURE_MAG_FILTER]=i.a.LINEAR,u[i.a.TEXTURE_WRAP_S]=i.a.CLAMP_TO_EDGE,u[i.a.TEXTURE_WRAP_T]=i.a.CLAMP_TO_EDGE,u)}));return t&&r?(c=c||{})[i.a.DEPTH_STENCIL_ATTACHMENT]=new s.a(this.gl,{id:this.id+"-depth-stencil",format:i.a.DEPTH24_STENCIL8,width:n,height:111}):t?(c=c||{})[i.a.DEPTH_ATTACHMENT]=new s.a(this.gl,{id:this.id+"-depth",format:i.a.DEPTH_COMPONENT16,width:n,height:a}):r&&Object(d.a)(!1),c},a._unattach=function(e){var t=this.attachments[e];t&&(t instanceof s.a?this.gl.framebufferRenderbuffer(i.a.FRAMEBUFFER,e,i.a.RENDERBUFFER,null):this.gl.framebufferTexture2D(i.a.FRAMEBUFFER,e,i.a.TEXTURE_2D,null,0),delete this.attachments[e])},a._attachRenderbuffer=function(e){var t=e.attachment,r=void 0===t?i.a.COLOR_ATTACHMENT0:t,n=e.renderbuffer;this.gl.framebufferRenderbuffer(i.a.FRAMEBUFFER,r,i.a.RENDERBUFFER,n.handle),this.attachments[r]=n},a._attachTexture=function(e){var t=e.attachment,r=void 0===t?i.a.COLOR_ATTACHMENT0:t,n=e.texture,a=e.layer,o=e.level,s=this.gl;switch(s.bindTexture(n.target,n.handle),n.target){case i.a.TEXTURE_2D_ARRAY:case i.a.TEXTURE_3D:s.framebufferTextureLayer(i.a.FRAMEBUFFER,r,n.target,o,a);break;case i.a.TEXTURE_CUBE_MAP:var u=function(e){return e<i.a.TEXTURE_CUBE_MAP_POSITIVE_X?e+i.a.TEXTURE_CUBE_MAP_POSITIVE_X:e}(a);s.framebufferTexture2D(i.a.FRAMEBUFFER,r,u,n.handle,o);break;case i.a.TEXTURE_2D:s.framebufferTexture2D(i.a.FRAMEBUFFER,r,i.a.TEXTURE_2D,n.handle,o);break;default:Object(d.a)(!1,"Illegal texture type")}s.bindTexture(n.target,null),this.attachments[r]=n},a._setReadBuffer=function(e){var t=this.gl;Object(l.d)(t)?t.readBuffer(e):Object(d.a)(e===i.a.COLOR_ATTACHMENT0||e===i.a.BACK,"Multiple render targets not supported"),this.readBuffer=e},a._setDrawBuffers=function(e){var t=this.gl;if(Object(l.d)(t))t.drawBuffers(e);else{var r=t.getExtension("WEBGL.draw_buffers");r?r.drawBuffersWEBGL(e):Object(d.a)(1===e.length&&(e[0]===i.a.COLOR_ATTACHMENT0||e[0]===i.a.BACK),"Multiple render targets not supported")}this.drawBuffers=e},a._getAttachmentParameterFallback=function(e){var t=Object(f.a)(this.gl);switch(e){case i.a.FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER:return t.webgl2?null:0;case i.a.FRAMEBUFFER_ATTACHMENT_RED_SIZE:case i.a.FRAMEBUFFER_ATTACHMENT_GREEN_SIZE:case i.a.FRAMEBUFFER_ATTACHMENT_BLUE_SIZE:case i.a.FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE:case i.a.FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE:case i.a.FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE:return t.webgl2?null:8;case i.a.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE:return t.webgl2?null:i.a.UNSIGNED_INT;case i.a.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING:return t.webgl2||t.EXT_sRGB?null:i.a.LINEAR;default:return null}},a._createHandle=function(){return this.gl.createFramebuffer()},a._deleteHandle=function(){this.gl.deleteFramebuffer(this.handle)},a._bindHandle=function(e){return this.gl.bindFramebuffer(i.a.FRAMEBUFFER,e)},A(n,[{key:"color",get:function(){return this.attachments[i.a.COLOR_ATTACHMENT0]||null}},{key:"texture",get:function(){return this.attachments[i.a.COLOR_ATTACHMENT0]||null}},{key:"depth",get:function(){return this.attachments[i.a.DEPTH_ATTACHMENT]||this.attachments[i.a.DEPTH_STENCIL_ATTACHMENT]||null}},{key:"stencil",get:function(){return this.attachments[i.a.STENCIL_ATTACHMENT]||this.attachments[i.a.DEPTH_STENCIL_ATTACHMENT]||null}}]),n}(a.a);function v(e){return(T.STATUS||{})[e]||"Framebuffer error "+e}var R=[i.a.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME,i.a.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE,i.a.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING,i.a.FRAMEBUFFER_ATTACHMENT_RED_SIZE,i.a.FRAMEBUFFER_ATTACHMENT_GREEN_SIZE,i.a.FRAMEBUFFER_ATTACHMENT_BLUE_SIZE,i.a.FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE,i.a.FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE,i.a.FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE];T.ATTACHMENT_PARAMETERS=R},348:function(e,t,r){"use strict";var n=r(330),i=(r(4),r(39),r(2),r(15),r(437)),a=r(457),o=r(434),s=r(386),u=function(){function e(e){void 0===e&&(e={});var t=e.id;this.id=t||Object(o.c)(this.constructor.name),this.display=!0,this.position=new i.a,this.rotation=new i.a,this.scale=new i.a(1,1,1),this.matrix=new a.a,this.userData={},this.props={},this._setScenegraphNodeProps(e)}var t=e.prototype;return t.delete=function(){},t.setProps=function(e){return this._setScenegraphNodeProps(e),this},t.toString=function(){return"{type: ScenegraphNode, id: "+this.id+")}"},t.setPosition=function(e){return Object(s.a)(3===e.length,"setPosition requires vector argument"),this.position=e,this},t.setRotation=function(e){return Object(s.a)(3===e.length,"setRotation requires vector argument"),this.rotation=e,this},t.setScale=function(e){return Object(s.a)(3===e.length,"setScale requires vector argument"),this.scale=e,this},t.setMatrix=function(e,t){void 0===t&&(t=!0),t?this.matrix.copy(e):this.matrix=e},t.setMatrixComponents=function(e){var t=e.position,r=e.rotation,n=e.scale,i=e.update,a=void 0===i||i;return t&&this.setPosition(t),r&&this.setRotation(r),n&&this.setScale(n),a&&this.updateMatrix(),this},t.updateMatrix=function(){var e=this.position,t=this.rotation,r=this.scale;return this.matrix.identity(),this.matrix.translate(e),this.matrix.rotateXYZ(t),this.matrix.scale(r),this},t.update=function(e){var t=void 0===e?{}:e,r=t.position,n=t.rotation,i=t.scale;return r&&this.setPosition(r),n&&this.setRotation(n),i&&this.setScale(i),this.updateMatrix(),this},t.getCoordinateUniforms=function(e,t){Object(s.a)(e),t=t||this.matrix;var r=new a.a(e).multiplyRight(t),n=r.invert(),i=n.transpose();return{viewMatrix:e,modelMatrix:t,objectMatrix:t,worldMatrix:r,worldInverseMatrix:n,worldInverseTransposeMatrix:i}},t._setScenegraphNodeProps=function(e){"display"in e&&(this.display=e.display),"position"in e&&this.setPosition(e.position),"rotation"in e&&this.setRotation(e.rotation),"scale"in e&&this.setScale(e.scale),"matrix"in e&&this.setMatrix(e.matrix),Object.assign(this.props,e)},e}();r.d(t,"a",function(){return c});var c=function(e){var t,r;function i(t,r){var i;return void 0===r&&(r={}),(i=e.call(this,r)||this).onBeforeRender=null,i.AfterRender=null,t instanceof n.a?(i.model=t,i._setModelNodeProps(r)):i.model=new n.a(t,r),i.managedResources=r.managedResources||[],i}r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=i.prototype;return a.setProps=function(t){return e.prototype.setProps.call(this,t),this._setModelNodeProps(t),this},a.delete=function(){this.model&&(this.model.delete(),this.model=null),this.managedResources.forEach(function(e){return e.delete()}),this.managedResources=[]},a.draw=function(){var e;return(e=this.model).draw.apply(e,arguments)},a.setUniforms=function(){var e;return(e=this.model).setUniforms.apply(e,arguments),this},a.setAttributes=function(){var e;return(e=this.model).setAttributes.apply(e,arguments),this},a.updateModuleSettings=function(){var e;return(e=this.model).updateModuleSettings.apply(e,arguments),this},a._setModelNodeProps=function(e){this.model.setProps(e)},i}(u)},351:function(e,t,r){"use strict";var n=r(456);t.a=new n.a({id:"luma"}).enable()},352:function(e,t,r){"use strict";function n(e,t){if(!e)throw new Error(t||"shadertools: assertion failed.")}r.d(t,"a",function(){return n})},353:function(e,t,r){"use strict";r.d(t,"a",function(){return d});r(360),r(46),r(39),r(2),r(370);var n=r(308),i=r.n(n),a=r(388),o=r(386),s=r(432);function u(e,t,r){return(u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&c(i,r.prototype),i}).apply(null,arguments)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var l={offset:0,stride:0,type:i.a.FLOAT,size:1,divisor:0,normalized:!1,integer:!1},_={deprecatedProps:{instanced:"divisor",isInstanced:"divisor"}},d=function(){function e(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];r.forEach(function(t){return e._assign(t)}),Object.freeze(this)}e.getBytesPerElement=function(e){return Object(a.c)(e.type||i.a.FLOAT).BYTES_PER_ELEMENT},e.getBytesPerVertex=function(e){return Object(o.a)(e.size),Object(a.c)(e.type||i.a.FLOAT).BYTES_PER_ELEMENT*e.size},e.resolve=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return u(e,[l].concat(r))};var t,r,n,c=e.prototype;return c.toString=function(){return JSON.stringify(this)},c._assign=function(e){return void 0===e&&(e={}),void 0!==(e=Object(s.a)("Accessor",e,_)).type&&(this.type=e.type,e.type!==i.a.INT&&e.type!==i.a.UNSIGNED_INT||(this.integer=!0)),void 0!==e.size&&(this.size=e.size),void 0!==e.offset&&(this.offset=e.offset),void 0!==e.stride&&(this.stride=e.stride),void 0!==e.normalized&&(this.normalized=e.normalized),void 0!==e.integer&&(this.integer=e.integer),void 0!==e.divisor&&(this.divisor=e.divisor),void 0!==e.buffer&&(this.buffer=e.buffer),void 0!==e.index&&("boolean"==typeof index?this.index=e.index?1:0:this.index=e.index),void 0!==e.instanced&&(this.divisor=e.instanced?1:0),void 0!==e.isInstanced&&(this.divisor=e.isInstanced?1:0),this},t=e,(r=[{key:"BYTES_PER_ELEMENT",get:function(){return e.getBytesPerElement(this)}},{key:"BYTES_PER_VERTEX",get:function(){return e.getBytesPerVertex(this)}}])&&f(t.prototype,r),n&&f(t,n),e}()},362:function(e,t,r){"use strict";r.d(t,"c",function(){return i}),r.d(t,"a",function(){return o}),r.d(t,"b",function(){return s});r(10),r(7),r(3),r(5),r(2),r(9),r(4),r(130);var n=r(363);r(383),r(430);function i(e,t){var r={};for(var i in t){var a=Number(i),o=n.d[i];o&&("string"==typeof o?r[o]=!0:o(e,t[i],a))}var s=e.state&&e.state.cache;if(s){var u=Object.assign({},s,t);for(var c in r){(0,n.a[c])(e,u)}}}function a(e,t){var r=n.c[t];return r?r(e,Number(t)):e.getParameter(Number(t))}function o(e,t){t=t||n.b;var r={},i=Array.isArray(t)?t:Object.keys(t),o=Array.isArray(i),s=0;for(i=o?i:i[Symbol.iterator]();;){var u;if(o){if(s>=i.length)break;u=i[s++]}else{if((s=i.next()).done)break;u=s.value}var c=u;r[c]=a(e,c)}return r}function s(e){i(e,Object.assign({},n.b,{}))}},363:function(e,t,r){"use strict";r.d(t,"b",function(){return f}),r.d(t,"d",function(){return E}),r.d(t,"a",function(){return h}),r.d(t,"c",function(){return T});r(317),r(307),r(73),r(134),r(39),r(2),r(10),r(7),r(3);var n,i,a,o=r(308),s=r.n(o),u=r(429);function c(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var f=((n={})[s.a.BLEND]=!1,n[s.a.BLEND_COLOR]=new Float32Array([0,0,0,0]),n[s.a.BLEND_EQUATION_RGB]=s.a.FUNC_ADD,n[s.a.BLEND_EQUATION_ALPHA]=s.a.FUNC_ADD,n[s.a.BLEND_SRC_RGB]=s.a.ONE,n[s.a.BLEND_DST_RGB]=s.a.ZERO,n[s.a.BLEND_SRC_ALPHA]=s.a.ONE,n[s.a.BLEND_DST_ALPHA]=s.a.ZERO,n[s.a.COLOR_CLEAR_VALUE]=new Float32Array([0,0,0,0]),n[s.a.COLOR_WRITEMASK]=[!0,!0,!0,!0],n[s.a.CULL_FACE]=!1,n[s.a.CULL_FACE_MODE]=s.a.BACK,n[s.a.DEPTH_TEST]=!1,n[s.a.DEPTH_CLEAR_VALUE]=1,n[s.a.DEPTH_FUNC]=s.a.LESS,n[s.a.DEPTH_RANGE]=new Float32Array([0,1]),n[s.a.DEPTH_WRITEMASK]=!0,n[s.a.DITHER]=!0,n[s.a.FRAMEBUFFER_BINDING]=null,n[s.a.FRONT_FACE]=s.a.CCW,n[s.a.GENERATE_MIPMAP_HINT]=s.a.DONT_CARE,n[s.a.LINE_WIDTH]=1,n[s.a.POLYGON_OFFSET_FILL]=!1,n[s.a.POLYGON_OFFSET_FACTOR]=0,n[s.a.POLYGON_OFFSET_UNITS]=0,n[s.a.SAMPLE_COVERAGE_VALUE]=1,n[s.a.SAMPLE_COVERAGE_INVERT]=!1,n[s.a.SCISSOR_TEST]=!1,n[s.a.SCISSOR_BOX]=new Int32Array([0,0,1024,1024]),n[s.a.STENCIL_TEST]=!1,n[s.a.STENCIL_CLEAR_VALUE]=0,n[s.a.STENCIL_WRITEMASK]=4294967295,n[s.a.STENCIL_BACK_WRITEMASK]=4294967295,n[s.a.STENCIL_FUNC]=s.a.ALWAYS,n[s.a.STENCIL_REF]=0,n[s.a.STENCIL_VALUE_MASK]=4294967295,n[s.a.STENCIL_BACK_FUNC]=s.a.ALWAYS,n[s.a.STENCIL_BACK_REF]=0,n[s.a.STENCIL_BACK_VALUE_MASK]=4294967295,n[s.a.STENCIL_FAIL]=s.a.KEEP,n[s.a.STENCIL_PASS_DEPTH_FAIL]=s.a.KEEP,n[s.a.STENCIL_PASS_DEPTH_PASS]=s.a.KEEP,n[s.a.STENCIL_BACK_FAIL]=s.a.KEEP,n[s.a.STENCIL_BACK_PASS_DEPTH_FAIL]=s.a.KEEP,n[s.a.STENCIL_BACK_PASS_DEPTH_PASS]=s.a.KEEP,n[s.a.VIEWPORT]=new Int32Array([0,0,1024,1024]),n[s.a.PACK_ALIGNMENT]=4,n[s.a.UNPACK_ALIGNMENT]=4,n[s.a.UNPACK_FLIP_Y_WEBGL]=!1,n[s.a.UNPACK_PREMULTIPLY_ALPHA_WEBGL]=!1,n[s.a.UNPACK_COLORSPACE_CONVERSION_WEBGL]=s.a.BROWSER_DEFAULT_WEBGL,n[s.a.FRAGMENT_SHADER_DERIVATIVE_HINT]=s.a.DONT_CARE,n[s.a.READ_FRAMEBUFFER_BINDING]=null,n[s.a.RASTERIZER_DISCARD]=!1,n[s.a.PACK_ROW_LENGTH]=0,n[s.a.PACK_SKIP_PIXELS]=0,n[s.a.PACK_SKIP_ROWS]=0,n[s.a.UNPACK_ROW_LENGTH]=0,n[s.a.UNPACK_IMAGE_HEIGHT]=0,n[s.a.UNPACK_SKIP_PIXELS]=0,n[s.a.UNPACK_SKIP_ROWS]=0,n[s.a.UNPACK_SKIP_IMAGES]=0,n),l=function(e,t,r){return t?e.enable(r):e.disable(r)},_=function(e,t,r){return e.hint(r,t)},d=function(e,t,r){return e.pixelStorei(r,t)},E=((i={})[s.a.BLEND]=l,i[s.a.BLEND_COLOR]=function(e,t){return e.blendColor.apply(e,c(t))},i[s.a.BLEND_EQUATION_RGB]="blendEquation",i[s.a.BLEND_EQUATION_ALPHA]="blendEquation",i[s.a.BLEND_SRC_RGB]="blendFunc",i[s.a.BLEND_DST_RGB]="blendFunc",i[s.a.BLEND_SRC_ALPHA]="blendFunc",i[s.a.BLEND_DST_ALPHA]="blendFunc",i[s.a.COLOR_CLEAR_VALUE]=function(e,t){return e.clearColor.apply(e,c(t))},i[s.a.COLOR_WRITEMASK]=function(e,t){return e.colorMask.apply(e,c(t))},i[s.a.CULL_FACE]=l,i[s.a.CULL_FACE_MODE]=function(e,t){return e.cullFace(t)},i[s.a.DEPTH_TEST]=l,i[s.a.DEPTH_CLEAR_VALUE]=function(e,t){return e.clearDepth(t)},i[s.a.DEPTH_FUNC]=function(e,t){return e.depthFunc(t)},i[s.a.DEPTH_RANGE]=function(e,t){return e.depthRange.apply(e,c(t))},i[s.a.DEPTH_WRITEMASK]=function(e,t){return e.depthMask(t)},i[s.a.DITHER]=l,i[s.a.FRAGMENT_SHADER_DERIVATIVE_HINT]=_,i[s.a.FRAMEBUFFER_BINDING]=function(e,t){var r=Object(u.b)(e)?s.a.DRAW_FRAMEBUFFER:s.a.FRAMEBUFFER;return e.bindFramebuffer(r,t)},i[s.a.FRONT_FACE]=function(e,t){return e.frontFace(t)},i[s.a.GENERATE_MIPMAP_HINT]=_,i[s.a.LINE_WIDTH]=function(e,t){return e.lineWidth(t)},i[s.a.POLYGON_OFFSET_FILL]=l,i[s.a.POLYGON_OFFSET_FACTOR]="polygonOffset",i[s.a.POLYGON_OFFSET_UNITS]="polygonOffset",i[s.a.RASTERIZER_DISCARD]=l,i[s.a.SAMPLE_COVERAGE_VALUE]="sampleCoverage",i[s.a.SAMPLE_COVERAGE_INVERT]="sampleCoverage",i[s.a.SCISSOR_TEST]=l,i[s.a.SCISSOR_BOX]=function(e,t){return e.scissor.apply(e,c(t))},i[s.a.STENCIL_TEST]=l,i[s.a.STENCIL_CLEAR_VALUE]=function(e,t){return e.clearStencil(t)},i[s.a.STENCIL_WRITEMASK]=function(e,t){return e.stencilMaskSeparate(s.a.FRONT,t)},i[s.a.STENCIL_BACK_WRITEMASK]=function(e,t){return e.stencilMaskSeparate(s.a.BACK,t)},i[s.a.STENCIL_FUNC]="stencilFuncFront",i[s.a.STENCIL_REF]="stencilFuncFront",i[s.a.STENCIL_VALUE_MASK]="stencilFuncFront",i[s.a.STENCIL_BACK_FUNC]="stencilFuncBack",i[s.a.STENCIL_BACK_REF]="stencilFuncBack",i[s.a.STENCIL_BACK_VALUE_MASK]="stencilFuncBack",i[s.a.STENCIL_FAIL]="stencilOpFront",i[s.a.STENCIL_PASS_DEPTH_FAIL]="stencilOpFront",i[s.a.STENCIL_PASS_DEPTH_PASS]="stencilOpFront",i[s.a.STENCIL_BACK_FAIL]="stencilOpBack",i[s.a.STENCIL_BACK_PASS_DEPTH_FAIL]="stencilOpBack",i[s.a.STENCIL_BACK_PASS_DEPTH_PASS]="stencilOpBack",i[s.a.VIEWPORT]=function(e,t){return e.viewport.apply(e,c(t))},i[s.a.PACK_ALIGNMENT]=d,i[s.a.UNPACK_ALIGNMENT]=d,i[s.a.UNPACK_FLIP_Y_WEBGL]=d,i[s.a.UNPACK_PREMULTIPLY_ALPHA_WEBGL]=d,i[s.a.UNPACK_COLORSPACE_CONVERSION_WEBGL]=d,i[s.a.PACK_ROW_LENGTH]=d,i[s.a.PACK_SKIP_PIXELS]=d,i[s.a.PACK_SKIP_ROWS]=d,i[s.a.READ_FRAMEBUFFER_BINDING]=function(e,t){return e.bindFramebuffer(s.a.READ_FRAMEBUFFER,t)},i[s.a.UNPACK_ROW_LENGTH]=d,i[s.a.UNPACK_IMAGE_HEIGHT]=d,i[s.a.UNPACK_SKIP_PIXELS]=d,i[s.a.UNPACK_SKIP_ROWS]=d,i[s.a.UNPACK_SKIP_IMAGES]=d,i),h={blendEquation:function(e,t){return e.blendEquationSeparate(t[s.a.BLEND_EQUATION_RGB],t[s.a.BLEND_EQUATION_ALPHA])},blendFunc:function(e,t){return e.blendFuncSeparate(t[s.a.BLEND_SRC_RGB],t[s.a.BLEND_DST_RGB],t[s.a.BLEND_SRC_ALPHA],t[s.a.BLEND_DST_ALPHA])},polygonOffset:function(e,t){return e.polygonOffset(t[s.a.POLYGON_OFFSET_FACTOR],t[s.a.POLYGON_OFFSET_UNITS])},sampleCoverage:function(e,t){return e.sampleCoverage(t[s.a.SAMPLE_COVERAGE_VALUE],t[s.a.SAMPLE_COVERAGE_INVERT])},stencilFuncFront:function(e,t){return e.stencilFuncSeparate(s.a.FRONT,t[s.a.STENCIL_FUNC],t[s.a.STENCIL_REF],t[s.a.STENCIL_VALUE_MASK])},stencilFuncBack:function(e,t){return e.stencilFuncSeparate(s.a.BACK,t[s.a.STENCIL_BACK_FUNC],t[s.a.STENCIL_BACK_REF],t[s.a.STENCIL_BACK_VALUE_MASK])},stencilOpFront:function(e,t){return e.stencilOpSeparate(s.a.FRONT,t[s.a.STENCIL_FAIL],t[s.a.STENCIL_PASS_DEPTH_FAIL],t[s.a.STENCIL_PASS_DEPTH_PASS])},stencilOpBack:function(e,t){return e.stencilOpSeparate(s.a.BACK,t[s.a.STENCIL_BACK_FAIL],t[s.a.STENCIL_BACK_PASS_DEPTH_FAIL],t[s.a.STENCIL_BACK_PASS_DEPTH_PASS])}},A=function(e,t){return e.isEnabled(t)},T=((a={})[s.a.BLEND]=A,a[s.a.CULL_FACE]=A,a[s.a.DEPTH_TEST]=A,a[s.a.DITHER]=A,a[s.a.POLYGON_OFFSET_FILL]=A,a[s.a.SAMPLE_ALPHA_TO_COVERAGE]=A,a[s.a.SAMPLE_COVERAGE]=A,a[s.a.SCISSOR_TEST]=A,a[s.a.STENCIL_TEST]=A,a[s.a.RASTERIZER_DISCARD]=A,a)},364:function(e,t,r){"use strict";function n(e,t){if(!e)throw new Error(t||"webgl2-polyfill: assertion failed.")}r.d(t,"a",function(){return n})},365:function(e,t,r){"use strict";(function(e){var n=r(387),i=!("object"==typeof e&&"[object process]"===String(e)&&!e.browser)||n.a;t.a=i}).call(this,r(343))},367:function(e,t,r){"use strict";r.d(t,"b",function(){return c}),r.d(t,"a",function(){return f}),r.d(t,"c",function(){return l}),r.d(t,"d",function(){return _}),r.d(t,"e",function(){return d});var n,i,a,o=r(308),s=r.n(o),u=r(433),c=((n={})[s.a.RGB]={dataFormat:s.a.RGB,types:[s.a.UNSIGNED_BYTE,s.a.UNSIGNED_SHORT_5_6_5]},n[s.a.RGBA]={dataFormat:s.a.RGBA,types:[s.a.UNSIGNED_BYTE,s.a.UNSIGNED_SHORT_4_4_4_4,s.a.UNSIGNED_SHORT_5_5_5_1]},n[s.a.ALPHA]={dataFormat:s.a.ALPHA,types:[s.a.UNSIGNED_BYTE]},n[s.a.LUMINANCE]={dataFormat:s.a.LUMINANCE,types:[s.a.UNSIGNED_BYTE]},n[s.a.LUMINANCE_ALPHA]={dataFormat:s.a.LUMINANCE_ALPHA,types:[s.a.UNSIGNED_BYTE]},n[s.a.R32F]={dataFormat:s.a.RED,types:[s.a.FLOAT],gl2:!0},n[s.a.RG32F]={dataFormat:s.a.RG,types:[s.a.FLOAT],gl2:!0},n[s.a.RGB32F]={dataFormat:s.a.RGB,types:[s.a.FLOAT],gl2:!0},n[s.a.RGBA32F]={dataFormat:s.a.RGBA,types:[s.a.FLOAT],gl2:!0},n),f=((i={})[s.a.RED]=1,i[s.a.RED_INTEGER]=1,i[s.a.RG]=2,i[s.a.RG_INTEGER]=2,i[s.a.RGB]=3,i[s.a.RGB_INTEGER]=3,i[s.a.RGBA]=4,i[s.a.RGBA_INTEGER]=4,i[s.a.DEPTH_COMPONENT]=1,i[s.a.DEPTH_STENCIL]=1,i[s.a.ALPHA]=1,i[s.a.LUMINANCE]=1,i[s.a.LUMINANCE_ALPHA]=2,i),l=((a={})[s.a.FLOAT]=4,a[s.a.UNSIGNED_INT]=4,a[s.a.INT]=4,a[s.a.UNSIGNED_SHORT]=2,a[s.a.SHORT]=2,a[s.a.HALF_FLOAT]=2,a[s.a.BYTE]=1,a[s.a.UNSIGNED_BYTE]=1,a);function _(e,t){var r=c[t];if(!r)return!1;if(void 0===r.gl1&&void 0===r.gl2)return!0;var n=Object(u.d)(e)&&r.gl2||r.gl1;return"string"==typeof n?e.getExtension(n):n}function d(e,t){var r=c[t];switch(r&&r.types[0]){case s.a.FLOAT:return e.getExtension("OES_texture_float_linear");case s.a.HALF_FLOAT:return e.getExtension("OES_texture_half_float_linear");default:return!0}}},368:function(e,t,r){"use strict";r.d(t,"a",function(){return u});r(311),r(4),r(40),r(2);var n=r(308),i=r.n(n),a=r(334),o=r(433),s=r(385);var u=function(e){var t,r;function n(t,r){var n;return void 0===r&&(r={}),Object(o.b)(t),(r instanceof Promise||"string"==typeof r)&&(r={data:r}),"string"==typeof r.data&&(r=Object.assign({},r,{data:Object(s.b)(r.data)})),(n=e.call(this,t,Object.assign({},r,{target:i.a.TEXTURE_2D}))||this).initialize(r),Object.seal(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n)),n}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.isSupported=function(e,t){return a.a.isSupported(e,t)},n}(a.a)},369:function(e,t,r){"use strict";r(311);var n,i=r(308),a=r.n(i),o=r(323),s="EXT_color_buffer_float",u=((n={})[a.a.DEPTH_COMPONENT16]={bpp:2},n[a.a.DEPTH_COMPONENT24]={gl2:!0,bpp:3},n[a.a.DEPTH_COMPONENT32F]={gl2:!0,bpp:4},n[a.a.STENCIL_INDEX8]={bpp:1},n[a.a.DEPTH_STENCIL]={bpp:4},n[a.a.DEPTH24_STENCIL8]={gl2:!0,bpp:4},n[a.a.DEPTH32F_STENCIL8]={gl2:!0,bpp:5},n[a.a.RGBA4]={bpp:2},n[a.a.RGB565]={bpp:2},n[a.a.RGB5_A1]={bpp:2},n[a.a.R8]={gl2:!0,bpp:1},n[a.a.R8UI]={gl2:!0,bpp:1},n[a.a.R8I]={gl2:!0,bpp:1},n[a.a.R16UI]={gl2:!0,bpp:2},n[a.a.R16I]={gl2:!0,bpp:2},n[a.a.R32UI]={gl2:!0,bpp:4},n[a.a.R32I]={gl2:!0,bpp:4},n[a.a.RG8]={gl2:!0,bpp:2},n[a.a.RG8UI]={gl2:!0,bpp:2},n[a.a.RG8I]={gl2:!0,bpp:2},n[a.a.RG16UI]={gl2:!0,bpp:4},n[a.a.RG16I]={gl2:!0,bpp:4},n[a.a.RG32UI]={gl2:!0,bpp:8},n[a.a.RG32I]={gl2:!0,bpp:8},n[a.a.RGB8]={gl2:!0,bpp:3},n[a.a.RGBA8]={gl2:!0,bpp:4},n[a.a.RGB10_A2]={gl2:!0,bpp:4},n[a.a.RGBA8UI]={gl2:!0,bpp:4},n[a.a.RGBA8I]={gl2:!0,bpp:4},n[a.a.RGB10_A2UI]={gl2:!0,bpp:4},n[a.a.RGBA16UI]={gl2:!0,bpp:8},n[a.a.RGBA16I]={gl2:!0,bpp:8},n[a.a.RGBA32I]={gl2:!0,bpp:16},n[a.a.RGBA32UI]={gl2:!0,bpp:16},n[a.a.R16F]={gl2:s,bpp:2},n[a.a.RG16F]={gl2:s,bpp:4},n[a.a.RGBA16F]={gl2:s,bpp:8},n[a.a.R32F]={gl2:s,bpp:4},n[a.a.RG32F]={gl2:s,bpp:8},n[a.a.RGBA32F]={gl2:s,bpp:16},n[a.a.R11F_G11F_B10F]={gl2:s,bpp:4},n),c=r(433),f=r(386);r.d(t,"a",function(){return l});var l=function(e){var t,r;function n(t,r){var n;return void 0===r&&(r={}),(n=e.call(this,t,r)||this).initialize(r),Object.seal(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n)),n}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.isSupported=function(e,t){var r=(void 0===t?{}:t).format;return!r||function(e,t,r){var n=r[t];if(!n)return!1;var i=Object(c.d)(e)&&n.gl2||n.gl1;return"string"==typeof i?e.getExtension(i):i}(e,r,u)},n.getSamplesForFormat=function(e,t){var r=t.format;return e.getInternalformatParameter(a.a.RENDERBUFFER,r,a.a.SAMPLES)};var i=n.prototype;return i.initialize=function(e){var t=e.format,r=e.width,n=void 0===r?1:r,i=e.height,o=void 0===i?1:i,s=e.samples,l=void 0===s?0:s;return Object(f.a)(t,"Needs format"),this._trackDeallocatedMemory(),this.gl.bindRenderbuffer(a.a.RENDERBUFFER,this.handle),0!==l&&Object(c.d)(this.gl)?this.gl.renderbufferStorageMultisample(a.a.RENDERBUFFER,l,t,n,o):this.gl.renderbufferStorage(a.a.RENDERBUFFER,t,n,o),this.format=t,this.width=n,this.height=o,this.samples=l,this._trackAllocatedMemory(this.width*this.height*(this.samples||1)*u[this.format].bpp),this},i.resize=function(e){var t=e.width,r=e.height;return t!==this.width||r!==this.height?this.initialize({width:t,height:r,format:this.format,samples:this.samples}):this},i._createHandle=function(){return this.gl.createRenderbuffer()},i._deleteHandle=function(){this.gl.deleteRenderbuffer(this.handle),this._trackDeallocatedMemory()},i._bindHandle=function(e){this.gl.bindRenderbuffer(a.a.RENDERBUFFER,e)},i._syncHandle=function(e){this.format=this.getParameter(a.a.RENDERBUFFER_INTERNAL_FORMAT),this.width=this.getParameter(a.a.RENDERBUFFER_WIDTH),this.height=this.getParameter(a.a.RENDERBUFFER_HEIGHT),this.samples=this.getParameter(a.a.RENDERBUFFER_SAMPLES)},i._getParameter=function(e){return this.gl.bindRenderbuffer(a.a.RENDERBUFFER,this.handle),this.gl.getRenderbufferParameter(a.a.RENDERBUFFER,e)},n}(o.a)},378:function(e,t,r){"use strict";r.d(t,"a",function(){return a});r(15);var n=r(0),i=r.n(n);var a=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.render=function(){var e=this.props,t=e.name,r=e.controls,n=e.sourceLink;return i.a.createElement("div",{className:"options-panel top-right",tabIndex:"0"},i.a.createElement("h3",null,t),i.a.createElement("div",{className:"control-panel",dangerouslySetInnerHTML:{__html:r}}),n&&i.a.createElement("div",{className:"source-link"},i.a.createElement("a",{href:n,target:"_new"},"View Code ")))},n}(n.PureComponent)},381:function(e,t,r){"use strict";(function(e){r.d(t,"a",function(){return l}),r.d(t,"c",function(){return _}),r.d(t,"b",function(){return d});r(311),r(4);var n=r(384),i=r(363),a=r(362),o=r(430),s=r(383);function u(e,t){var r=e[t].bind(e);e[t]=function(){var t=arguments.length<=0?void 0:arguments[0];return t in e.state.cache||(e.state.cache[t]=r.apply(void 0,arguments)),e.state.enable?e.state.cache[t]:r.apply(void 0,arguments)},Object.defineProperty(e[t],"name",{value:t+"-from-cache",configurable:!1})}function c(e,t,r){var n=e[t].bind(e);e[t]=function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var s,u=r.apply(void 0,[e.state._updateCache].concat(a)),c=u.valueChanged,f=u.oldValue;c&&((s=e.state).log.apply(s,["gl."+t].concat(a)),n.apply(void 0,a));return f},Object.defineProperty(e[t],"name",{value:t+"-to-cache",configurable:!1})}var f=function(){function e(e,t){var r=void 0===t?{}:t,n=r.copyState,o=void 0!==n&&n,s=r.log,u=void 0===s?function(){}:s;this.gl=e,this.stateStack=[],this.enable=!0,this.cache=o?Object(a.a)(e):Object.assign({},i.b),this.log=u,this._updateCache=this._updateCache.bind(this),Object.seal(this)}var t=e.prototype;return t.push=function(e){void 0===e&&(e={}),this.stateStack.push({})},t.pop=function(){Object(o.a)(this.stateStack.length>0);var e=this.stateStack[this.stateStack.length-1];Object(a.c)(this.gl,e,this.cache),this.stateStack.pop()},t._updateCache=function(e){var t,r=!1,n=this.stateStack.length>0&&this.stateStack[this.stateStack.length-1];for(var i in e)Object(o.a)(void 0!==i),Object(s.a)(e[i],this.cache[i])||(r=!0,t=this.cache[i],!n||i in n||(n[i]=this.cache[i]),this.cache[i]=e[i]);return{valueChanged:r,oldValue:t}},e}();function l(t,r){var i=void 0===r?{}:r,a=i.enable,s=void 0===a||a,l=i.copyState;if(Object(o.a)(void 0!==l),!t.state){var _=void 0!==e?e:window;for(var d in _.polyfillContext&&_.polyfillContext(t),t.state=new f(t,{copyState:l,enable:s}),n.a){c(t,d,n.a[d])}u(t,"getParameter"),u(t,"isEnabled")}return t.state.enable=s,t}function _(e){e.state||l(e,{copyState:!1}),e.state.push()}function d(e){Object(o.a)(e.state),e.state.pop()}}).call(this,r(99))},383:function(e,t,r){"use strict";function n(e,t){if(e===t)return!0;var r=Array.isArray(e)||ArrayBuffer.isView(e),n=Array.isArray(t)||ArrayBuffer.isView(t);if(r&&n&&e.length===t.length){for(var i=0;i<e.length;++i)if(e[i]!==t[i])return!1;return!0}return!1}r.d(t,"a",function(){return n})},384:function(e,t,r){"use strict";r(317),r(307);var n=r(308),i=r.n(n);t.a={enable:function(e,t){var r;return e(((r={})[t]=!0,r))},disable:function(e,t){var r;return e(((r={})[t]=!1,r))},pixelStorei:function(e,t,r){var n;return e(((n={})[t]=r,n))},hint:function(e,t,r){var n;return e(((n={})[t]=r,n))},bindFramebuffer:function(e,t,r){var n,a,o;switch(t){case i.a.FRAMEBUFFER:return e(((n={})[i.a.DRAW_FRAMEBUFFER_BINDING]=r,n[i.a.READ_FRAMEBUFFER_BINDING]=r,n));case i.a.DRAW_FRAMEBUFFER:return e(((a={})[i.a.DRAW_FRAMEBUFFER_BINDING]=r,a));case i.a.READ_FRAMEBUFFER:return e(((o={})[i.a.READ_FRAMEBUFFER_BINDING]=r,o));default:return null}},blendColor:function(e,t,r,n,a){var o;return e(((o={})[i.a.BLEND_COLOR]=new Float32Array([t,r,n,a]),o))},blendEquation:function(e,t){var r;return e(((r={})[i.a.BLEND_EQUATION_RGB]=t,r[i.a.BLEND_EQUATION_ALPHA]=t,r))},blendEquationSeparate:function(e,t,r){var n;return e(((n={})[i.a.BLEND_EQUATION_RGB]=t,n[i.a.BLEND_EQUATION_ALPHA]=r,n))},blendFunc:function(e,t,r){var n;return e(((n={})[i.a.BLEND_SRC_RGB]=t,n[i.a.BLEND_DST_RGB]=r,n[i.a.BLEND_SRC_ALPHA]=t,n[i.a.BLEND_DST_ALPHA]=r,n))},blendFuncSeparate:function(e,t,r,n,a){var o;return e(((o={})[i.a.BLEND_SRC_RGB]=t,o[i.a.BLEND_DST_RGB]=r,o[i.a.BLEND_SRC_ALPHA]=n,o[i.a.BLEND_DST_ALPHA]=a,o))},clearColor:function(e,t,r,n,a){var o;return e(((o={})[i.a.COLOR_CLEAR_VALUE]=new Float32Array([t,r,n,a]),o))},clearDepth:function(e,t){var r;return e(((r={})[i.a.DEPTH_CLEAR_VALUE]=t,r))},clearStencil:function(e,t){var r;return e(((r={})[i.a.STENCIL_CLEAR_VALUE]=t,r))},colorMask:function(e,t,r,n,a){var o;return e(((o={})[i.a.COLOR_WRITEMASK]=[t,r,n,a],o))},cullFace:function(e,t){var r;return e(((r={})[i.a.CULL_FACE_MODE]=t,r))},depthFunc:function(e,t){var r;return e(((r={})[i.a.DEPTH_FUNC]=t,r))},depthRange:function(e,t,r){var n;return e(((n={})[i.a.DEPTH_RANGE]=new Float32Array([t,r]),n))},depthMask:function(e,t){var r;return e(((r={})[i.a.DEPTH_WRITEMASK]=t,r))},frontFace:function(e,t){var r;return e(((r={})[i.a.FRONT_FACE]=t,r))},lineWidth:function(e,t){var r;return e(((r={})[i.a.LINE_WIDTH]=t,r))},polygonOffset:function(e,t,r){var n;return e(((n={})[i.a.POLYGON_OFFSET_FACTOR]=t,n[i.a.POLYGON_OFFSET_UNITS]=r,n))},sampleCoverage:function(e,t,r){var n;return e(((n={})[i.a.SAMPLE_COVERAGE_VALUE]=t,n[i.a.SAMPLE_COVERAGE_INVERT]=r,n))},scissor:function(e,t,r,n,a){var o;return e(((o={})[i.a.SCISSOR_BOX]=new Int32Array([t,r,n,a]),o))},stencilMask:function(e,t){var r;return e(((r={})[i.a.STENCIL_WRITEMASK]=t,r[i.a.STENCIL_BACK_WRITEMASK]=t,r))},stencilMaskSeparate:function(e,t,r){var n;return e(((n={})[t===i.a.FRONT?i.a.STENCIL_WRITEMASK:i.a.STENCIL_BACK_WRITEMASK]=r,n))},stencilFunc:function(e,t,r,n){var a;return e(((a={})[i.a.STENCIL_FUNC]=t,a[i.a.STENCIL_REF]=r,a[i.a.STENCIL_VALUE_MASK]=n,a[i.a.STENCIL_BACK_FUNC]=t,a[i.a.STENCIL_BACK_REF]=r,a[i.a.STENCIL_BACK_VALUE_MASK]=n,a))},stencilFuncSeparate:function(e,t,r,n,a){var o;return e(((o={})[t===i.a.FRONT?i.a.STENCIL_FUNC:i.a.STENCIL_BACK_FUNC]=r,o[t===i.a.FRONT?i.a.STENCIL_REF:i.a.STENCIL_BACK_REF]=n,o[t===i.a.FRONT?i.a.STENCIL_VALUE_MASK:i.a.STENCIL_BACK_VALUE_MASK]=a,o))},stencilOp:function(e,t,r,n){var a;return e(((a={})[i.a.STENCIL_FAIL]=t,a[i.a.STENCIL_PASS_DEPTH_FAIL]=r,a[i.a.STENCIL_PASS_DEPTH_PASS]=n,a[i.a.STENCIL_BACK_FAIL]=t,a[i.a.STENCIL_BACK_PASS_DEPTH_FAIL]=r,a[i.a.STENCIL_BACK_PASS_DEPTH_PASS]=n,a))},stencilOpSeparate:function(e,t,r,n,a){var o;return e(((o={})[t===i.a.FRONT?i.a.STENCIL_FAIL:i.a.STENCIL_BACK_FAIL]=r,o[t===i.a.FRONT?i.a.STENCIL_PASS_DEPTH_FAIL:i.a.STENCIL_BACK_PASS_DEPTH_FAIL]=n,o[t===i.a.FRONT?i.a.STENCIL_PASS_DEPTH_PASS:i.a.STENCIL_BACK_PASS_DEPTH_PASS]=a,o))},viewport:function(e,t,r,n,a){var o;return e(((o={})[i.a.VIEWPORT]=new Int32Array([t,r,n,a]),o))}}},385:function(e,t,r){"use strict";r.d(t,"c",function(){return a}),r.d(t,"a",function(){return o}),r.d(t,"b",function(){return s});r(40),r(2);var n=r(386),i="";function a(e){i=e}function o(e,t){void 0===t&&(t={}),Object(n.a)("string"==typeof e),e=i+e;var r=t.dataType||"text";return fetch(e,t).then(function(e){return e[r]()})}function s(e,t){return Object(n.a)("string"==typeof e),e=i+e,new Promise(function(r,n){try{var i=new Image;i.onload=function(){return r(i)},i.onerror=function(){return n(new Error("Could not load image "+e+"."))},i.crossOrigin=t&&t.crossOrigin||"anonymous",i.src=e}catch(a){n(a)}})}},386:function(e,t,r){"use strict";function n(e,t){if(!e)throw new Error(t||"luma.gl: assertion failed.")}r.d(t,"a",function(){return n})},387:function(e,t,r){"use strict";(function(e){t.a="undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type||!(void 0===e||"object"!=typeof e.versions||!Boolean(e.versions.electron))||"object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0}).call(this,r(343))},388:function(e,t,r){"use strict";r.d(t,"b",function(){return o}),r.d(t,"c",function(){return s}),r.d(t,"a",function(){return u}),r.d(t,"d",function(){return c});r(347),r(317),r(371),r(372),r(346),r(335),r(319),r(312),r(307);var n=r(308),i=r.n(n),a="Failed to deduce GL constant from typed array";function o(e){switch(ArrayBuffer.isView(e)?e.constructor:e){case Float32Array:return i.a.FLOAT;case Uint16Array:return i.a.UNSIGNED_SHORT;case Uint32Array:return i.a.UNSIGNED_INT;case Uint8Array:case Uint8ClampedArray:return i.a.UNSIGNED_BYTE;case Int8Array:return i.a.BYTE;case Int16Array:return i.a.SHORT;case Int32Array:return i.a.INT;default:throw new Error(a)}}function s(e,t){var r=(void 0===t?{}:t).clamped,n=void 0===r||r;switch(e){case i.a.FLOAT:return Float32Array;case i.a.UNSIGNED_SHORT:case i.a.UNSIGNED_SHORT_5_6_5:case i.a.UNSIGNED_SHORT_4_4_4_4:case i.a.UNSIGNED_SHORT_5_5_5_1:return Uint16Array;case i.a.UNSIGNED_INT:return Uint32Array;case i.a.UNSIGNED_BYTE:return n?Uint8ClampedArray:Uint8Array;case i.a.BYTE:return Int8Array;case i.a.SHORT:return Int16Array;case i.a.INT:return Int32Array;default:throw new Error("Failed to deduce typed array type from GL constant")}}function u(e){var t=e.data,r=e.width,n=e.height,i=e.bytesPerPixel,a=void 0===i?4:i,o=e.temp,s=r*a;o=o||new Uint8Array(s);for(var u=0;u<n/2;++u){var c=u*s,f=(n-u-1)*s;o.set(t.subarray(c,c+s)),t.copyWithin(c,f,f+s),t.set(o,f)}}function c(e){for(var t=e.data,r=e.width,n=e.height,i=Math.round(r/2),a=Math.round(n/2),o=new Uint8Array(i*a*4),s=0;s<a;s++)for(var u=0;u<i;u++)for(var c=0;c<4;c++)o[4*(s*i+u)+c]=t[4*(2*s*r+2*u)+c];return{data:o,width:i,height:a}}},391:function(e,t,r){"use strict";r.d(t,"a",function(){return f});r(306),r(130),r(311);var n=r(308),i=r.n(n),a=r(323),o=r(324),s=r(433),u=r(434),c=r(351);var f=function(e){var t,r;function n(t,r){var n;return void 0===r&&(r={}),Object(s.a)(t),(n=e.call(this,t,r)||this).initialize(r),n.stubRemovedMethods("TransformFeedback","v6.0",["pause","resume"]),Object.seal(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n)),n}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.isSupported=function(e){return Object(s.d)(e)};var a=n.prototype;return a.initialize=function(e){var t=this;return void 0===e&&(e={}),this.buffers={},this.unused={},this.configuration=null,this.bindOnUse=!0,Object(u.a)(this.buffers)||this.bind(function(){return t._unbindBuffers()}),this.setProps(e),this},a.setProps=function(e){"program"in e&&(this.configuration=e.program&&e.program.configuration),"configuration"in e&&(this.configuration=e.configuration),"bindOnUse"in e&&(e=e.bindOnUse),"buffers"in e&&this.setBuffers(e.buffers)},a.setBuffers=function(e){var t=this;return void 0===e&&(e={}),this.bind(function(){for(var r in e)t.setBuffer(r,e[r])}),this},a.setBuffer=function(e,t){var r=this,n=this._getVaryingIndex(e),i=this._getBufferParams(t),a=i.buffer,o=i.byteSize,s=i.byteOffset;return n<0?(this.unused[e]=a,c.a.warn(function(){return r.id+" unused varying buffer "+e})(),this):(this.buffers[n]=t,this.bindOnUse||this._bindBuffer(n,a,s,o),this)},a.begin=function(e){return void 0===e&&(e=i.a.POINTS),this.gl.bindTransformFeedback(i.a.TRANSFORM_FEEDBACK,this.handle),this._bindBuffers(),this.gl.beginTransformFeedback(e),this},a.end=function(){return this.gl.endTransformFeedback(),this._unbindBuffers(),this.gl.bindTransformFeedback(i.a.TRANSFORM_FEEDBACK,null),this},a._getBufferParams=function(e){var t,r,n;return e instanceof o.a==!1?(n=e.buffer,r=e.byteSize,t=e.byteOffset):n=e,void 0===t&&void 0===r||(t=t||0,r=r||n.byteLength-t),{buffer:n,byteOffset:t,byteSize:r}},a._getVaryingInfo=function(e){return this.configuration&&this.configuration.getVaryingInfo(e)},a._getVaryingIndex=function(e){if(this.configuration)return this.configuration.getVaryingInfo(e).location;var t=Number(e);return Number.isFinite(t)?t:-1},a._bindBuffers=function(){if(this.bindOnUse)for(var e in this.buffers){var t=this._getBufferParams(this.buffers[e]),r=t.buffer,n=t.byteSize,i=t.byteOffset;this._bindBuffer(e,r,i,n)}},a._unbindBuffers=function(){if(this.bindOnUse)for(var e in this.buffers)this._bindBuffer(e,null)},a._bindBuffer=function(e,t,r,n){void 0===r&&(r=0);var a=t&&t.handle;return a&&void 0!==n?this.gl.bindBufferRange(i.a.TRANSFORM_FEEDBACK_BUFFER,e,a,r,n):this.gl.bindBufferBase(i.a.TRANSFORM_FEEDBACK_BUFFER,e,a),this},a._createHandle=function(){return this.gl.createTransformFeedback()},a._deleteHandle=function(){this.gl.deleteTransformFeedback(this.handle)},a._bindHandle=function(e){this.gl.bindTransformFeedback(i.a.TRANSFORM_FEEDBACK,this.handle)},n}(a.a)},392:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n,i=r(433),a={WEBGL2:"WEBGL2",VERTEX_ARRAY_OBJECT:"VERTEX_ARRAY_OBJECT",TIMER_QUERY:"TIMER_QUERY",INSTANCED_RENDERING:"INSTANCED_RENDERING",MULTIPLE_RENDER_TARGETS:"MULTIPLE_RENDER_TARGETS",ELEMENT_INDEX_UINT32:"ELEMENT_INDEX_UINT32",BLEND_EQUATION_MINMAX:"BLEND_EQUATION_MINMAX",COLOR_ENCODING_SRGB:"COLOR_ENCODING_SRGB",TEXTURE_DEPTH:"TEXTURE_DEPTH",TEXTURE_FLOAT:"TEXTURE_FLOAT",TEXTURE_HALF_FLOAT:"TEXTURE_HALF_FLOAT",TEXTURE_FILTER_LINEAR_FLOAT:"TEXTURE_FILTER_LINEAR_FLOAT",TEXTURE_FILTER_LINEAR_HALF_FLOAT:"TEXTURE_FILTER_LINEAR_HALF_FLOAT",TEXTURE_FILTER_ANISOTROPIC:"TEXTURE_FILTER_ANISOTROPIC",COLOR_ATTACHMENT_RGBA32F:"COLOR_ATTACHMENT_RGBA32F",COLOR_ATTACHMENT_FLOAT:"COLOR_ATTACHMENT_FLOAT",COLOR_ATTACHMENT_HALF_FLOAT:"COLOR_ATTACHMENT_HALF_FLOAT",GLSL_FRAG_DATA:"GLSL_FRAG_DATA",GLSL_FRAG_DEPTH:"GLSL_FRAG_DEPTH",GLSL_DERIVATIVES:"GLSL_DERIVATIVES",GLSL_TEXTURE_LOD:"GLSL_TEXTURE_LOD"};t.b=((n={})[a.WEBGL2]=[function(e){return Object(i.d)(e)}],n[a.VERTEX_ARRAY_OBJECT]=["OES_vertex_array_object",!0],n[a.TIMER_QUERY]=["EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2"],n[a.INSTANCED_RENDERING]=["ANGLE_instanced_arrays",!0],n[a.MULTIPLE_RENDER_TARGETS]=["WEBGL_draw_buffers",!0],n[a.ELEMENT_INDEX_UINT32]=["OES_element_index_uint",!0],n[a.BLEND_EQUATION_MINMAX]=["EXT_blend_minmax",!0],n[a.COLOR_ENCODING_SRGB]=["EXT_sRGB",!0],n[a.TEXTURE_DEPTH]=["WEBGL_depth_texture",!0],n[a.TEXTURE_FLOAT]=["OES_texture_float",!0],n[a.TEXTURE_HALF_FLOAT]=["OES_texture_half_float",!0],n[a.TEXTURE_FILTER_LINEAR_FLOAT]=["OES_texture_float_linear"],n[a.TEXTURE_FILTER_LINEAR_HALF_FLOAT]=["OES_texture_half_float_linear"],n[a.TEXTURE_FILTER_ANISOTROPIC]=["EXT_texture_filter_anisotropic"],n[a.COLOR_ATTACHMENT_RGBA32F]=["WEBGL_color_buffer_float","EXT_color_buffer_float"],n[a.COLOR_ATTACHMENT_FLOAT]=[!1,"EXT_color_buffer_float"],n[a.COLOR_ATTACHMENT_HALF_FLOAT]=[!1,"EXT_color_buffer_half_float"],n[a.GLSL_FRAG_DATA]=["WEBGL_draw_buffers",!0],n[a.GLSL_FRAG_DEPTH]=["EXT_frag_depth",!0],n[a.GLSL_DERIVATIVES]=["OES_standard_derivatives",!0],n[a.GLSL_TEXTURE_LOD]=["EXT_shader_texture_lod",!0],n)},393:function(e,t,r){"use strict";(function(e){r.d(t,"c",function(){return u}),r.d(t,"b",function(){return _}),r.d(t,"a",function(){return d});var n=r(341),i=r(365),a="luma.gl: loaded under Node.js without headless gl installed, meaning that WebGL contexts can not be created. This may not be an error. For example, this is a typical configuration for isorender applications running on the server.",o=e,s=null;function u(){var e=o.require("gl");if(!e)throw new Error(a);return e.apply(void 0,arguments)}if(!i.a)try{s=o.require("gl/wrap")}catch(E){}var c=function(){},f=s||n.a,l=(f.WebGLRenderingContext,f.WebGLProgram,f.WebGLShader,f.WebGLBuffer),_=void 0===l?c:l;f.WebGLFramebuffer,f.WebGLRenderbuffer,f.WebGLTexture,f.WebGLUniformLocation,f.WebGLActiveInfo,f.WebGLShaderPrecisionFormat;var d=n.a.WebGL2RenderingContext||function(){};n.a.Image}).call(this,r(411)(e))},394:function(e,t,r){"use strict";r.d(t,"a",function(){return E}),r.d(t,"b",function(){return h});r(307),r(319),r(317);var n=r(428),i=r(433),a=r(386),o=256,s=1024,u=16384,c=6144,f=6145,l=6146,_=34041,d="clear: bad arguments";function E(e,t){var r=void 0===t?{}:t,i=r.framebuffer,c=void 0===i?null:i,f=r.color,l=void 0===f?null:f,_=r.depth,E=void 0===_?null:_,h=r.stencil,A=void 0===h?null:h,T={};c&&(T.framebuffer=c);var v=0;l&&(v|=u,!0!==l&&(T.clearColor=l)),E&&(v|=o,!0!==E&&(T.clearDepth=E)),A&&(v|=s,!0!==E&&(T.clearStencil=E)),Object(a.a)(0!==v,d),Object(n.a)(e,T,function(){e.clear(v)})}function h(e,t){var r=void 0===t?{}:t,o=r.framebuffer,s=void 0===o?null:o,u=r.buffer,E=void 0===u?c:u,h=r.drawBuffer,A=void 0===h?0:h,T=r.value,v=void 0===T?[0,0,0,0]:T;Object(i.a)(e),Object(n.a)(e,{framebuffer:s},function(){switch(E){case c:switch(v.constructor){case Int32Array:e.clearBufferiv(E,A,v);break;case Uint32Array:e.clearBufferuiv(E,A,v);break;case Float32Array:default:e.clearBufferfv(E,A,v)}break;case f:e.clearBufferfv(f,0,[v]);break;case l:e.clearBufferiv(l,0,[v]);break;case _:var t=v[0],r=v[1];e.clearBufferfi(_,0,t,r);break;default:Object(a.a)(!1,d)}})}},395:function(e,t,r){"use strict";r.d(t,"a",function(){return f}),r.d(t,"b",function(){return l});r(4);var n=r(368),i=r(396),a=r(397),o=r(342),s=r(308),u=r.n(s),c=r(386);function f(e,t){Object(c.a)(e instanceof n.a||e instanceof i.a||e instanceof a.a);var r=e.constructor,o=e.gl,s=e.width,u=e.height,f=e.format,l=e.type,_=e.dataFormat,d=e.border,E=e.mipmaps;return new r(o,Object.assign({width:s,height:u,format:f,type:l,dataFormat:_,border:d,mipmaps:E},t))}function l(e,t){var r,n=e.gl,i=e.width,a=e.height,s=e.id;return new o.a(n,Object.assign({},t,{id:"framebuffer-for-"+s,width:i,height:a,attachments:(r={},r[u.a.COLOR_ATTACHMENT0]=e,r)}))}},396:function(e,t,r){"use strict";r.d(t,"a",function(){return _});r(3),r(5),r(73),r(311),r(4),r(40),r(2);var n=r(356),i=r.n(n),a=(r(357),r(308)),o=r.n(a),s=r(334),u=r(433),c=r(351);function f(e,t,r,n,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void r(c)}s.done?t(u):Promise.resolve(u).then(n,i)}var l=[o.a.TEXTURE_CUBE_MAP_POSITIVE_X,o.a.TEXTURE_CUBE_MAP_NEGATIVE_X,o.a.TEXTURE_CUBE_MAP_POSITIVE_Y,o.a.TEXTURE_CUBE_MAP_NEGATIVE_Y,o.a.TEXTURE_CUBE_MAP_POSITIVE_Z,o.a.TEXTURE_CUBE_MAP_NEGATIVE_Z],_=function(e){var t,r;function n(t,r){var n;return void 0===r&&(r={}),Object(u.b)(t),(n=e.call(this,t,Object.assign({},r,{target:o.a.TEXTURE_CUBE_MAP}))||this).initialize(r),Object.seal(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n)),n}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.initialize=function(e){var t=this;void 0===e&&(e={});var r=e,n=r.mipmaps,i=void 0===n||n,a=r.parameters,o=void 0===a?{}:a;this.opts=e,this.setCubeMapImageData(e).then(function(){t.loaded=!0,i&&t.generateMipmap(e),t.setParameters(o)})},a.subImage=function(e){var t=e.face,r=e.data,n=e.x,i=void 0===n?0:n,a=e.y,o=void 0===a?0:a,s=e.mipmapLevel,u=void 0===s?0:s;return this._subImage({target:t,data:r,x:i,y:o,mipmapLevel:u})},a.setCubeMapImageData=function(){var e,t=(e=i.a.mark(function e(t){var r,n,a,s,u,f,_,d,E,h,A,T,v,R=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.width,n=t.height,a=t.pixels,s=t.data,u=t.border,f=void 0===u?0:u,_=t.format,d=void 0===_?o.a.RGBA:_,E=t.type,h=void 0===E?o.a.UNSIGNED_BYTE:E,A=this.gl,T=a||s,e.next=5,Promise.all(l.map(function(e){var t=T[e];return Promise.all(Array.isArray(t)?t:[t])}));case 5:v=e.sent,this.bind(),l.forEach(function(e,t){v[t].length>1&&!1!==R.opts.mipmaps&&c.a.warn(R.id+" has mipmap and multiple LODs.")(),v[t].forEach(function(t,i){r&&n?A.texImage2D(e,i,d,r,n,f,d,h,t):A.texImage2D(e,i,d,d,h,t)})}),this.unbind();case 9:case"end":return e.stop()}},e,this)}),function(){var t=this,r=arguments;return new Promise(function(n,i){var a=e.apply(t,r);function o(e){f(a,n,i,o,s,"next",e)}function s(e){f(a,n,i,o,s,"throw",e)}o(void 0)})});return function(e){return t.apply(this,arguments)}}(),a.setImageDataForFace=function(e){var t=this,r=e.face,n=e.width,i=e.height,a=e.pixels,s=e.data,u=e.border,c=void 0===u?0:u,f=e.format,l=void 0===f?o.a.RGBA:f,_=e.type,d=void 0===_?o.a.UNSIGNED_BYTE:_,E=this.gl,h=a||s;return this.bind(),h instanceof Promise?h.then(function(n){return t.setImageDataForFace(Object.assign({},e,{face:r,data:n,pixels:n}))}):this.width||this.height?E.texImage2D(r,0,l,n,i,c,l,d,h):E.texImage2D(r,0,l,l,d,h),this},n}(s.a);_.FACES=l},397:function(e,t,r){"use strict";r.d(t,"a",function(){return f});r(311),r(4);var n=r(308),i=r.n(n),a=r(428),o=r(433),s=r(334),u=r(367),c=r(324);var f=function(e){var t,r;function n(t,r){var n;return void 0===r&&(r={}),Object(o.a)(t),r=Object.assign({depth:1},r,{target:i.a.TEXTURE_3D,unpackFlipY:!1}),(n=e.call(this,t,r)||this).initialize(r),Object.seal(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n)),n}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.isSupported=function(e){return Object(o.d)(e)},n.prototype.setImageData=function(e){var t=this,r=e.level,n=void 0===r?0:r,o=e.dataFormat,s=void 0===o?i.a.RGBA:o,f=e.width,l=e.height,_=e.depth,d=void 0===_?1:_,E=e.border,h=void 0===E?0:E,A=e.format,T=e.type,v=void 0===T?i.a.UNSIGNED_BYTE:T,R=e.offset,g=void 0===R?0:R,m=e.data,p=e.parameters,b=void 0===p?{}:p;if(this._trackDeallocatedMemory("Texture"),this.gl.bindTexture(this.target,this.handle),Object(a.a)(this.gl,b,function(){ArrayBuffer.isView(m)&&t.gl.texImage3D(t.target,n,s,f,l,d,h,A,v,m),m instanceof c.a&&(t.gl.bindBuffer(i.a.PIXEL_UNPACK_BUFFER,m.handle),t.gl.texImage3D(t.target,n,s,f,l,d,h,A,v,g))}),m&&m.byteLength)this._trackAllocatedMemory(m.byteLength,"Texture");else{var O=u.a[this.dataFormat]||4,N=u.c[this.type]||1;this._trackAllocatedMemory(this.width*this.height*this.depth*O*N,"Texture")}return this.loaded=!0,this},n}(s.a)},398:function(e,t,r){"use strict";var n=r(362),i=(r(73),r(134),r(39),r(2),r(10),r(7),r(3),r(308)),a=r.n(i);function o(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(e){return Array.isArray(e)||ArrayBuffer.isView(e)}var u={framebuffer:function(e,t){var r=t&&"handle"in t?t.handle:t;return e.bindFramebuffer(a.a.FRAMEBUFFER,r)},blend:function(e,t){return t?e.enable(a.a.BLEND):e.disable(a.a.BLEND)},blendColor:function(e,t){return e.blendColor.apply(e,o(t))},blendEquation:function(e,t){t=s(t)?t:[t,t],e.blendEquationSeparate.apply(e,o(t))},blendFunc:function(e,t){t=s(t)&&2===t.length?[].concat(o(t),o(t)):t,e.blendFuncSeparate.apply(e,o(t))},clearColor:function(e,t){return e.clearColor.apply(e,o(t))},clearDepth:function(e,t){return e.clearDepth(t)},clearStencil:function(e,t){return e.clearStencil(t)},colorMask:function(e,t){return e.colorMask.apply(e,o(t))},cull:function(e,t){return t?e.enable(a.a.CULL_FACE):e.disable(a.a.CULL_FACE)},cullFace:function(e,t){return e.cullFace(t)},depthTest:function(e,t){return t?e.enable(a.a.DEPTH_TEST):e.disable(a.a.DEPTH_TEST)},depthFunc:function(e,t){return e.depthFunc(t)},depthMask:function(e,t){return e.depthMask(t)},depthRange:function(e,t){return e.depthRange.apply(e,o(t))},dither:function(e,t){return t?e.enable(a.a.DITHER):e.disable(a.a.DITHER)},derivativeHint:function(e,t){e.hint(a.a.FRAGMENT_SHADER_DERIVATIVE_HINT,t)},frontFace:function(e,t){return e.frontFace(t)},mipmapHint:function(e,t){return e.hint(a.a.GENERATE_MIPMAP_HINT,t)},lineWidth:function(e,t){return e.lineWidth(t)},polygonOffsetFill:function(e,t){return t?e.enable(a.a.POLYGON_OFFSET_FILL):e.disable(a.a.POLYGON_OFFSET_FILL)},polygonOffset:function(e,t){return e.polygonOffset.apply(e,o(t))},sampleCoverage:function(e,t){return e.sampleCoverage.apply(e,o(t))},scissorTest:function(e,t){return t?e.enable(a.a.SCISSOR_TEST):e.disable(a.a.SCISSOR_TEST)},scissor:function(e,t){return e.scissor.apply(e,o(t))},stencilTest:function(e,t){return t?e.enable(a.a.STENCIL_TEST):e.disable(a.a.STENCIL_TEST)},stencilMask:function(e,t){var r=t=s(t)?t:[t,t],n=r[0],i=r[1];e.stencilMaskSeparate(a.a.FRONT,n),e.stencilMaskSeparate(a.a.BACK,i)},stencilFunc:function(e,t){var r=t=s(t)&&3===t.length?[].concat(o(t),o(t)):t,n=r[0],i=r[1],u=r[2],c=r[3],f=r[4],l=r[5];e.stencilFuncSeparate(a.a.FRONT,n,i,u),e.stencilFuncSeparate(a.a.BACK,c,f,l)},stencilOp:function(e,t){var r=t=s(t)&&3===t.length?[].concat(o(t),o(t)):t,n=r[0],i=r[1],u=r[2],c=r[3],f=r[4],l=r[5];e.stencilOpSeparate(a.a.FRONT,n,i,u),e.stencilOpSeparate(a.a.BACK,c,f,l)},viewport:function(e,t){return e.viewport.apply(e,o(t))}};function c(e,t){for(var r in Object(n.c)(e,t),t){var i=u[r];i&&i(e,t[r],r)}}r.d(t,"a",function(){return c})},399:function(e,t,r){"use strict";r(3),r(5),r(2),r(73),r(96);var n=r(365),i=r(341),a=r(351),o=r(458);r(340);r.d(t,"a",function(){return u});var s="undefined"!=typeof __VERSION__?__VERSION__:"untranspiled source",u=new(function(){function e(){this.stats=new Map}return e.prototype.get=function(e){return this.stats.has(e)||this.stats.set(e,new o.a({id:e})),this.stats.get(e)},e}());if(i.a.luma&&i.a.luma.VERSION!==s)throw new Error("luma.gl - multiple VERSIONs detected: "+i.a.luma.VERSION+" vs "+s);i.a.luma||(n.a&&a.a.log(1,"luma.gl "+s+" - set luma.log.priority=1 (or higher) to trace rendering")(),i.a.luma=i.a.luma||{VERSION:s,version:s,log:a.a,stats:u,globals:{modules:{},nodeIO:{}}});i.a.luma},400:function(e,t,r){"use strict";r(306),r(130),r(375);var n=r(308),i=r.n(n),a=(r(324),r(342)),o=(r(334),r(428),r(433),r(388)),s=r(386);function u(e){switch(e){case i.a.ALPHA:case i.a.R32F:case i.a.RED:return 1;case i.a.RG32F:case i.a.RG:return 2;case i.a.RGB:case i.a.RGB32F:return 3;case i.a.RGBA:case i.a.RGBA32F:return 4;default:return Object(s.a)(!1),0}}var c=r(395);r(351);function f(e,t){var r=void 0===t?{}:t,n=r.sourceX,a=void 0===n?0:n,c=r.sourceY,f=void 0===c?0:c,l=r.sourceFormat,d=void 0===l?i.a.RGBA:l,E=r.sourceAttachment,h=void 0===E?i.a.COLOR_ATTACHMENT0:E,A=r.target,T=void 0===A?null:A,v=r.sourceWidth,R=r.sourceHeight,g=r.sourceType,m=_(e),p=m.framebuffer,b=m.deleteFramebuffer;Object(s.a)(p);var O=p.gl,N=p.handle,F=p.attachments;v=v||p.width,R=R||p.height,h===i.a.COLOR_ATTACHMENT0&&null===N&&(h=i.a.FRONT),Object(s.a)(F[h]),T=function(e,t,r,n,a){if(e)return e;t=t||i.a.UNSIGNED_BYTE;var s=Object(o.c)(t,{clamped:!1}),c=u(r);return new s(n*a*c)}(T,g=g||F[h].type,d,v,R),g=g||Object(o.b)(T);var S=O.bindFramebuffer(i.a.FRAMEBUFFER,N);return O.readPixels(a,f,v,R,d,g,T),O.bindFramebuffer(i.a.FRAMEBUFFER,S||null),b&&p.delete(),T}function l(e,t){for(var r=void 0===t?{}:t,n=r.sourceAttachment,a=void 0===n?i.a.COLOR_ATTACHMENT0:n,s=r.targetMaxHeight,u=void 0===s?Number.MAX_SAFE_INTEGER:s,c=f(e,{sourceAttachment:a}),l=e.width,_=e.height;_>u;){var d=Object(o.d)({data:c,width:l,height:_});c=d.data,l=d.width,_=d.height}Object(o.a)({data:c,width:l,height:_});var E=document.createElement("canvas");E.width=l,E.height=_;var h=E.getContext("2d"),A=h.createImageData(l,_);return A.data.set(c),h.putImageData(A,0,0),E.toDataURL()}function _(e){return e instanceof a.a?{framebuffer:e,deleteFramebuffer:!1}:{framebuffer:Object(c.b)(e),deleteFramebuffer:!0}}r.d(t,"b",function(){return f}),r.d(t,"a",function(){return l})},401:function(e,t,r){"use strict";r(317);var n,i,a=r(308),o=r.n(a),s=r(364),u=function(e){return f(e)?void 0:0},c=((n={})[o.a.READ_BUFFER]=function(e){return f(e)?void 0:o.a.COLOR_ATTACHMENT0},n[35723]=function(e){return f(e)?void 0:4352},n[o.a.RASTERIZER_DISCARD]=u,n[o.a.SAMPLES]=u,n[36795]=function(e,t){var r=f(e)?e.getExtension("EXT_disjoint_timer_query_webgl2"):e.getExtension("EXT_disjoint_timer_query");return r&&r.GPU_DISJOINT_EXT?t(r.GPU_DISJOINT_EXT):0},n[37445]=function(e,t){var r=e.getExtension("WEBGL_debug_renderer_info");return t(r&&r.UNMASKED_VENDOR_WEBGL||o.a.VENDOR)},n[37446]=function(e,t){var r=e.getExtension("WEBGL_debug_renderer_info");return t(r&&r.UNMASKED_RENDERER_WEBGL||o.a.RENDERER)},n[34047]=function(e,t){var r=e.luma.extensions.EXT_texture_filter_anisotropic;return r?t(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT):1},n[o.a.MAX_3D_TEXTURE_SIZE]=u,n[o.a.MAX_ARRAY_TEXTURE_LAYERS]=u,n[o.a.MAX_CLIENT_WAIT_TIMEOUT_WEBGL]=u,n[o.a.MAX_COLOR_ATTACHMENTS]=function(e,t){if(!f(e)){var r=e.getExtension("WEBGL_draw_buffers");return r?t(r.MAX_COLOR_ATTACHMENTS_WEBGL):0}},n[o.a.MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS]=u,n[o.a.MAX_COMBINED_UNIFORM_BLOCKS]=u,n[o.a.MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS]=u,n[o.a.MAX_DRAW_BUFFERS]=function(e){if(!f(e)){var t=e.getExtension("WEBGL_draw_buffers");return t?t.MAX_DRAW_BUFFERS_WEBGL:0}},n[o.a.MAX_ELEMENT_INDEX]=function(e){return e.getExtension("OES_element_index")?2147483647:65535},n[o.a.MAX_ELEMENTS_INDICES]=function(e){return e.getExtension("OES_element_index")?16777216:65535},n[o.a.MAX_ELEMENTS_VERTICES]=function(e){return 16777216},n[o.a.MAX_FRAGMENT_INPUT_COMPONENTS]=u,n[o.a.MAX_FRAGMENT_UNIFORM_BLOCKS]=u,n[o.a.MAX_FRAGMENT_UNIFORM_COMPONENTS]=u,n[o.a.MAX_SAMPLES]=u,n[o.a.MAX_SERVER_WAIT_TIMEOUT]=u,n[o.a.MAX_TEXTURE_LOD_BIAS]=u,n[o.a.MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS]=u,n[o.a.MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS]=u,n[o.a.MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS]=u,n[o.a.MAX_UNIFORM_BLOCK_SIZE]=u,n[o.a.MAX_UNIFORM_BUFFER_BINDINGS]=u,n[o.a.MAX_VARYING_COMPONENTS]=u,n[o.a.MAX_VERTEX_OUTPUT_COMPONENTS]=u,n[o.a.MAX_VERTEX_UNIFORM_BLOCKS]=u,n[o.a.MAX_VERTEX_UNIFORM_COMPONENTS]=u,n[o.a.MIN_PROGRAM_TEXEL_OFFSET]=u,n[o.a.MAX_PROGRAM_TEXEL_OFFSET]=u,n[o.a.UNIFORM_BUFFER_OFFSET_ALIGNMENT]=u,n);function f(e){return Boolean(e&&2===e._version)}r.d(t,"b",function(){return _}),r.d(t,"a",function(){return d});function l(e){return Boolean(e&&2===e._version)}var _=((i={}).OES_vertex_array_object={meta:{suffix:"OES"},createVertexArray:function(){Object(s.a)(!1,"VertexArray requires WebGL2 or OES_vertex_array_object extension")},deleteVertexArray:function(){},bindVertexArray:function(){},isVertexArray:function(){return!1}},i.ANGLE_instanced_arrays={meta:{suffix:"ANGLE"},vertexAttribDivisor:function(e,t){Object(s.a)(0===t,"WebGL instanced rendering not supported")},drawElementsInstanced:function(){},drawArraysInstanced:function(){}},i.WEBGL_draw_buffers={meta:{suffix:"WEBGL"},drawBuffers:function(){Object(s.a)(!1)}},i.EXT_disjoint_timer_query={meta:{suffix:"EXT"},createQuery:function(){Object(s.a)(!1)},deleteQuery:function(){Object(s.a)(!1)},beginQuery:function(){Object(s.a)(!1)},endQuery:function(){},getQuery:function(e,t){return this.getQueryObject(e,t)},getQueryParameter:function(e,t){return this.getQueryObject(e,t)},getQueryObject:function(){}},i),d={readBuffer:function(e,t,r){l(e)&&t(r)},getVertexAttrib:function(e,t,r,n){var i,a=function(e,t){return{webgl2:l(e),ext:e.getExtension(t)}}(e,"ANGLE_instanced_arrays"),s=a.webgl2,u=a.ext;switch(n){case o.a.VERTEX_ATTRIB_ARRAY_INTEGER:i=!!s&&void 0;break;case o.a.VERTEX_ATTRIB_ARRAY_DIVISOR:i=s||u?void 0:0}return void 0!==i?i:t(r,n)},getProgramParameter:function(e,t,r,n){if(!l(e))switch(n){case o.a.TRANSFORM_FEEDBACK_BUFFER_MODE:return o.a.SEPARATE_ATTRIBS;case o.a.TRANSFORM_FEEDBACK_VARYINGS:case o.a.ACTIVE_UNIFORM_BLOCKS:return 0}return t(r,n)},getInternalformatParameter:function(e,t,r,n,i){if(!l(e))switch(i){case o.a.SAMPLES:return new Int32Array([0])}return e.getInternalformatParameter(r,n,i)},getTexParameter:function(e,t,r,n){switch(n){case o.a.TEXTURE_MAX_ANISOTROPY_EXT:var i=e.luma.extensions.EXT_texture_filter_anisotropic;n=i&&i.TEXTURE_MAX_ANISOTROPY_EXT||o.a.TEXTURE_MAX_ANISOTROPY_EXT}return t(r,n)},getParameter:function(e,t,r){var n=c[r],i="function"==typeof n?n(e,t,r):n;return void 0!==i?i:t(r)},hint:function(e,t,r,n){return t(r,n)}}},406:function(e,t){},428:function(e,t,r){"use strict";r.d(t,"a",function(){return s});var n=r(381),i=r(398),a=r(429),o=r(430);function s(e,t,r){if(Object(a.a)(t))return r(e);var s,u=t.nocatch,c=void 0===u||u;if(Object(o.a)(!t.frameBuffer),Object(n.c)(e),Object(i.a)(e,t),c)s=r(e),Object(n.b)(e);else try{s=r(e)}finally{Object(n.b)(e)}return s}},429:function(e,t,r){"use strict";function n(e){for(var t in e)return!1;return!0}function i(e){return Boolean(e&&2===e._version)}r.d(t,"a",function(){return n}),r.d(t,"b",function(){return i})},430:function(e,t,r){"use strict";function n(e,t){if(!e)throw new Error(t||"luma.gl: assertion failed.")}r.d(t,"a",function(){return n})},432:function(e,t,r){"use strict";r.d(t,"a",function(){return i});r(4);var n=r(351);function i(e,t,r){var i=r.removedProps,a=void 0===i?{}:i,o=r.deprecatedProps,s=void 0===o?{}:o,u=r.replacedProps,c=void 0===u?{}:u;for(var f in a)if(f in t){var l=a[f]?e+"."+a[f]:"N/A";n.a.removed(e+"."+f,l)()}for(var _ in s)if(_ in t){var d=s[_];n.a.deprecated(e+"."+_,e+"."+d)()}var E=null;for(var h in c)if(h in t){var A=c[h];n.a.deprecated(e+"."+h,e+"."+A)(),(E=E||Object.assign({},t))[A]=t[h],delete E[h]}return E||t}},433:function(e,t,r){"use strict";r.d(t,"c",function(){return o}),r.d(t,"d",function(){return s}),r.d(t,"b",function(){return u}),r.d(t,"a",function(){return c});r(130),r(306);var n=r(386),i="Invalid WebGLRenderingContext",a="Requires WebGL2";function o(e){return Boolean(e&&Number.isFinite(e._version))}function s(e){return Boolean(e&&2===e._version)}function u(e){Object(n.a)(o(e),i)}function c(e){Object(n.a)(s(e),a)}},434:function(e,t,r){"use strict";r.d(t,"c",function(){return a}),r.d(t,"b",function(){return o}),r.d(t,"a",function(){return s});var n=r(386),i={};function a(e){return void 0===e&&(e="id"),i[e]=i[e]||1,e+"-"+i[e]++}function o(e){return Object(n.a)("number"==typeof e,"Input must be a number"),e&&0==(e&e-1)}function s(e){var t=!0;for(var r in e){t=!1;break}return t}},435:function(e,t,r){"use strict";r.d(t,"b",function(){return i}),r.d(t,"a",function(){return a});r(15),r(8),r(130);var n=r(386);function i(e,t){if("string"!=typeof t)return t;var r=Number(t);if(!isNaN(r))return r;var i=e[t=t.replace(/^.*\./,"")];return Object(n.a)(void 0!==i,"Accessing undefined constant GL."+t),i}function a(e,t){for(var r in t=Number(t),e)if(e[r]===t)return"GL."+r;return String(t)}},436:function(e,t,r){"use strict";r.d(t,"a",function(){return i});var n=r(351);function i(e,t,r,i){var a="See luma.gl "+r+" Upgrade Guide at http://uber.github.io/luma.gl/#/documentation/overview/upgrade-guide",o=Object.getPrototypeOf(e);i.forEach(function(e){o.methodName||(o[e]=function(){throw n.a.removed("Calling removed method "+t+"."+e+": ",a)(),new Error(e)})})}},438:function(e,t,r){"use strict";r(335);var n={pickingSelectedColor:null,pickingHighlightColor:new Uint8Array([0,255,255,255]),pickingThreshold:1,pickingActive:!1};t.a={name:"picking",vs:"uniform vec3 picking_uSelectedColor;\nuniform float picking_uThreshold;\nuniform bool picking_uSelectedColorValid;\n\nout vec4 picking_vRGBcolor_Aselected;\n\nconst float COLOR_SCALE = 1. / 255.;\n\nbool isVertexPicked(vec3 vertexColor) {\n  return\n    picking_uSelectedColorValid &&\n    abs(vertexColor.r - picking_uSelectedColor.r) < picking_uThreshold &&\n    abs(vertexColor.g - picking_uSelectedColor.g) < picking_uThreshold &&\n    abs(vertexColor.b - picking_uSelectedColor.b) < picking_uThreshold;\n}\n\nvoid picking_setPickingColor(vec3 pickingColor) {\n  // Do the comparison with selected item color in vertex shader as it should mean fewer compares\n  picking_vRGBcolor_Aselected.a =\n    float(isVertexPicked(pickingColor));\n\n  // Stores the picking color so that the fragment shader can render it during picking\n  picking_vRGBcolor_Aselected.rgb = pickingColor * COLOR_SCALE;\n}\n",fs:"uniform bool picking_uActive; // true during rendering to offscreen picking buffer\nuniform vec3 picking_uSelectedColor;\nuniform vec4 picking_uHighlightColor;\n\nin vec4 picking_vRGBcolor_Aselected;\n\nconst float COLOR_SCALE = 1. / 255.;\n\n/*\n * Returns highlight color if this item is selected.\n */\nvec4 picking_filterHighlightColor(vec4 color) {\n  bool selected = bool(picking_vRGBcolor_Aselected.a);\n\n  if (selected) {\n    vec4 highLightColor = picking_uHighlightColor * COLOR_SCALE;\n\n    float highLightAlpha = highLightColor.a;\n    float blendedAlpha = highLightAlpha + color.a * (1.0 - highLightAlpha);\n    float highLightRatio = highLightAlpha / blendedAlpha;\n\n    vec3 blendedRGB = mix(color.rgb, highLightColor.rgb, highLightRatio);\n    return vec4(blendedRGB, blendedAlpha);\n  } else {\n    return color;\n  }\n}\n\n/*\n * Returns picking color if picking enabled else unmodified argument.\n */\nvec4 picking_filterPickingColor(vec4 color) {\n  vec3 pickingColor = picking_vRGBcolor_Aselected.rgb;\n  if (picking_uActive && length(pickingColor) < 0.001) {\n    discard;\n  }\n  return picking_uActive ? vec4(pickingColor, 1.0) : color;\n}\n\n/*\n * Returns picking color if picking is enabled if not\n * highlight color if this item is selected, otherwise unmodified argument.\n */\nvec4 picking_filterColor(vec4 color) {\n  vec4 highightColor = picking_filterHighlightColor(color);\n  return picking_filterPickingColor(highightColor);\n}\n\n",getUniforms:function(e){void 0===e&&(e=n);var t={};if(void 0!==e.pickingSelectedColor)if(null===e.pickingSelectedColor)t.picking_uSelectedColorValid=0;else{var r=[e.pickingSelectedColor[0],e.pickingSelectedColor[1],e.pickingSelectedColor[2]];t.picking_uSelectedColorValid=1,t.picking_uSelectedColor=r}return void 0!==e.pickingHighlightColor&&(t.picking_uHighlightColor=e.pickingHighlightColor),void 0!==e.pickingThreshold&&(t.picking_uThreshold=e.pickingThreshold),void 0!==e.pickingActive&&(t.picking_uActive=e.pickingActive?1:0),t}}},439:function(e,t,r){"use strict";r.d(t,"a",function(){return u});r(40),r(2),r(130),r(311),r(10),r(7),r(3);var n=r(323),i=r(440),a=r(392),o=r(433),s=r(386);var u=function(e){var t,r;function n(t,r){var n;return void 0===r&&(r={}),(n=e.call(this,t,r)||this).target=null,n._queryPending=!1,n._pollingPromise=null,Object.seal(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n)),n}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.isSupported=function(e,t){void 0===t&&(t=[]);var r=Object(o.d)(e),n=Object(i.b)(e,a.a.TIMER_QUERY),u=r||n,c=t,f=Array.isArray(c),l=0;for(c=f?c:c[Symbol.iterator]();;){var _;if(f){if(l>=c.length)break;_=c[l++]}else{if((l=c.next()).done)break;_=l.value}switch(_){case"queries":u=u&&r;break;case"timers":u=u&&n;break;default:Object(s.a)(!1)}}return u};var u=n.prototype;return u.beginTimeElapsedQuery=function(){return this.begin(35007)},u.beginOcclusionQuery=function(e){var t=(void 0===e?{}:e).conservative,r=void 0!==t&&t;return this.begin(r?36202:35887)},u.beginTransformFeedbackQuery=function(){return this.begin(35976)},u.begin=function(e){return this._queryPending?this:(this.target=e,this.gl.beginQuery(this.target,this.handle),this)},u.end=function(){return this._queryPending?this:(this.target&&(this.gl.endQuery(this.target),this.target=null,this._queryPending=!0),this)},u.isResultAvailable=function(){if(!this._queryPending)return!1;var e=this.gl.getQueryParameter(this.handle,34919);return e&&(this._queryPending=!1),e},u.isTimerDisjoint=function(){return this.gl.getParameter(36795)},u.getResult=function(){return this.gl.getQueryParameter(this.handle,34918)},u.getTimerMilliseconds=function(){return this.getResult()/1e6},u.createPoll=function(e){var t=this;if(void 0===e&&(e=Number.POSITIVE_INFINITY),this._pollingPromise)return this._pollingPromise;var r=0;return this._pollingPromise=new Promise(function(n,i){requestAnimationFrame(function a(){t.isResultAvailable()?(n(t.getResult()),t._pollingPromise=null):r++>e?(i("Timed out"),t._pollingPromise=null):requestAnimationFrame(a)})}),this._pollingPromise},u._createHandle=function(){return n.isSupported(this.gl)?this.gl.createQuery():null},u._deleteHandle=function(){this.gl.deleteQuery(this.handle)},n}(n.a)},440:function(e,t,r){"use strict";r.d(t,"b",function(){return o}),r.d(t,"a",function(){return s});r(10),r(7),r(3);var n=r(392),i=r(433),a=r(386);function o(e,t){return(t=Array.isArray(t)?t:[t]).every(function(t){return u(e,t)})}function s(e){if(e.luma=e.luma||{},!e.luma.caps)for(var t in e.luma.caps={},e.luma.caps.webgl2=Object(i.d)(e),n.b)e.luma.caps[t]=u(e,t);return e.luma.caps}function u(e,t){var r=n.b[t];Object(a.a)(r,t);var o,s=Object(i.d)(e)&&r[1]||r[0];if("function"==typeof s)o=s(e);else if(Array.isArray(s)){o=!0;var u=s,c=Array.isArray(u),f=0;for(u=c?u:u[Symbol.iterator]();;){var l;if(c){if(f>=u.length)break;l=u[f++]}else{if((f=u.next()).done)break;l=f.value}var _=l;o=o&&Boolean(e.getExtension(_))}}else"string"==typeof s?o=Boolean(e.getExtension(s)):"boolean"==typeof s?o=s:Object(a.a)(!1);return o}},446:function(e,t,r){"use strict";r(4),r(130),r(40),r(2);var n=r(356),i=r.n(n),a=(r(357),r(306),r(381)),o=r(393),s="Failed to create WebGL context in Node.js, headless gl not available",u="Failed to create WebGL context in Node.js, headless gl returned null";var c,f=r(365),l=f.a&&"undefined"!=typeof document,_=l&&"complete"===document.readyState;function d(e){var t,r=e.canvas,n=e.width,i=e.height,a=e.onError,o=void 0===a?function(){}:a;return"string"==typeof r?(_||o("createGLContext called on canvas '"+r+"' before page was loaded"),t=document.getElementById(r)):t=r||function(e){var t=e.width,r=void 0===t?800:t,n=e.height,i=void 0===n?600:n,a=e.id,o=void 0===a?"gl-canvas":a,s=e.insert,u=void 0===s||s,c=document.createElement("canvas");if(c.id=o,c.style.width=Number.isFinite(r)?r+"px":"100%",c.style.height=Number.isFinite(i)?i+"px":"100%",u){var f=document.body;f.insertBefore(c,f.firstChild)}return c}({id:"lumagl-canvas",width:n,height:i,onError:o}),t}var E=r(308),h=r.n(E);var A=r(386),T=r(351),v=r(341);function R(e){return Boolean(e&&2===e._version)}var g={webgl2:!0,webgl1:!0,throwOnFailure:!0,manageState:!0,canvas:null,debug:!1,width:800,height:600};function m(e){void 0===e&&(e={});var t,r=e=Object.assign({},g,e),n=r.width,i=r.height;function a(t){if(e.throwOnError)throw new Error(t);return null}f.a?t=function(e,t){var r=t.onError,n=void 0===r?function(e){return null}:r,i=function(e){return n("WebGL context: "+(e.statusMessage||"error"))};e.addEventListener("webglcontextcreationerror",i,!1);var a=t.webgl1,o=void 0===a||a,s=t.webgl2,u=void 0===s||s,c=null;return u&&(c=(c=c||e.getContext("webgl2",t))||e.getContext("experimental-webgl2",t)),o&&(c=(c=c||e.getContext("webgl",t))||e.getContext("experimental-webgl",t)),e.removeEventListener("webglcontextcreationerror",i,!1),c||n("Failed to create "+(u&&!o?"WebGL2":"WebGL")+" context")}(d({canvas:e.canvas,width:n,height:i,onError:a}),e):t=function(e){var t=e.width,r=e.height,n=e.webgl1,i=e.webgl2,a=e.onError;if(i&&!n)return a("headless-gl does not support WebGL2");if(!o.c)return a(s);var c=Object(o.c)(t,r,e);return c||a(u)}(Object.assign({},e,{width:n,height:i,onError:a}));return t?(function(e){var t=R(e)?"WebGL2":"WebGL1",r=function(e){var t=e.getParameter(h.a.VENDOR),r=e.getParameter(h.a.RENDERER),n=e.getExtension("WEBGL_debug_renderer_info");return{vendor:n&&e.getParameter(n.UNMASKED_VENDOR_WEBGL||h.a.VENDOR)||t,renderer:n&&e.getParameter(n.UNMASKED_RENDERER_WEBGL||h.a.RENDERER)||r,vendorMasked:t,rendererMasked:r,version:e.getParameter(h.a.VERSION),shadingLanguageVersion:e.getParameter(h.a.SHADING_LANGUAGE_VERSION)}}(e),n=r?"("+r.vendor+","+r.renderer+")":"",i=e.debug?" debug":"";T.a.once(1,""+t+i+" context "+n)()}(t=p(t,e)),t):null}function p(e,t){if(void 0===t&&(t={}),e._instrumented)return e;e._version=e._version||function(e){if(void 0!==o.a&&e instanceof o.a)return 2;return 1}(e);var r=t=Object.assign({},g,t),n=r.manageState,i=r.debug;return n&&Object(a.a)(e,{copyState:!1,log:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return T.a.log.apply(T.a,[1].concat(t))()}}),f.a&&i&&(v.a.makeDebugContext?(e=v.a.makeDebugContext(e,t),T.a.priority=Math.max(T.a.priority,1)):T.a.warn('WebGL debug mode not activated. import "@luma.gl/debug" to enable.')()),e._instrumented=!0,e}var b=r(399),O=r(439);function N(e){return"undefined"!=typeof window&&window.cancelAnimationFrame?window.cancelAnimationFrame(e):clearTimeout(e)}var F=r(433),S=r(362),I=r(342);function L(e,t,r,n,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void r(c)}s.done?t(u):Promise.resolve(u).then(n,i)}r.d(t,"a",function(){return y});var C=0,y=function(){function e(e){void 0===e&&(e={});var t=e,r=t.onCreateContext,n=void 0===r?function(e){return m(e)}:r,i=t.onAddHTML,a=void 0===i?null:i,o=t.onInitialize,s=void 0===o?function(){}:o,u=t.onRender,c=void 0===u?function(){}:u,f=t.onFinalize,l=void 0===f?function(){}:f,_=t.gl,d=void 0===_?null:_,E=t.glOptions,h=void 0===E?{}:E,A=t.debug,v=void 0!==A&&A,R=t.createFramebuffer,g=void 0!==R&&R,p=t.autoResizeViewport,O=void 0===p||p,N=t.autoResizeDrawingBuffer,F=void 0===N||N,S=t.stats,I=void 0===S?b.a.get("animation-loop-"+C++):S,L=e.useDevicePixels,y=void 0===L||L;"useDevicePixelRatio"in e&&(T.a.deprecated("useDevicePixelRatio","useDevicePixels")(),y=e.useDevicePixelRatio),this.props={onCreateContext:n,onAddHTML:a,onInitialize:s,onRender:c,onFinalize:l,gl:d,glOptions:h,debug:v,createFramebuffer:g},this.gl=d,this.needsRedraw=null,this.timeline=null,this.stats=I,this.cpuTime=this.stats.get("CPU Time"),this.gpuTime=this.stats.get("GPU Time"),this.frameRate=this.stats.get("Frame Rate"),this._initialized=!1,this._running=!1,this._animationFrameId=null,this._nextFramePromise=null,this._resolveNextFrame=null,this._cpuStartTime=0,this.setProps({autoResizeViewport:O,autoResizeDrawingBuffer:F,useDevicePixels:y}),this.start=this.start.bind(this),this.stop=this.stop.bind(this),this._onMousemove=this._onMousemove.bind(this),this._onMouseleave=this._onMouseleave.bind(this)}var t=e.prototype;return t.delete=function(){this.stop(),this._setDisplay(null)},t.setNeedsRedraw=function(e){return Object(A.a)("string"==typeof e),this.needsRedraw=this.needsRedraw||e,this},t.setProps=function(e){return"autoResizeViewport"in e&&(this.autoResizeViewport=e.autoResizeViewport),"autoResizeDrawingBuffer"in e&&(this.autoResizeDrawingBuffer=e.autoResizeDrawingBuffer),"useDevicePixels"in e&&(this.useDevicePixels=e.useDevicePixels),this},t.start=function(e){var t=this;return void 0===e&&(e={}),this._running?this:(this._running=!0,(c||(c=l?new Promise(function(e,t){if(l&&"complete"===document.readyState)return _=!0,void e(document);window.onload=function(){_=!0,e(document)}}):Promise.resolve({})),c).then(function(){return!t._running||t._initialized?null:(t._createWebGLContext(e),t._createFramebuffer(),t._startEventHandling(),t._initializeCallbackData(),t._updateCallbackData(),t._resizeCanvasDrawingBuffer(),t._resizeViewport(),t._gpuTimeQuery=O.a.isSupported(t.gl,["timers"])?new O.a(t.gl):null,t._initialized=!0,t.onInitialize(t.animationProps))}).then(function(e){t._running&&(t._addCallbackData(e||{}),!1!==e&&t._startLoop())}),this)},t.redraw=function(){return this._beginTimers(),this._setupFrame(),this._updateCallbackData(),this._renderFrame(this.animationProps),this._clearNeedsRedraw(),this.offScreen&&this.gl.commit&&this.gl.commit(),this._resolveNextFrame&&(this._resolveNextFrame(this),this._nextFramePromise=null,this._resolveNextFrame=null),this._endTimers(),this},t.stop=function(){return this._running&&(this._finalizeCallbackData(),N(this._animationFrameId),this._nextFramePromise=null,this._resolveNextFrame=null,this._animationFrameId=null,this._running=!1),this},t.attachTimeline=function(e){return this.timeline=e,this.timeline},t.detachTimeline=function(){this.timeline=null},t.waitForRender=function(){var e=this;return this.setNeedsRedraw("waitForRender"),this._nextFramePromise||(this._nextFramePromise=new Promise(function(t){e._resolveNextFrame=t})),this._nextFramePromise},t.toDataURL=function(){var e,t=(e=i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setNeedsRedraw("toDataURL"),e.next=3,this.waitForRender();case 3:return e.abrupt("return",this.gl.canvas.toDataURL());case 4:case"end":return e.stop()}},e,this)}),function(){var t=this,r=arguments;return new Promise(function(n,i){var a=e.apply(t,r);function o(e){L(a,n,i,o,s,"next",e)}function s(e){L(a,n,i,o,s,"throw",e)}o(void 0)})});return function(){return t.apply(this,arguments)}}(),t.onCreateContext=function(){var e;return(e=this.props).onCreateContext.apply(e,arguments)},t.onInitialize=function(){var e;return(e=this.props).onInitialize.apply(e,arguments)},t.onRender=function(){var e;return(e=this.props).onRender.apply(e,arguments)},t.onFinalize=function(){var e;return(e=this.props).onFinalize.apply(e,arguments)},t.getHTMLControlValue=function(e,t){void 0===t&&(t=1);var r=document.getElementById(e);return r?Number(r.value):t},t.setViewParameters=function(){return T.a.removed("AnimationLoop.setViewParameters","AnimationLoop.setProps")(),this},t._startLoop=function(){var e=this;N(this._animationFrameId),this._animationFrameId=this._requestAnimationFrame(function t(){e._running&&(e.redraw(),e._animationFrameId=e._requestAnimationFrame(t))})},t._setDisplay=function(e){this.display&&(this.display.delete(),this.display.animationLoop=null),e&&(e.animationLoop=this),this.display=e},t._requestAnimationFrame=function(e){var t;this.display&&this.display.requestAnimationFrame(e)||(t=e,"undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame(t):setTimeout(t,1e3/60))},t._renderFrame=function(){var e;this.display?(e=this.display)._renderFrame.apply(e,arguments):this.onRender.apply(this,arguments)},t._clearNeedsRedraw=function(){this.needsRedraw=null},t._setupFrame=function(){this._onSetupFrame?this._onSetupFrame(this.animationProps):(this._resizeCanvasDrawingBuffer(),this._resizeViewport(),this._resizeFramebuffer())},t._initializeCallbackData=function(){this.animationProps={gl:this.gl,stop:this.stop,canvas:this.gl.canvas,framebuffer:this.framebuffer,useDevicePixels:this.useDevicePixels,needsRedraw:null,startTime:Date.now(),engineTime:0,tick:0,tock:0,time:0,_timeline:this.timeline,_loop:this,_animationLoop:this,_mousePosition:null}},t._updateCallbackData=function(){var e=this._getSizeAndAspect(),t=e.width,r=e.height,n=e.aspect;t===this.animationProps.width&&r===this.animationProps.height||this.setNeedsRedraw("drawing buffer resized"),n!==this.animationProps.aspect&&this.setNeedsRedraw("drawing buffer aspect changed"),this.animationProps.width=t,this.animationProps.height=r,this.animationProps.aspect=n,this.animationProps.needsRedraw=this.needsRedraw,this.animationProps.engineTime=Date.now()-this.animationProps.startTime,this.timeline&&this.timeline.update(this.animationProps.engineTime),this.animationProps.tick=Math.floor(this.animationProps.time/1e3*60),this.animationProps.tock++,this.animationProps.time=this.timeline?this.timeline.getTime():this.animationProps.engineTime,this.animationProps._offScreen=this.offScreen},t._finalizeCallbackData=function(){this.onFinalize(this.animationProps)},t._addCallbackData=function(e){"object"==typeof e&&null!==e&&(this.animationProps=Object.assign({},this.animationProps,e))},t._createWebGLContext=function(e){if(this.offScreen=e.canvas&&"undefined"!=typeof OffscreenCanvas&&e.canvas instanceof OffscreenCanvas,e=Object.assign({},e,this.props.glOptions),this.gl=this.props.gl?p(this.props.gl,e):this.onCreateContext(e),!Object(F.c)(this.gl))throw new Error("AnimationLoop.onCreateContext - illegal context returned");Object(S.b)(this.gl),this._createInfoDiv()},t._createInfoDiv=function(){if(this.gl.canvas&&this.props.onAddHTML){var e=document.createElement("div");document.body.appendChild(e),e.style.position="relative";var t=document.createElement("div");t.style.position="absolute",t.style.left="10px",t.style.bottom="10px",t.style.width="300px",t.style.background="white",e.appendChild(this.gl.canvas),e.appendChild(t);var r=this.props.onAddHTML(t);r&&(t.innerHTML=r)}},t._getSizeAndAspect=function(){var e=this.gl.drawingBufferWidth,t=this.gl.drawingBufferHeight,r=1,n=this.gl.canvas;return n&&n.clientHeight?r=n.clientWidth/n.clientHeight:e>0&&t>0&&(r=e/t),{width:e,height:t,aspect:r}},t._resizeViewport=function(){this.autoResizeViewport&&this.gl.viewport(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight)},t._resizeCanvasDrawingBuffer=function(){this.autoResizeDrawingBuffer&&function(e,t){if(void 0===t&&(t={}),e.canvas){var r=t.useDevicePixels&&window.devicePixelRatio||1,n="width"in t?t.width:e.canvas.clientWidth,i="height"in t?t.height:e.canvas.clientHeight;return e.canvas.width=n*r,void(e.canvas.height=i*r)}var a=e.getExtension("STACKGL_resize_drawingbuffer");a&&"width"in t&&"height"in t&&a.resize(t.width,t.height)}(this.gl,{useDevicePixels:this.useDevicePixels})},t._createFramebuffer=function(){this.props.createFramebuffer&&(this.framebuffer=new I.a(this.gl))},t._resizeFramebuffer=function(){this.framebuffer&&this.framebuffer.resize({width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight})},t._beginTimers=function(){this.frameRate.timeEnd(),this.frameRate.timeStart(),this._gpuTimeQuery&&this._gpuTimeQuery.isResultAvailable()&&!this._gpuTimeQuery.isTimerDisjoint()&&this.stats.get("GPU Time").addTime(this._gpuTimeQuery.getTimerMilliseconds()),this._gpuTimeQuery&&this._gpuTimeQuery.beginTimeElapsedQuery(),this.cpuTime.timeStart()},t._endTimers=function(){this.cpuTime.timeEnd(),this._gpuTimeQuery&&this._gpuTimeQuery.end()},t._startEventHandling=function(){var e=this.gl.canvas;e&&(e.addEventListener("mousemove",this._onMousemove),e.addEventListener("mouseleave",this._onMouseleave))},t._onMousemove=function(e){this.animationProps._mousePosition=[e.offsetX,e.offsetY]},t._onMouseleave=function(e){this.animationProps._mousePosition=null},e}()},447:function(e,t,r){"use strict";r(15),r(8),r(10),r(7),r(3),r(4),r(311);var n,i=r(308),a=r.n(i),o=r(323),s=r(334),u=r(342),c=(r(62),r(319),r(317),r(307),r(130),r(306),r(369)),f=r(351),l=((n={})[a.a.FLOAT]=function(e,t,r){return e.uniform1fv(t,T(r,1))},n[a.a.FLOAT_VEC2]=function(e,t,r){return e.uniform2fv(t,T(r,2))},n[a.a.FLOAT_VEC3]=function(e,t,r){return e.uniform3fv(t,T(r,3))},n[a.a.FLOAT_VEC4]=function(e,t,r){return e.uniform4fv(t,T(r,4))},n[a.a.INT]=function(e,t,r){return e.uniform1iv(t,v(r,1))},n[a.a.INT_VEC2]=function(e,t,r){return e.uniform2iv(t,v(r,2))},n[a.a.INT_VEC3]=function(e,t,r){return e.uniform3iv(t,v(r,3))},n[a.a.INT_VEC4]=function(e,t,r){return e.uniform4iv(t,v(r,4))},n[a.a.BOOL]=function(e,t,r){return e.uniform1iv(t,v(r,1))},n[a.a.BOOL_VEC2]=function(e,t,r){return e.uniform2iv(t,v(r,2))},n[a.a.BOOL_VEC3]=function(e,t,r){return e.uniform3iv(t,v(r,3))},n[a.a.BOOL_VEC4]=function(e,t,r){return e.uniform4iv(t,v(r,4))},n[a.a.FLOAT_MAT2]=function(e,t,r){return e.uniformMatrix2fv(t,!1,T(r,4))},n[a.a.FLOAT_MAT3]=function(e,t,r){return e.uniformMatrix3fv(t,!1,T(r,9))},n[a.a.FLOAT_MAT4]=function(e,t,r){return e.uniformMatrix4fv(t,!1,T(r,16))},n[a.a.SAMPLER_2D]=function(e,t,r){return e.uniform1i(t,r)},n[a.a.SAMPLER_CUBE]=function(e,t,r){return e.uniform1i(t,r)},n[a.a.UNSIGNED_INT]=function(e,t,r){return e.uniform1uiv(t,R(r,1))},n[a.a.UNSIGNED_INT_VEC2]=function(e,t,r){return e.uniform2uiv(t,R(r,2))},n[a.a.UNSIGNED_INT_VEC3]=function(e,t,r){return e.uniform3uiv(t,R(r,3))},n[a.a.UNSIGNED_INT_VEC4]=function(e,t,r){return e.uniform4uiv(t,R(r,4))},n[a.a.FLOAT_MAT2x3]=function(e,t,r){return e.uniformMatrix2x3fv(t,!1,T(r,6))},n[a.a.FLOAT_MAT2x4]=function(e,t,r){return e.uniformMatrix2x4fv(t,!1,T(r,8))},n[a.a.FLOAT_MAT3x2]=function(e,t,r){return e.uniformMatrix3x2fv(t,!1,T(r,6))},n[a.a.FLOAT_MAT3x4]=function(e,t,r){return e.uniformMatrix3x4fv(t,!1,T(r,12))},n[a.a.FLOAT_MAT4x2]=function(e,t,r){return e.uniformMatrix4x2fv(t,!1,T(r,8))},n[a.a.FLOAT_MAT4x3]=function(e,t,r){return e.uniformMatrix4x3fv(t,!1,T(r,12))},n[a.a.SAMPLER_3D]=function(e,t,r){return e.uniform1i(t,r)},n[a.a.SAMPLER_2D_SHADOW]=function(e,t,r){return e.uniform1i(t,r)},n[a.a.SAMPLER_2D_ARRAY]=function(e,t,r){return e.uniform1i(t,r)},n[a.a.SAMPLER_2D_ARRAY_SHADOW]=function(e,t,r){return e.uniform1i(t,r)},n[a.a.SAMPLER_CUBE_SHADOW]=function(e,t,r){return e.uniform1i(t,r)},n[a.a.INT_SAMPLER_2D]=function(e,t,r){return e.uniform1i(t,r)},n[a.a.INT_SAMPLER_3D]=function(e,t,r){return e.uniform1i(t,r)},n[a.a.INT_SAMPLER_CUBE]=function(e,t,r){return e.uniform1i(t,r)},n[a.a.INT_SAMPLER_2D_ARRAY]=function(e,t,r){return e.uniform1i(t,r)},n[a.a.UNSIGNED_INT_SAMPLER_2D]=function(e,t,r){return e.uniform1i(t,r)},n[a.a.UNSIGNED_INT_SAMPLER_3D]=function(e,t,r){return e.uniform1i(t,r)},n[a.a.UNSIGNED_INT_SAMPLER_CUBE]=function(e,t,r){return e.uniform1i(t,r)},n[a.a.UNSIGNED_INT_SAMPLER_2D_ARRAY]=function(e,t,r){return e.uniform1i(t,r)},n),_={},d={},E={},h=[0];function A(e,t,r,n){1===t&&"boolean"==typeof e&&(e=e?1:0),Number.isFinite(e)&&(h[0]=e,e=h);var i=e.length;if(i%t&&f.a.warn("Uniform size should be multiples of "+t,e)(),e instanceof r)return e;var a=n[i];a||(a=new r(i),n[i]=a);for(var o=0;o<i;o++)a[o]=e[o];return a}function T(e,t){return A(e,t,Float32Array,_)}function v(e,t){return A(e,t,Int32Array,d)}function R(e,t){return A(e,t,Uint32Array,E)}function g(e){if("]"!==e[e.length-1])return{name:e,length:1,isArray:!1};var t=e.match(/([^[]*)(\[[0-9]+\])?/);if(!t||t.length<2)throw new Error("Failed to parse GLSL uniform name "+e);return{name:t[1],length:t[2]||1,isArray:Boolean(t[2])}}function m(e,t,r){var n=l[r.type];if(!n)throw new Error("Unknown GLSL uniform type "+r.type);return n.bind(null,e,t)}function p(e){return Array.isArray(e)||ArrayBuffer.isView(e)?function(e){if(0===e.length)return!1;for(var t=Math.min(e.length,16),r=0;r<t;++r)if(!Number.isFinite(e[r]))return!1;return!0}(e):!!isFinite(e)||(!0===e||!1===e||(e instanceof s.a||(e instanceof c.a||e instanceof u.a&&Boolean(e.texture))))}function b(e,t){if(Array.isArray(e)||ArrayBuffer.isView(e)){if(!t)return!1;var r=e.length;if(t.length!==r)return!1;for(var n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}return e===t}r(39),r(2);function O(e,t){void 0===t&&(t="unnamed");var r=e.match(/#define[\s*]SHADER_NAME[\s*]([A-Za-z0-9_-]+)[\s*]/);return r?r[1]:t}r(28);var N=35632,F=35633;function S(e,t,r,n){for(var i=e.split(/\r?\n/),a={},o={},s=n||O(t)||"(unnamed)",u=function(e){switch(e){case N:return"fragment";case F:return"vertex";default:return"unknown type"}}(r)+" shader "+s,c=0;c<i.length;c++){var f=i[c];if(!(f.length<=1)){var l=f.split(":"),_=l[0],d=parseInt(l[2],10);if(isNaN(d))throw new Error("GLSL compilation error in "+u+": "+e);"WARNING"!==_?a[d]=f:o[d]=f}}var E=function(e,t,r){void 0===t&&(t=1);void 0===r&&(r=": ");var n=e.split(/\r?\n/),i=String(n.length+t-1).length;return n.map(function(e,n){var a=n+t,o=String(a).length,s=L(a,i-o);return s+r+e})}(t);return{shaderName:u,errors:I(a,E),warnings:I(o,E)}}function I(e,t){for(var r="",n=0;n<t.length;n++){var i=t[n];if((e[n+3]||e[n+2]||e[n+1])&&(r+=i+"\n",e[n+1])){var a=e[n+1],o=a.split(":",3),s=o[0],u=parseInt(o[1],10)||0;r+=L("^^^ "+s+": "+a.substring(o.join(":").length+1).trim()+"\n\n",u)}}return r}function L(e,t){for(var r="",n=0;n<t;++n)r+=" ";return""+r+e}var C=r(433),y=r(386),M=r(434);function P(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var B="Shader: GLSL source code must be a JavaScript string",D=function(e){function t(r,n){var i;Object(C.b)(r),Object(y.a)("string"==typeof n.source,B);var a=O(n.source,null)||n.id||Object(M.c)("unnamed "+t.getTypeName(n.shaderType));return(i=e.call(this,r,{id:a})||this).shaderType=n.shaderType,i.source=n.source,i.initialize(n),i}P(t,e),t.getTypeName=function(e){switch(e){case a.a.VERTEX_SHADER:return"vertex-shader";case a.a.FRAGMENT_SHADER:return"fragment-shader";default:return Object(y.a)(!1),"unknown"}};var r=t.prototype;return r.initialize=function(e){var t=e.source,r=O(t,null);r&&(this.id=Object(M.c)(r)),this._compile(t)},r.getParameter=function(e){return this.gl.getShaderParameter(this.handle,e)},r.toString=function(){return t.getTypeName(this.shaderType)+":"+this.id},r.getName=function(){return O(this.source)||"unnamed-shader"},r.getSource=function(){return this.gl.getShaderSource(this.handle)},r.getTranslatedSource=function(){var e=this.gl.getExtension("WEBGL.debug_shaders");return e?e.getTranslatedShaderSource(this.handle):"No translated source available. WEBGL.debug_shaders not implemented"},r._compile=function(){if(this.gl.shaderSource(this.handle,this.source),this.gl.compileShader(this.handle),!this.getParameter(a.a.COMPILE_STATUS)){var e=S(this.gl.getShaderInfoLog(this.handle),this.source,this.shaderType,this.id),t=e.shaderName,r=e.errors,n=e.warnings;throw f.a.error("GLSL compilation errors in "+t+"\n"+r)(),f.a.warn("GLSL compilation warnings in "+t+"\n"+n)(),new Error("GLSL compilation errors in "+t)}},r._deleteHandle=function(){this.gl.deleteShader(this.handle)},r._getOptsFromHandle=function(){return{type:this.getParameter(a.a.SHADER_TYPE),source:this.getSource()}},t}(o.a),U=function(e){function t(t,r){return"string"==typeof r&&(r={source:r}),e.call(this,t,Object.assign({},r,{shaderType:a.a.VERTEX_SHADER}))||this}return P(t,e),t.prototype._createHandle=function(){return this.gl.createShader(a.a.VERTEX_SHADER)},t}(D),w=function(e){function t(t,r){return"string"==typeof r&&(r={source:r}),e.call(this,t,Object.assign({},r,{shaderType:a.a.FRAGMENT_SHADER}))||this}return P(t,e),t.prototype._createHandle=function(){return this.gl.createShader(a.a.FRAGMENT_SHADER)},t}(D),x=(r(97),r(353)),G=r(333),j=function(){function e(e){this.id=e.id,this.attributeInfos=[],this.attributeInfosByName={},this.attributeInfosByLocation=[],this.varyingInfos=[],this.varyingInfosByName={},Object.seal(this),this._readAttributesFromProgram(e),this._readVaryingsFromProgram(e)}var t=e.prototype;return t.getAttributeInfo=function(e){var t=Number(e);return Number.isFinite(t)?this.attributeInfosByLocation[t]:this.attributeInfosByName[e]||null},t.getAttributeLocation=function(e){var t=this.getAttributeInfo(e);return t?t.location:-1},t.getAttributeAccessor=function(e){var t=this.getAttributeInfo(e);return t?t.accessor:null},t.getVaryingInfo=function(e){var t=Number(e);return Number.isFinite(t)?this.varyingInfos[t]:this.varyingInfosByName[e]||null},t.getVaryingIndex=function(e){var t=this.getVaryingInfo();return t?t.location:-1},t.getVaryingAccessor=function(e){var t=this.getVaryingInfo();return t?t.accessor:null},t._readAttributesFromProgram=function(e){for(var t=e.gl,r=t.getProgramParameter(e.handle,t.ACTIVE_ATTRIBUTES),n=0;n<r;n++){var i=t.getActiveAttrib(e.handle,n),a=i.name,o=i.type,s=i.size,u=t.getAttribLocation(e.handle,a);u>=0&&this._addAttribute(u,a,o,s)}this.attributeInfos.sort(function(e,t){return e.location-t.location})},t._readVaryingsFromProgram=function(e){var t=e.gl;if(Object(C.d)(t)){for(var r=t.getProgramParameter(e.handle,t.TRANSFORM_FEEDBACK_VARYINGS),n=0;n<r;n++){var i=t.getTransformFeedbackVarying(e.handle,n),a=i.name,o=i.type,s=i.size;this._addVarying(n,a,o,s)}this.varyingInfos.sort(function(e,t){return e.location-t.location})}},t._addAttribute=function(e,t,r,n){var i=Object(G.a)(r),a={type:i.type,size:n*i.components};this._inferProperties(e,t,a);var o={location:e,name:t,accessor:new x.a(a)};this.attributeInfos.push(o),this.attributeInfosByLocation[e]=o,this.attributeInfosByName[o.name]=o},t._inferProperties=function(e,t,r){/instance/i.test(t)&&(r.divisor=1)},t._addVarying=function(e,t,r,n){var i=Object(G.a)(r),a=i.type,o=i.components,s={location:e,name:t,accessor:new x.a({type:a,size:n*o})};this.varyingInfos.push(s),this.varyingInfosByName[s.name]=s},e}(),H=r(428),V=r(435);r.d(t,"a",function(){return k});var X=["setVertexArray","setAttributes","setBuffers","unsetBuffers","use","getUniformCount","getUniformInfo","getUniformLocation","getUniformValue","getVarying","getFragDataLocation","getAttachedShaders","getAttributeCount","getAttributeLocation","getAttributeInfo"],k=function(e){var t,r;function n(t,r){var n;return void 0===r&&(r={}),(n=e.call(this,t,r)||this).stubRemovedMethods("Program","v6.0",X),n._isCached=!1,n.initialize(r),Object.seal(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n)),n._setId(r.id),n}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=n.prototype;return i.initialize=function(e){void 0===e&&(e={});var t=e,r=t.vs,n=t.fs,i=t.varyings,a=t.bufferMode,o=void 0===a?35981:a;return this.vs="string"==typeof r?new U(this.gl,{id:e.id+"-vs",source:r}):r,this.fs="string"==typeof n?new w(this.gl,{id:e.id+"-fs",source:n}):n,Object(y.a)(this.vs instanceof U),Object(y.a)(this.fs instanceof w),this.uniforms={},i&&(Object(C.a)(this.gl),this.varyings=i,this.gl.transformFeedbackVaryings(this.handle,i,o)),this._compileAndLink(),this._readUniformLocationsFromLinkedProgram(),this.configuration=new j(this),this.setProps(e)},i.delete=function(t){return void 0===t&&(t={}),this._isCached?this:e.prototype.delete.call(this,t)},i.setProps=function(e){return"uniforms"in e&&this.setUniforms(e.uniforms),this},i.draw=function(e){var t=this,r=e.logPriority,n=e.drawMode,i=void 0===n?a.a.TRIANGLES:n,o=e.vertexCount,s=e.offset,u=void 0===s?0:s,c=e.start,l=e.end,_=e.isIndexed,d=void 0!==_&&_,E=e.indexType,h=void 0===E?a.a.UNSIGNED_SHORT:E,A=e.isInstanced,T=void 0!==A&&A,v=e.instanceCount,R=void 0===v?0:v,g=e.vertexArray,m=void 0===g?null:g,p=e.transformFeedback,b=e.framebuffer,O=e.parameters,N=void 0===O?{}:O,F=e.uniforms,S=e.samplers;if((F||S)&&(f.a.deprecated("Program.draw({uniforms})","Program.setUniforms(uniforms)")(),this.setUniforms(F||{})),void 0!==r){var I=b?b.id:"default",L="mode="+Object(V.a)(this.gl,i)+" verts="+o+" instances="+R+" indexType="+Object(V.a)(this.gl,h)+" isInstanced="+T+" isIndexed="+d+" Framebuffer="+I;f.a.log(r,L)()}return Object(y.a)(m),this.gl.useProgram(this.handle),!!this._areTexturesRenderable()&&(m.bindForDraw(o,R,function(){if(void 0!==b&&(N=Object.assign({},N,{framebuffer:b})),p){var e=Object(G.c)(i);p.begin(e)}t._bindTextures(),Object(H.a)(t.gl,N,function(){d&&T?t.gl.drawElementsInstanced(i,o,h,u,R):d&&Object(C.d)(t.gl)&&!isNaN(c)&&!isNaN(l)?t.gl.drawRangeElements(i,c,l,o,h,u):d?t.gl.drawElements(i,o,h,u):T?t.gl.drawArraysInstanced(i,u,o,R):t.gl.drawArrays(i,u,o)}),p&&p.end()}),!0)},i.setUniforms=function(e,t){void 0===e&&(e={}),void 0===t&&(t=function(){});var r,n=!1,i={};for(var a in e)b(this.uniforms[a],e[a])||(n=!0,i[a]=e[a],this.uniforms[a]=(r=e[a],Array.isArray(r)||ArrayBuffer.isView(r)?r.slice():r));return n&&(t(),function(e,t,r){for(var n in e){var i=e[n];if((!r||Boolean(r[n]))&&!p(i))throw t=t?t+" ":"",console.error(t+" Bad uniform "+n,i),new Error(t+" Bad uniform "+n)}}(i,this.id,this._uniformSetters),this._setUniforms(i)),this},i.reset=function(){},i._areTexturesRenderable=function(){var e=!0;for(var t in this.uniforms){var r=this._uniformSetters[t];if(r&&void 0!==r.textureIndex){var n=this.uniforms[t];if(n instanceof u.a)n=n.texture;if(n instanceof s.a)e=e&&n.loaded}}return e},i._bindTextures=function(){for(var e in this.uniforms){var t=this._uniformSetters[e];if(t&&void 0!==t.textureIndex){var r=this.uniforms[e];if(r instanceof u.a&&(r=r.texture),r instanceof s.a)r.bind(t.textureIndex)}}},i._setUniforms=function(e){for(var t in this.gl.useProgram(this.handle),e){var r=e[t],n=this._uniformSetters[t];if(n)if(r instanceof u.a&&(r=r.texture),r instanceof s.a){void 0===n.textureIndex&&(n.textureIndex=this._textureIndexCounter++);var i=r,a=n.textureIndex;i.bind(a),n(a)}else n(r)}return this},i._createHandle=function(){return this.gl.createProgram()},i._deleteHandle=function(){this.gl.deleteProgram(this.handle)},i._getOptionsFromHandle=function(e){var t={},r=this.gl.getAttachedShaders(e),n=Array.isArray(r),i=0;for(r=n?r:r[Symbol.iterator]();;){var o;if(n){if(i>=r.length)break;o=r[i++]}else{if((i=r.next()).done)break;o=i.value}var s=o;switch(this.gl.getShaderParameter(this.handle,a.a.SHADER_TYPE)){case a.a.VERTEX_SHADER:t.vs=new U({handle:s});break;case a.a.FRAGMENT_SHADER:t.fs=new w({handle:s})}}return t},i._getParameter=function(e){return this.gl.getProgramParameter(this.handle,e)},i._setId=function(e){if(!e){var t=this._getName();this.id=Object(M.c)(t)}},i._getName=function(){var e=this.vs.getName()||this.fs.getName();return e=(e=e.replace(/shader/i,""))?e+"-program":"program"},i._compileAndLink=function(){var e=this.gl;if((e.attachShader(this.handle,this.vs.handle),e.attachShader(this.handle,this.fs.handle),f.a.time(4,"linkProgram for "+this._getName())(),e.linkProgram(this.handle),f.a.timeEnd(4,"linkProgram for "+this._getName())(),e.debug||f.a.priority>0)&&(e.validateProgram(this.handle),!e.getProgramParameter(this.handle,e.LINK_STATUS)))throw new Error("Error linking: "+e.getProgramInfoLog(this.handle))},i._readUniformLocationsFromLinkedProgram=function(){var e=this.gl;this._uniformSetters={},this._uniformCount=this._getParameter(a.a.ACTIVE_UNIFORMS);for(var t=0;t<this._uniformCount;t++){var r=this.gl.getActiveUniform(this.handle,t),n=g(r.name),i=n.name,o=(n.isArray,e.getUniformLocation(this.handle,i));if(this._uniformSetters[i]=m(e,o,r),r.size>1)for(var s=0;s<r.size;s++)o=e.getUniformLocation(this.handle,i+"["+s+"]"),this._uniformSetters[i+"["+s+"]"]=m(e,o,r)}this._textureIndexCounter=0},i.getActiveUniforms=function(e,t){return this.gl.getActiveUniforms(this.handle,e,t)},i.getUniformBlockIndex=function(e){return this.gl.getUniformBlockIndex(this.handle,e)},i.getActiveUniformBlockParameter=function(e,t){return this.gl.getActiveUniformBlockParameter(this.handle,e,t)},i.uniformBlockBinding=function(e,t){this.gl.uniformBlockBinding(this.handle,e,t)},n}(o.a)},448:function(e,t,r){"use strict";r.r(t);var n=r(0),i=r.n(n),a=r(318),o=(r(4),r(346),r(307),r(130),r(325)),s=r(324),u=r(457),c=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],f={modelMatrix:c,viewMatrix:c,projectionMatrix:c,cameraPositionWorld:[0,0,0]};var l={name:"project",getUniforms:function(e,t){void 0===e&&(e=f),void 0===t&&(t={});var r={};return void 0!==e.modelMatrix&&(r.modelMatrix=e.modelMatrix),void 0!==e.viewMatrix&&(r.viewMatrix=e.viewMatrix),void 0!==e.projectionMatrix&&(r.projectionMatrix=e.projectionMatrix),void 0!==e.cameraPositionWorld&&(r.cameraPositionWorld=e.cameraPositionWorld),void 0===e.projectionMatrix&&void 0===e.viewMatrix||(r.viewProjectionMatrix=new u.a(e.projectionMatrix).multiplyRight(e.viewMatrix)),r},vs:"varying vec4 project_vPositionWorld;\nvarying vec3 project_vNormalWorld;\n\nvec4 project_getPosition_World() {\n  return project_vPositionWorld;\n}\n\nvec3 project_getNormal_World() {\n  return project_vNormalWorld;\n}\n\n\n// Unprefixed uniforms\nuniform mat4 modelMatrix;\nuniform mat4 viewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewProjectionMatrix;\nuniform vec3 cameraPositionWorld;\n\nstruct World {\n  vec3 position;\n  vec3 normal;\n};\n\nWorld world;\n\nvoid project_setPosition(vec4 position) {\n  project_vPositionWorld = position;\n}\n\nvoid project_setNormal(vec3 normal) {\n  project_vNormalWorld = normal;\n}\n\nvoid project_setPositionAndNormal_World(vec3 position, vec3 normal) {\n  world.position = position;\n  world.normal = normal;\n}\n\nvoid project_setPositionAndNormal_Model(vec3 position, vec3 normal) {\n  world.position = (modelMatrix * vec4(position, 1.)).xyz;\n  world.normal = mat3(modelMatrix) * normal;\n}\n\nvec4 project_model_to_clipspace(vec4 position) {\n  return viewProjectionMatrix * modelMatrix * position;\n}\n\nvec4 project_model_to_clipspace(vec3 position) {\n  return viewProjectionMatrix * modelMatrix * vec4(position, 1.);\n}\n\nvec4 project_world_to_clipspace(vec3 position) {\n  return viewProjectionMatrix * vec4(position, 1.);\n}\n\nvec4 project_view_to_clipspace(vec3 position) {\n  return projectionMatrix * vec4(position, 1.);\n}\n\nvec4 project_to_clipspace(vec3 position) {\n  return viewProjectionMatrix * vec4(position, 1.);\n}\n",fs:"\nvarying vec4 project_vPositionWorld;\nvarying vec3 project_vNormalWorld;\n\nvec4 project_getPosition_World() {\n  return project_vPositionWorld;\n}\n\nvec3 project_getNormal_World() {\n  return project_vNormalWorld;\n}\n"},_={lightDirection:new Float32Array([1,1,2])};var d={name:"dirlight",vs:null,fs:"uniform vec3 dirlight_uLightDirection;\n\n/*\n * Returns color attenuated by angle from light source\n */\nvec4 dirlight_filterColor(vec4 color) {\n  vec3 normal = project_getNormal_World();\n  float d = abs(dot(normalize(normal), normalize(dirlight_uLightDirection)));\n  return vec4(color.rgb * d, color.a);\n}\n",getUniforms:function(e){void 0===e&&(e=_);var t={};return e.lightDirection&&(t.dirlight_uLightDirection=e.lightDirection),t},dependencies:[l]},E=r(438),h=r(337),A=r(348),T=r(398),v=r(446),R=r(400),g=(r(10),r(7),r(380),r(3),r(5),r(2),r(73),r(96),0),m=0,p=function(){function e(){this.time=0,this.channels=new Map,this.animations=new Map,this.playing=!1,this.lastEngineTime=-1}var t=e.prototype;return t.addChannel=function(e){var t=e.delay,r=void 0===t?0:t,n=e.duration,i=void 0===n?Number.POSITIVE_INFINITY:n,a=e.rate,o=void 0===a?1:a,s=e.repeat,u=g++,c={time:0,delay:r,duration:i,rate:o,repeat:void 0===s?1:s};return this._setChannelTime(c,this.time),this.channels.set(u,c),u},t.removeChannel=function(e){this.channels.delete(e);var t=this.animations,r=Array.isArray(t),n=0;for(t=r?t:t[Symbol.iterator]();;){var i;if(r){if(n>=t.length)break;i=t[n++]}else{if((n=t.next()).done)break;i=n.value}var a=i,o=a[0];a[1].channel===e&&this.detachAnimation(o)}},t.getTime=function(e){if(void 0===e)return this.time;var t=this.channels.get(e);return void 0===t?-1:t.time},t.setTime=function(e){this.time=Math.max(0,e);var t=this.channels.values(),r=Array.isArray(t),n=0;for(t=r?t:t[Symbol.iterator]();;){var i;if(r){if(n>=t.length)break;i=t[n++]}else{if((n=t.next()).done)break;i=n.value}var a=i;this._setChannelTime(a,this.time)}var o=this.animations.values(),s=Array.isArray(o),u=0;for(o=s?o:o[Symbol.iterator]();;){var c;if(s){if(u>=o.length)break;c=o[u++]}else{if((u=o.next()).done)break;c=u.value}var f=c,l=f.animation,_=f.channel;l.setTime(this.getTime(_))}},t.play=function(){this.playing=!0},t.pause=function(){this.playing=!1,this.lastEngineTime=-1},t.reset=function(){this.setTime(0)},t.attachAnimation=function(e,t){var r=m++;return this.animations.set(r,{animation:e,channel:t}),e.setTime(this.getTime(t)),r},t.detachAnimation=function(e){this.animations.delete(e)},t.update=function(e){this.playing&&(-1===this.lastEngineTime&&(this.lastEngineTime=e),this.setTime(this.time+(e-this.lastEngineTime)),this.lastEngineTime=e)},t._setChannelTime=function(e,t){var r=t-e.delay;r>=e.duration*e.repeat?e.time=e.duration*e.rate:(e.time=Math.max(0,r)%e.duration,e.time*=e.rate)},e}(),b=r(366);function O(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var N=256;Object(o.c)("vs:MY_SHADER_HOOK_pickColor(inout vec4 color)"),Object(o.c)("fs:MY_SHADER_HOOK_fragmentColor(inout vec4 color)"),Object(o.b)("picking",{hook:"vs:MY_SHADER_HOOK_pickColor",injection:"picking_setPickingColor(color.rgb);"}),Object(o.b)("dirlight",{hook:"fs:MY_SHADER_HOOK_fragmentColor",injection:"color = dirlight_filterColor(color);"}),Object(o.b)("picking",{hook:"fs:MY_SHADER_HOOK_fragmentColor",injection:"color = picking_filterColor(color);",order:Number.POSITIVE_INFINITY});var F=function(e){function t(t,r){for(var n=[],i=0;i<N;i++)for(var a=3*(1-N)/2+3*i,o=0;o<N;o++){var u=3*(1-N)/2+3*o;n.push(a,u)}n=new Float32Array(n);for(var c=new Uint8ClampedArray(N*N*2),f=0;f<N;f++)for(var l=0;l<N;l++)c[2*(f*N+l)+0]=f,c[2*(f*N+l)+1]=l;var _=new Float32Array(N*N*3).map(function(){return.75*Math.random()+.25}),A=new s.a(t,n),T=new s.a(t,_),v=new s.a(t,c);return e.call(this,t,Object.assign({},r,{vs:"attribute float instanceSizes;\nattribute vec3 positions;\nattribute vec3 normals;\nattribute vec2 instanceOffsets;\nattribute vec3 instanceColors;\nattribute vec2 instancePickingColors;\n\nuniform mat4 uModel;\nuniform mat4 uView;\nuniform mat4 uProjection;\nuniform float uTime;\n\nvarying vec3 color;\n\nvoid main(void) {\n  vec3 normal = vec3(uModel * vec4(normals, 1.0));\n\n  // Set up data for modules\n  color = instanceColors;\n  project_setNormal(normal);\n  vec4 pickColor = vec4(0., instancePickingColors, 1.0);\n  MY_SHADER_HOOK_pickColor(pickColor);\n\n  // Vertex position (z coordinate undulates with time), and model rotates around center\n  float delta = length(instanceOffsets);\n  vec4 offset = vec4(instanceOffsets, sin((uTime + delta) * 0.1) * 16.0, 0);\n  gl_Position = uProjection * uView * (uModel * vec4(positions * instanceSizes, 1.0) + offset);\n}\n",fs:"precision highp float;\n\nvarying vec3 color;\n\nvoid main(void) {\n  gl_FragColor = vec4(color, 1.);\n  MY_SHADER_HOOK_fragmentColor(gl_FragColor);\n}\n",modules:[d,E.a],isInstanced:1,instanceCount:N*N,geometry:new h.a,attributes:{instanceSizes:new Float32Array([1]),instanceOffsets:[A,{divisor:1}],instanceColors:[T,{divisor:1}],instancePickingColors:[v,{divisor:1}]}}))||this}return O(t,e),t}(A.a),S=function(e){function t(){return e.call(this,{createFramebuffer:!0,debug:!0})||this}O(t,e),t.getInfo=function(){return"\n<p>\nCube drawn with <b>instanced rendering</b>.\n<p>\nA luma.gl <code>Cube</code>, rendering 65,536 instances in a\nsingle GPU draw call using instanced vertex attributes.\n"};var r=t.prototype;return r.onInitialize=function(e){var t=this,r=e.gl,n=e._animationLoop;Object(T.a)(r,{clearColor:[0,0,0,1],clearDepth:1,depthTest:!0,depthFunc:r.LEQUAL}),this.attachTimeline(new p),this.timeline.play();var i=this.timeline.addChannel({rate:.01}),a=this.timeline.addChannel({rate:3e-4}),o=this.timeline.addChannel({rate:4e-4}),s=this.timeline.addChannel({rate:2e-4});this.cube=new F(r,{_animationLoop:n,uniforms:{uTime:function(){return t.timeline.getTime(i)},uProjection:function(e){var t=e.aspect;return(new u.a).perspective({fov:Object(b.e)(60),aspect:t,near:1,far:2048})},uView:function(){return(new u.a).lookAt({center:[0,0,0],eye:[Math.cos(t.timeline.getTime(a))*N/2,Math.sin(t.timeline.getTime(o))*N/2,(Math.sin(t.timeline.getTime(s))+1)*N/4+32]})},uModel:function(e){var t=e.tick;return(new u.a).rotateX(.01*t).rotateY(.013*t)}}})},r.onRender=function(e){var t=e.gl,r=e.framebuffer,n=e.useDevicePixels,i=e._mousePosition;if(i){var a=n&&"undefined"!=typeof window?window.devicePixelRatio:1;!function(e,t,r,n,i){i.clear({color:!0,depth:!0}),n.setUniforms({picking_uActive:1}),n.draw({framebuffer:i}),n.setUniforms({picking_uActive:0});var a=Object(R.b)(i,{sourceX:t,sourceY:r,sourceWidth:1,sourceHeight:1,sourceFormat:e.RGBA,sourceType:e.UNSIGNED_BYTE});a[0]+a[1]+a[2]>0?n.updateModuleSettings({pickingSelectedColor:a}):n.updateModuleSettings({pickingSelectedColor:null})}(t,i[0]*a,t.canvas.height-i[1]*a,this.cube,r)}t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.cube.draw()},r.onFinalize=function(e){e.gl;this.cube.delete()},t}(v.a);"undefined"==typeof window||window.website||(new S).start();r.d(t,"default",function(){return I});var I=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.render=function(){var e=this.props.pageContext,t=e&&e.exampleConfig||{};return i.a.createElement(a.a,{AnimationLoop:S,exampleConfig:t})},n}(i.a.Component)},450:function(e,t,r){"use strict";r(40),r(2);var n=r(356),i=r.n(n),a=(r(357),r(351)),o=(r(10),r(7),r(3),r(4),r(428)),s=function(){function e(){}var t=e.prototype;return t.getViews=function(e){var t=e.width,r=e.height;return[{params:{viewport:[0,0,t,r],scissor:[0,0,t,r],scissorTest:!0}}]},t.submitFrame=function(){return!0},t.requestAnimationFrame=function(e){return!1},t.delete=function(){},t._renderFrame=function(e){var t=this,r=this.getViews(e);if(!r)return!1;var n=this.animationLoop.gl,i=function(){if(s){if(u>=a.length)return"break";c=a[u++]}else{if((u=a.next()).done)return"break";c=u.value}var r=c;Object(o.a)(n,r.params,function(){return t.animationLoop.onRender(Object.assign({},e,r))})},a=r,s=Array.isArray(a),u=0;for(a=s?a:a[Symbol.iterator]();;){var c;if("break"===i())break}return this.submitFrame(),!0},e}();function u(e){var t=e.canvas,r=e.title,n=t.getBoundingClientRect(),i=n.top,a=n.left,o=n.width,s=n.height,u=document.createElement("div");u.style.position="absolute",u.style.top=i+"px",u.style.left=a+"px",u.style.width=o+"px",u.style.height=s+"px",u.style.pointerEvents="none",u.style.zIndex="999",document.body.appendChild(u);var c=document.createElement("button");return c.style.padding="16px",c.style.border="1px solid #fff",c.style.borderRadius="8px",c.style.background="rgba(0,0,0,0.5)",c.style.color="#fff",c.style.font="normal 20px sans-serif",c.style.cursor="pointer",c.style.margin="20px auto",c.style.display="block",c.style.pointerEvents="all",c.textContent=r,u.appendChild(c),c}function c(e,t,r,n,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void r(c)}s.done?t(u):Promise.resolve(u).then(n,i)}r.d(t,"a",function(){return f});var f=function(e){var t,r;function n(t){var r;return(r=e.call(this,t)||this)._vrSupported=n.isSupported(),r._vrSupported&&(r.vrFrameData=new window.VRFrameData,r.vrPresenting=!1,r.vrFrame=!1,window.addEventListener("vrdisplaypresentchange",r._vrDisplayPresentChange.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r)))),r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.isSupported=function(){return"undefined"!=typeof navigator&&"getVRDisplays"in navigator&&"VRFrameData"in window};var o=n.prototype;return o.delete=function(){e.prototype.delete.call(this),this._removeVRButton()},o.getViews=function(t){if(this._vrSupported&&this._addVRButton(),this.vrPresenting&&this.vrFrame){this.vrDisplay.getFrameData(this.vrFrameData);var r=this.vrFrameData,n=r.leftProjectionMatrix,i=r.leftViewMatrix,a=r.rightProjectionMatrix,o=r.rightViewMatrix,s=t.width,u=t.height;return[{displayEye:"left",projectionMatrix:n,viewMatrix:i,params:{viewport:[0,0,.5*s,u],scissor:[0,0,.5*s,u],scissorTest:!0}},{displayEye:"right",projectionMatrix:a,viewMatrix:o,params:{viewport:[.5*s,0,.5*s,u],scissor:[.5*s,0,.5*s,u],scissorTest:!0}}]}return e.prototype.getViews.call(this,t)},o.submitFrame=function(){return!(!this.vrPresenting||!this.vrFrame)&&(this.vrDisplay.submitFrame(),!0)},o.requestAnimationFrame=function(e){var t=this;return!!this.vrPresenting&&(this.vrDisplay.requestAnimationFrame(function(){t.vrFrame=!0,e(),t.vrFrame=!1}),!0)},o._addVRButton=function(){var e,t=(e=i.a.mark(function e(){var t,r,n=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.vrButton){e.next=2;break}return e.abrupt("return");case 2:if(t=this._getCanvas()){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,navigator.getVRDisplays();case 7:(r=e.sent)&&r.length&&(a.a.info(2,"Found VR Displays",r)(),this.vrDisplay=r[0],this.vrButton=u({canvas:t,title:"Enter VR ("+this.vrDisplay.displayName+")"}),this.vrButton.onclick=function(){return n._startDisplay()});case 9:case"end":return e.stop()}},e,this)}),function(){var t=this,r=arguments;return new Promise(function(n,i){var a=e.apply(t,r);function o(e){c(a,n,i,o,s,"next",e)}function s(e){c(a,n,i,o,s,"throw",e)}o(void 0)})});return function(){return t.apply(this,arguments)}}(),o._getCanvas=function(){return this.animationLoop.canvas||this.animationLoop.gl&&this.animationLoop.gl.canvas},o._removeVRButton=function(){this.vrButton},o._startDisplay=function(){this.vrDisplay.requestPresent([{source:this._getCanvas()}])},o._vrDisplayPresentChange=function(){this.vrDisplay.isPresenting?(a.a.info(2,"Entering VR")(),this.vrPresenting=!0,this.vrButton.style.display="none"):(a.a.info(2,"Exiting VR")(),this.vrPresenting=!1,this.vrButton.style.display="block")},n}(s)},451:function(e,t,r){"use strict";r(130),r(306),r(15),r(4),r(374),r(311),r(3),r(5),r(2);var n=r(308),i=r.n(n),a=r(353),o=r(324),s=(r(319),r(317),r(307),r(323)),u=r(433),c=(r(347),null);function f(e,t){var r;return new e((r=e.BYTES_PER_ELEMENT*t,(!c||c.byteLength<r)&&(c=new ArrayBuffer(r)),c),0,t)}var l=r(386),_=r(455);function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var E=function(e){var t,r;function n(t,r){var i;void 0===r&&(r={});var a=r.id||r.program&&r.program.id;return(i=e.call(this,t,Object.assign({},r,{id:a}))||this).hasVertexArrays=n.isSupported(t),i.buffer=null,i.bufferValue=null,i.initialize(r),Object.seal(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(i)),i}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.isSupported=function(e,t){return void 0===t&&(t={}),t.constantAttributeZero?Object(u.d)(e)||"Chrome"===Object(_.a)():Object(u.d)(e)||e.getExtension("OES_vertex_array_object")},n.getDefaultArray=function(e){return e.luma=e.luma||{},e.luma.defaultVertexArray||(e.luma.defaultVertexArray=new n(e,{handle:null})),e.luma.defaultVertexArray},n.getMaxAttributes=function(e){return n.MAX_ATTRIBUTES=n.MAX_ATTRIBUTES||e.getParameter(e.MAX_VERTEX_ATTRIBS),n.MAX_ATTRIBUTES},n.setConstant=function(e,t,r){switch(r.constructor){case Float32Array:n._setConstantFloatArray(e,t,r);break;case Int32Array:n._setConstantIntArray(e,t,r);break;case Uint32Array:n._setConstantUintArray(e,t,r);break;default:Object(l.a)(!1)}};var a,s,c,E=n.prototype;return E.delete=function(){e.prototype.delete.call(this),this.buffer&&this.buffer.delete()},E.initialize=function(e){return void 0===e&&(e={}),this.setProps(e)},E.setProps=function(e){return this},E.setElementBuffer=function(e,t){var r=this;return void 0===e&&(e=null),void 0===t&&(t={}),Object(l.a)(!e||e.target===i.a.ELEMENT_ARRAY_BUFFER,"elements must be GL.ELEMENT_ARRAY_BUFFER"),this.bind(function(){r.gl.bindBuffer(i.a.ELEMENT_ARRAY_BUFFER,e?e.handle:null)}),this},E.setBuffer=function(e,t,r){if(t.target===i.a.ELEMENT_ARRAY_BUFFER)return this.setElementBuffer(t,r);var n=r.size,a=r.type,o=r.stride,s=r.offset,c=r.normalized,f=r.integer,_=r.divisor,d=this.gl;return e=Number(e),this.bind(function(){d.bindBuffer(d.ARRAY_BUFFER,t.handle),f?(Object(l.a)(Object(u.d)(d)),d.vertexAttribIPointer(e,n,a,o,s)):d.vertexAttribPointer(e,n,a,c,o,s),d.enableVertexAttribArray(e),d.vertexAttribDivisor(e,_||0)}),this},E.enable=function(e,t){var r=this;return void 0===t&&(t=!0),!t&&0===e&&!n.isSupported(this.gl,{constantAttributeZero:!0})||(e=Number(e),this.bind(function(){return t?r.gl.enableVertexAttribArray(e):r.gl.disableVertexAttribArray(e)})),this},E.getConstantBuffer=function(e,t,r){var n=this._normalizeConstantArrayValue(t,r),i=n.byteLength*e,a=n.length*e,s=!this.buffer;if(this.buffer=this.buffer||new o.a(this.gl,i),s=(s=s||this.buffer.reallocate(i))||!this._compareConstantArrayValues(n,this.bufferValue)){var u=f(t.constructor,a);!function(e){for(var t=e.target,r=e.source,n=e.start,i=void 0===n?0:n,a=e.count,o=void 0===a?1:a,s=r.length,u=o*s,c=0,f=i;c<s;c++)t[f++]=r[c];for(;c<u;)c<u-c?(t.copyWithin(i+c,i,i+c),c*=2):(t.copyWithin(i+c,i,i+u-c),c=u)}({target:u,source:n,start:0,count:a}),this.buffer.subData(u),this.bufferValue=t}return this.buffer},E._normalizeConstantArrayValue=function(e,t){return Array.isArray(e)?new Float32Array(e):e},E._compareConstantArrayValues=function(e,t){if(!e||!t||e.length!==t.length||e.constructor!==t.constructor)return!1;for(var r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0},n._setConstantFloatArray=function(e,t,r){switch(r.length){case 1:e.vertexAttrib1fv(t,r);break;case 2:e.vertexAttrib2fv(t,r);break;case 3:e.vertexAttrib3fv(t,r);break;case 4:e.vertexAttrib4fv(t,r);break;default:Object(l.a)(!1)}},n._setConstantIntArray=function(e,t,r){switch(Object(l.a)(Object(u.d)(e)),r.length){case 1:e.vertexAttribI1iv(t,r);break;case 2:e.vertexAttribI2iv(t,r);break;case 3:e.vertexAttribI3iv(t,r);break;case 4:e.vertexAttribI4iv(t,r);break;default:Object(l.a)(!1)}},n._setConstantUintArray=function(e,t,r){switch(Object(l.a)(Object(u.d)(e)),r.length){case 1:e.vertexAttribI1uiv(t,r);break;case 2:e.vertexAttribI2uiv(t,r);break;case 3:e.vertexAttribI3uiv(t,r);break;case 4:e.vertexAttribI4uiv(t,r);break;default:Object(l.a)(!1)}},E._createHandle=function(){return this.hasVertexArrays=n.isSupported(this.gl),this.hasVertexArrays?this.gl.createVertexArray():null},E._deleteHandle=function(e){return this.hasVertexArrays&&this.gl.deleteVertexArray(e),[this.elements]},E._bindHandle=function(e){this.hasVertexArrays&&this.gl.bindVertexArray(e)},E._getParameter=function(e,t){var r=this,n=t.location;return Object(l.a)(Number.isFinite(n)),this.bind(function(){switch(e){case i.a.VERTEX_ATTRIB_ARRAY_POINTER:return r.gl.getVertexAttribOffset(n,e);default:return r.gl.getVertexAttrib(n,e)}})},a=n,(s=[{key:"MAX_ATTRIBUTES",get:function(){return n.getMaxAttributes(this.gl)}}])&&d(a.prototype,s),c&&d(a,c),n}(s.a),h=r(436),A=r(351);r.d(t,"a",function(){return R});var T=/^(.+)__LOCATION_([0-9]+)$/,v=["setBuffers","setGeneric","clearBindings","setLocations","setGenericValues","setDivisor","enable","disable"],R=function(){function e(e,t){void 0===t&&(t={});var r=t.id||t.program&&t.program.id;this.id=r,this.gl=e,this.configuration=null,this.elements=null,this.elementsAccessor=null,this.values=null,this.accessors=null,this.unused=null,this.drawParams=null,this.buffer=null,this.vertexArrayObject=E.isSupported(e)?new E(e):E.getDefaultArray(e),Object(h.a)(this,"VertexArray","v6.0",v),this.initialize(t),Object.seal(this)}var t=e.prototype;return t.delete=function(){this.buffer&&this.buffer.delete()},t.initialize=function(e){return void 0===e&&(e={}),this.reset(),this.configuration=null,this.bindOnUse=!1,this.setProps(e)},t.reset=function(){this.elements=null,this.elementsAccessor=null;var e=this.vertexArrayObject.MAX_ATTRIBUTES;return this.values=new Array(e).fill(null),this.accessors=new Array(e).fill(null),this.unused={},this.drawParams=null,this},t.setProps=function(e){return"program"in e&&(this.configuration=e.program&&e.program.configuration),"configuration"in e&&(this.configuration=e.configuration),"attributes"in e&&this.setAttributes(e.attributes),"elements"in e&&this.setElementBuffer(e.elements),"bindOnUse"in e&&(e=e.bindOnUse),this},t.clearDrawParams=function(){this.drawParams=null},t.getDrawParams=function(e){return this.drawParams=this.drawParams||this._updateDrawParams(),Object.assign({},this.drawParams,e)},t.setAttributes=function(e){var t=this;return this.vertexArrayObject.bind(function(){for(var r in e){var n=e[r];t._setAttribute(r,n)}t.gl.bindBuffer(i.a.ARRAY_BUFFER,null)}),this},t.setElementBuffer=function(e,t){return void 0===e&&(e=null),void 0===t&&(t={}),this.elements=e,this.elementsAccessor=t,this.clearDrawParams(),this.vertexArrayObject.isDefaultArray||this.vertexArrayObject.setElementBuffer(e,t),this},t.setBuffer=function(e,t,r){if(void 0===r&&(r={}),t.target===i.a.ELEMENT_ARRAY_BUFFER)return this.setElementBuffer(t,r);var n=this._resolveLocationAndAccessor(e,t,t.accessor,r),a=n.location,o=n.accessor;return a>=0&&(this.values[a]=t,this.accessors[a]=o,this.clearDrawParams(),this.vertexArrayObject.isDefaultArray||this.vertexArrayObject.setBuffer(a,t,o)),this},t.setConstant=function(e,t,r){void 0===r&&(r={});var n=this._resolveLocationAndAccessor(e,t,Object.assign({size:t.length},r)),i=n.location,a=n.accessor;return i>=0&&(t=this.vertexArrayObject._normalizeConstantArrayValue(t,a),this.values[i]=t,this.accessors[i]=a,this.clearDrawParams(),this.vertexArrayObject.isDefaultArray||this.vertexArrayObject.enable(i,!1)),this},t.unbindBuffers=function(){var e=this;return this.vertexArrayObject.bind(function(){e.elements&&e.setElementBuffer(null),e.buffer=e.buffer||new o.a(e.gl,{accessor:{size:4}});for(var t=0;t<e.vertexArrayObject.MAX_ATTRIBUTES;t++)e.values[t]instanceof o.a&&(e.gl.disableVertexAttribArray(t),e.gl.bindBuffer(i.a.ARRAY_BUFFER,e.buffer.handle),e.gl.vertexAttribPointer(t,1,i.a.FLOAT,!1,0,0))}),this},t.bindBuffers=function(){var e=this;return this.vertexArrayObject.bind(function(){e.elements&&e.setElementBuffer(e.elements);for(var t=0;t<e.vertexArrayObject.MAX_ATTRIBUTES;t++){var r=e.values[t];r instanceof o.a&&e.setBuffer(t,r)}}),this},t.bindForDraw=function(e,t,r){var n,i=this;return this.vertexArrayObject.bind(function(){i._setConstantAttributes(e,t),i.vertexArrayObject.hasVertexArrays||i.bindBuffers(),n=r(),i.vertexArrayObject.hasVertexArrays||i.unbindBuffers()}),n},t._resolveLocationAndAccessor=function(e,t,r,n){var i=this,o=this._getAttributeIndex(e),s=o.location,u=o.name;if(!Number.isFinite(s)||s<0)return this.unused[e]=t,A.a.once(3,function(){return"unused value "+e+" in "+i.id})(),this;var c=this._getAttributeInfo(u||s);if(!c)return{location:-1,accessor:null};var f=a.a.resolve(c.accessor,r,n),_=f.size,d=f.type;return Object(l.a)(Number.isFinite(_)&&Number.isFinite(d)),{location:s,accessor:f}},t._getAttributeInfo=function(e){return this.configuration&&this.configuration.getAttributeInfo(e)},t._getAttributeIndex=function(e){var t=Number(e);if(Number.isFinite(t))return{location:t};var r=T.exec(e),n=r?r[1]:e,i=r?Number(r[2]):0;return this.configuration?{location:this.configuration.getAttributeLocation(n)+i,name:n}:{location:-1}},t._setAttribute=function(e,t){if(t instanceof o.a)this.setBuffer(e,t);else if(Array.isArray(t)&&t.length&&t[0]instanceof o.a){var r=t[0],n=t[1];this.setBuffer(e,r,n)}else if(ArrayBuffer.isView(t)||Array.isArray(t)){var i=t;this.setConstant(e,i)}else{if(!(t.buffer instanceof o.a))throw new Error("VertexArray: attributes must be Buffers or constants (i.e. typed array)");var a=t;this.setBuffer(e,a.buffer,a)}},t._setConstantAttributes=function(e,t){var r=Math.max(0|e,0|t),n=this.values[0];ArrayBuffer.isView(n)&&this._setConstantAttributeZero(n,r);for(var i=1;i<this.vertexArrayObject.MAX_ATTRIBUTES;i++)n=this.values[i],ArrayBuffer.isView(n)&&this._setConstantAttribute(i,n)},t._setConstantAttributeZero=function(e,t){if(E.isSupported(this.gl,{constantAttributeZero:!0}))this._setConstantAttribute(0,e);else{var r=this.vertexArrayObject.getConstantBuffer(t,e);this.vertexArrayObject.setBuffer(0,r,this.accessors[0])}},t._setConstantAttribute=function(e,t){E.setConstant(this.gl,e,t),this.vertexArrayObject.isDefault&&this.vertexArrayObject.enable(e,!1)},t._updateDrawParams=function(){for(var e={isIndexed:!1,isInstanced:!1,indexCount:1/0,vertexCount:1/0,instanceCount:1/0},t=0;t<this.vertexArrayObject.MAX_ATTRIBUTES;t++)this._updateDrawParamsForLocation(e,t);return this.elements&&(e.elementCount=this.elements.getElementCount(this.elements.accessor),e.isIndexed=!0,e.indexType=this.elementsAccessor.type||this.elements.accessor.type,e.indexOffset=this.elementsAccessor.offset||0),e.indexCount===1/0&&(e.indexCount=0),e.vertexCount===1/0&&(e.vertexCount=0),e.instanceCount===1/0&&(e.instanceCount=0),e},t._updateDrawParamsForLocation=function(e,t){var r=this.values[t],n=this.accessors[t];if(r){var i=n.divisor>0;if(e.isInstanced=e.isInstanced||i,r instanceof o.a){var a=r;if(i){var s=a.getVertexCount(n);e.instanceCount=Math.min(e.instanceCount,s)}else{var u=a.getVertexCount(n);e.vertexCount=Math.min(e.vertexCount,u)}}}},t.setElements=function(e,t){return void 0===e&&(e=null),void 0===t&&(t={}),A.a.deprecated("setElements","setElementBuffer")(),this.setElementBuffer(e,t)},e}()}}]);
//# sourceMappingURL=component---templates-index-jsx-c645fadb2df47c7ae5ed.js.map