(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{303:function(t,e,i){"use strict";i.r(e);var n=i(0),r=i.n(n),o=i(318),a=(i(4),i(312),i(307),i(130),i(308)),s=i.n(a),u=i(398),l=i(385),c=i(368),d=i(348),p=i(314),h=i(446),v=i(457),f=i(366);var g={uMaterialShininess:20,uShowSpecularHighlights:!0,uUseLighting:!0,uUseTextures:!0},m={uAmbientColor:[.2,.2,.2],uPointLightingLocation:[-10,4,-20],uPointLightingSpecularColor:[.8,.8,.8],uPointLightingDiffuseColor:[.8,.8,.8]},y=function(t){var e,i;function n(){return t.apply(this,arguments)||this}i=t,(e=n).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i,n.getInfo=function(){return'\n<p>\n  <a href="http://learningwebgl.com/blog/?p=1658" target="_blank">\n    Specular highlights and loading a JSON model\n  </a>\n<p>\n  The classic WebGL Lessons in luma.gl\n\n<div id="control-elements">\n  <input type="checkbox" id="specular" checked/> Show specular highlight<br/>\n  <input type="checkbox" id="lighting" checked/> Use lighting<br/>\n  Texture:\n  <select id="texture">\n    <option value="none">None</option>\n    <option selected value="galvanized">Galvanized</option>\n    <option value="earth">Earth</option>\n  </select>\n\n  <br/>\n  <h2>Material:</h2>\n  <div class="control-block">\n    <div class="control-row">\n      <div><b>Shininess:</b></div>\n      <input id="shininess" type="range" value="32.0" min="0.0" max="100.0" step="1"/>\n    </div>\n  </div>\n\n  <h2>Point light:</h2>\n  <div class="control-block">\n    <div class="control-row">\n      <div><b>Location:</b></div>\n      <div>X: <input type="text" id="lightPositionX" value="-10.0"/></div>\n      <div>Y: <input type="text" id="lightPositionY" value="4.0"/></div>\n      <div>Z: <input type="text" id="lightPositionZ" value="-20.0"/></div>\n    </div>\n    <div class="control-row">\n      <div><b>Specular colour:</b></div>\n      <div>R:\n        <input id="specularR" type="range" value="0.8" min="0.0" max="1.0" step="0.01"/>\n      </div>\n      <div>G:\n        <input id="specularG" type="range" value="0.8" min="0.0" max="1.0" step="0.01"/>\n      </div>\n      <div>B:\n        <input id="specularB" type="range" value="0.8" min="0.0" max="1.0" step="0.01"/>\n      </div>\n    </div>\n    <div class="control-row">\n      <div><b>Diffuse colour:</b></div>\n      <div>R:\n        <input id="diffuseR" type="range" value="0.8" min="0.0" max="1.0" step="0.01"/>\n      </div>\n      <div>G:\n        <input id="diffuseG" type="range" value="0.8" min="0.0" max="1.0" step="0.01"/>\n      </div>\n      <div>B:\n        <input id="diffuseB" type="range" value="0.8" min="0.0" max="1.0" step="0.01"/>\n      </div>\n    </div>\n  </div>\n\n  <h2>Ambient light:</h2>\n  <div class="control-block">\n    <div class="control-row">\n      <div><b>Colour:</b></div>\n        <div>R:\n          <input id="ambientR" type="range" value="0.2" min="0.0" max="1.0" step="0.01"/>\n        </div>\n        <div>G:\n          <input id="ambientG" type="range" value="0.2" min="0.0" max="1.0" step="0.01"/>\n        </div>\n        <div>B:\n          <input id="ambientB" type="range" value="0.2" min="0.0" max="1.0" step="0.01"/>\n        </div>\n      </div>\n  </div>\n\n  <br/>\n  Galvanized texture courtesy of\n  <a href="http://www.arroway-textures.com/">Arroway Textures</a>.<br/>\n  Earth texture courtesy of\n  <a href="http://www.esa.int/esaEO/SEMGSY2IU7E_index_0.html">\n    the European Space Agency/Envisat\n  </a>.<br/>\n\n  <br/>\n  The classic WebGL Lessons in luma.gl\n\n </div>\n'};var r=n.prototype;return r.onInitialize=function(t){var e,i=t.gl;return Object(u.a)(i,((e={clearColor:[0,0,0,1],clearDepth:1,depthTest:!0})[s.a.UNPACK_FLIP_Y_WEBGL]=!0,e)),Object(l.a)("Teapot.json").then(function(t){var e,n,r=JSON.parse(t),o=new c.a(i,{data:"arroway.de_metal+structure+06_d100_flat.jpg",parameters:(e={},e[i.TEXTURE_MAG_FILTER]=i.LINEAR,e[i.TEXTURE_MIN_FILTER]=i.LINEAR_MIPMAP_NEAREST,e[i.TEXTURE_WRAP_S]=i.REPEAT,e[i.TEXTURE_WRAP_T]=i.REPEAT,e),mipmap:!0}),a=new c.a(i,{urls:"earth.jpg",parameters:(n={},n[i.TEXTURE_MAG_FILTER]=i.LINEAR,n[i.TEXTURE_MIN_FILTER]=i.LINEAR_MIPMAP_NEAREST,n[i.TEXTURE_WRAP_S]=i.REPEAT,n[i.TEXTURE_WRAP_T]=i.REPEAT,n),mipmap:!0});return{teapot:new d.a(i,{id:"teapot-model",fs:"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vTransformedNormal;\nvarying vec4 vPosition;\n\nuniform float uMaterialShininess;\nuniform bool uShowSpecularHighlights;\nuniform bool uUseLighting;\nuniform bool uUseTextures;\nuniform vec3 uAmbientColor;\nuniform vec3 uPointLightingLocation;\nuniform vec3 uPointLightingSpecularColor;\nuniform vec3 uPointLightingDiffuseColor;\nuniform sampler2D uSampler;\n\nvoid main(void) {\n    vec3 lightWeighting;\n    if (!uUseLighting) {\n        lightWeighting = vec3(1.0, 1.0, 1.0);\n    } else {\n        vec3 lightDirection = normalize(uPointLightingLocation - vPosition.xyz);\n        vec3 normal = normalize(vTransformedNormal.xyz);\n        float specularLightWeighting = 0.0;\n        if (uShowSpecularHighlights) {\n            vec3 eyeDirection = normalize(-vPosition.xyz);\n            vec3 reflectionDirection = reflect(-lightDirection, normal);\n            specularLightWeighting =\n              pow(max(dot(reflectionDirection, eyeDirection), 0.0), uMaterialShininess);\n        }\n        float diffuseLightWeighting = max(dot(normal, lightDirection), 0.0);\n        lightWeighting = uAmbientColor\n            + uPointLightingSpecularColor * specularLightWeighting\n            + uPointLightingDiffuseColor * diffuseLightWeighting;\n    }\n    vec4 fragmentColor;\n    if (uUseTextures) {\n        fragmentColor = texture2D(uSampler, vec2(vTextureCoord.s, vTextureCoord.t));\n    } else {\n        fragmentColor = vec4(1.0, 1.0, 1.0, 1.0);\n    }\n    gl_FragColor = vec4(fragmentColor.rgb * lightWeighting, fragmentColor.a);\n}\n",vs:"precision highp float;\n\nattribute vec3 positions;\nattribute vec3 normals;\nattribute vec2 texCoords;\n\nuniform mat4 uMMatrix;\nuniform mat4 uVMatrix;\nuniform mat4 uPMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vTransformedNormal;\nvarying vec4 vPosition;\n\nvoid main(void) {\n  vPosition = uMMatrix * vec4(positions, 1.0);\n  gl_Position = uPMatrix * uVMatrix * vPosition;\n  vTextureCoord = texCoords;\n  vTransformedNormal = uMMatrix * vec4(normals, 0.0);\n}\n",geometry:new p.a({id:"teapot-geometry",attributes:{positions:new Float32Array(r.positions),normals:new Float32Array(r.normals),texCoords:new Float32Array(r.texCoords),indices:new Uint16Array(r.indices)},drawMode:s.a.TRIANGLES}),uniforms:Object.assign({uSampler:o},g,m)}),earthTexture:a,galvanizedTexture:o}})},r.onRender=function(t){var e=t.gl,i=t.tick,n=t.aspect,r=t.teapot,o=t.earthTexture,a=t.galvanizedTexture;e.clear(s.a.COLOR_BUFFER_BIT|s.a.DEPTH_BUFFER_BIT);var u=(new v.a).rotateX(Object(f.e)(-30)).transformVector3([0,0,5]),l=(new v.a).lookAt({eye:u,center:[0,0,0],up:[0,1,0]}),c=function(){var t=function(t){return document.getElementById(t)},e=function(e,i){return void 0===i&&(i=1),t(e)?Number(t(e).value):i},i=function(e){return!t(e)||t(e).checked},n=i("specular"),r=i("lighting"),o="none"!==e("texture","none"),a=e("shininess"),s=[e("lightPositionX",-10),e("lightPositionY",4),e("lightPositionZ",-20)],u=[e("specularR",.8),e("specularG",.8),e("specularB",.8)],l=[e("diffuseR",.8),e("diffuseG",.8),e("diffuseB",.8)],c=[e("ambientR",.2),e("ambientG",.2),e("ambientB",.2)];return{useLighting:r,useSpecular:n,useTextures:o,shininess:a,texture:e("texture"),ambientColor:c,pointLightPosition:s,pointLightSpecularColor:u,pointLightDiffuseColor:l}}(),d=c.useLighting,p=c.useSpecular,h=c.useTextures,g=c.texture,m=c.shininess,y=c.ambientColor,b=c.pointLightPosition,_=c.pointLightSpecularColor,E=c.pointLightDiffuseColor;if(r.setUniforms({uUseLighting:d,uUseTextures:h,uShowSpecularHighlights:p,uMaterialShininess:m}),d&&r.setUniforms({uAmbientColor:y,uPointLightingLocation:b,uPointLightingSpecularColor:_,uPointLightingDiffuseColor:E}),h){var w=g;r.setUniforms({uSampler:"earth"===w?o:a})}var x=.01*i;return r.setUniforms({uMMatrix:(new v.a).translate([0,-35,-68]).rotateY(x),uVMatrix:l,uPMatrix:(new v.a).perspective({fov:45*Math.PI/180,aspect:n,near:.1,far:100})}).draw()},n}(h.a);"undefined"==typeof window||window.website||(new y).start();i.d(e,"default",function(){return b});var b=function(t){var e,i;function n(){return t.apply(this,arguments)||this}return i=t,(e=n).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i,n.prototype.render=function(){return r.a.createElement(o.a,{AnimationLoop:y,exampleConfig:this.props.pageContext.exampleConfig})},n}(r.a.Component)},314:function(t,e,i){"use strict";i.d(e,"a",function(){return u});i(130),i(306),i(4);var n=i(434),r=i(386);function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,i){return e&&o(t.prototype,e),i&&o(t,i),t}var s={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},u=function(){function t(t){void 0===t&&(t={});var e=t,i=e.id,r=void 0===i?Object(n.c)("geometry"):i,o=e.drawMode,a=void 0===o?s.TRIANGLES:o,u=e.attributes,l=void 0===u?{}:u,c=e.indices,d=void 0===c?null:c,p=e.vertexCount,h=void 0===p?null:p;this.id=r,this.drawMode=0|a,this.attributes={},this.userData={},this._setAttributes(l,d),this.vertexCount=h||this._calculateVertexCount(this.attributes,this.indices)}a(t,null,[{key:"DRAW_MODE",get:function(){return s}}]);var e=t.prototype;return e.getVertexCount=function(){return this.vertexCount},e.getAttributes=function(){return this.indices?Object.assign({indices:this.indices},this.attributes):this.attributes},e._print=function(t){return"Geometry "+this.id+" attribute "+t},e._setAttributes=function(t,e){for(var i in e&&(this.indices=ArrayBuffer.isView(e)?{value:e,size:1}:e),t){var n=t[i];n=ArrayBuffer.isView(n)?{value:n}:n,Object(r.a)(ArrayBuffer.isView(n.value),this._print(i)+": must be typed array or object with value as typed array"),"POSITION"!==i&&"positions"!==i||n.size||(n.size=3),"indices"===i?(Object(r.a)(!this.indices),this.indices=n):this.attributes[i]=n}return this.indices&&void 0!==this.indices.isIndexed&&(this.indices=Object.assign({},this.indices),delete this.indices.isIndexed),this},e._calculateVertexCount=function(t,e){if(e)return e.value.length;var i=1/0;for(var n in t){var o=t[n],a=o.value,s=o.size;!o.constant&&a&&s>=1&&(i=Math.min(i,a.length/s))}return Object(r.a)(Number.isFinite(i)),i},a(t,[{key:"mode",get:function(){return this.drawMode}}]),t}()},320:function(t,e,i){"use strict";i(27),i(17),i(98),i(39),i(55),i(131),i(132),i(74),i(3),i(5),i(2),i(73),i(96),i(10),i(7),i(1),Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r="undefined"!=typeof window&&window.addEventListener,o=new Map,a=function(){return r&&window.__SEER_INITIALIZED__},s=function(t,e){var i=o.get(t),n=Date.now();return!!(i&&n-i<e)||(o.set(t,n),!1)},u=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r&&a()){var i=new Set,o=JSON.stringify(e,function(t){return function(e,i){if(!i||"object"!==(void 0===i?"undefined":n(i))||!t.has(i))return t.add(i),Object.prototype.toString.call(i).slice(8,-1).includes("Array")?Array.prototype.slice.call(i,0,20):i}}(i));try{window.postMessage({type:t,payload:o,source:"seer-agent"},"*")}catch(u){if(s("seer-log",2e3))return;console.log(u)}}},l=new Map,c=function(t){if(t&&t.data&&"seer-core"===t.data.source){var e=t.data,i=e.type,n=e.payload,r=l.get(i);r&&r.forEach(function(t){return t(n)})}},d=function(){r&&!window.__SEER_LISTENER__&&(window.addEventListener("message",c),window.__SEER_LISTENER__=!0)};e.default={send:u,throttle:s,isReady:a,list:function(t,e){return u("LIST",{key:t,data:e})},listItem:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return u("LIST_ITEM",{key:t,itemKey:e,data:i})},updateItem:function(t,e,i,n){return u("UPDATE_ITEM",{key:t,itemKey:e,path:i,data:n})},multiUpdate:function(t,e,i){return u("MULTI_UPDATE_ITEM",{key:t,itemKey:e,array:i})},deleteItem:function(t,e){return u("DELETE_ITEM",{key:t,itemKey:e})},addLog:function(t,e,i){return u("ADD_LOG",{key:t,itemKey:e,msg:i})},listeners:l,listenFor:function(t,e){if(r){if(!t||!e)throw new Error("Please provide a type and callback");l.has(t)||l.set(t,[]),window.__SEER_LISTENER__||d(),l.get(t).push(e)}},removeListener:function(t){l.forEach(function(e,i){l.set(i,e.filter(function(e){return e!==t}))})},init:d,clean:function(){r&&window.__SEER_LISTENER__&&(window.removeEventListener("message",c),delete window.__SEER_LISTENER__)}}},348:function(t,e,i){"use strict";var n=i(330),r=(i(4),i(39),i(2),i(15),i(437)),o=i(457),a=i(434),s=i(386),u=function(){function t(t){void 0===t&&(t={});var e=t.id;this.id=e||Object(a.c)(this.constructor.name),this.display=!0,this.position=new r.a,this.rotation=new r.a,this.scale=new r.a(1,1,1),this.matrix=new o.a,this.userData={},this.props={},this._setScenegraphNodeProps(t)}var e=t.prototype;return e.delete=function(){},e.setProps=function(t){return this._setScenegraphNodeProps(t),this},e.toString=function(){return"{type: ScenegraphNode, id: "+this.id+")}"},e.setPosition=function(t){return Object(s.a)(3===t.length,"setPosition requires vector argument"),this.position=t,this},e.setRotation=function(t){return Object(s.a)(3===t.length,"setRotation requires vector argument"),this.rotation=t,this},e.setScale=function(t){return Object(s.a)(3===t.length,"setScale requires vector argument"),this.scale=t,this},e.setMatrix=function(t,e){void 0===e&&(e=!0),e?this.matrix.copy(t):this.matrix=t},e.setMatrixComponents=function(t){var e=t.position,i=t.rotation,n=t.scale,r=t.update,o=void 0===r||r;return e&&this.setPosition(e),i&&this.setRotation(i),n&&this.setScale(n),o&&this.updateMatrix(),this},e.updateMatrix=function(){var t=this.position,e=this.rotation,i=this.scale;return this.matrix.identity(),this.matrix.translate(t),this.matrix.rotateXYZ(e),this.matrix.scale(i),this},e.update=function(t){var e=void 0===t?{}:t,i=e.position,n=e.rotation,r=e.scale;return i&&this.setPosition(i),n&&this.setRotation(n),r&&this.setScale(r),this.updateMatrix(),this},e.getCoordinateUniforms=function(t,e){Object(s.a)(t),e=e||this.matrix;var i=new o.a(t).multiplyRight(e),n=i.invert(),r=n.transpose();return{viewMatrix:t,modelMatrix:e,objectMatrix:e,worldMatrix:i,worldInverseMatrix:n,worldInverseTransposeMatrix:r}},e._setScenegraphNodeProps=function(t){"display"in t&&(this.display=t.display),"position"in t&&this.setPosition(t.position),"rotation"in t&&this.setRotation(t.rotation),"scale"in t&&this.setScale(t.scale),"matrix"in t&&this.setMatrix(t.matrix),Object.assign(this.props,t)},t}();i.d(e,"a",function(){return l});var l=function(t){var e,i;function r(e,i){var r;return void 0===i&&(i={}),(r=t.call(this,i)||this).onBeforeRender=null,r.AfterRender=null,e instanceof n.a?(r.model=e,r._setModelNodeProps(i)):r.model=new n.a(e,i),r.managedResources=i.managedResources||[],r}i=t,(e=r).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i;var o=r.prototype;return o.setProps=function(e){return t.prototype.setProps.call(this,e),this._setModelNodeProps(e),this},o.delete=function(){this.model&&(this.model.delete(),this.model=null),this.managedResources.forEach(function(t){return t.delete()}),this.managedResources=[]},o.draw=function(){var t;return(t=this.model).draw.apply(t,arguments)},o.setUniforms=function(){var t;return(t=this.model).setUniforms.apply(t,arguments),this},o.setAttributes=function(){var t;return(t=this.model).setAttributes.apply(t,arguments),this},o.updateModuleSettings=function(){var t;return(t=this.model).updateModuleSettings.apply(t,arguments),this},o._setModelNodeProps=function(t){this.model.setProps(t)},r}(u)}}]);
//# sourceMappingURL=component---templates-lessons-example-14-jsx-b08ab3c05ca5ef19ca3b.js.map