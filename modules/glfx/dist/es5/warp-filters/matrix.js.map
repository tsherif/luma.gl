{"version":3,"sources":["../../../src/warp-filters/matrix.js"],"names":["getSquareToQuad","x0","y0","x1","y1","x2","y2","x3","y3","dx1","dy1","dx2","dy2","dx3","dy3","det","a","b","getInverse","m","c","d","e","f","g","h","i","multiply"],"mappings":"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","sourcesContent":["/* eslint-disable */\n// from javax.media.jai.PerspectiveTransform\n\nexport function getSquareToQuad(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var dx1 = x1 - x2;\n  var dy1 = y1 - y2;\n  var dx2 = x3 - x2;\n  var dy2 = y3 - y2;\n  var dx3 = x0 - x1 + x2 - x3;\n  var dy3 = y0 - y1 + y2 - y3;\n  var det = dx1 * dy2 - dx2 * dy1;\n  var a = (dx3 * dy2 - dx2 * dy3) / det;\n  var b = (dx1 * dy3 - dx3 * dy1) / det;\n  return [x1 - x0 + a * x1, y1 - y0 + a * y1, a, x3 - x0 + b * x3, y3 - y0 + b * y3, b, x0, y0, 1];\n}\n\nexport function getInverse(m) {\n  var a = m[0],\n    b = m[1],\n    c = m[2];\n  var d = m[3],\n    e = m[4],\n    f = m[5];\n  var g = m[6],\n    h = m[7],\n    i = m[8];\n  var det = a * e * i - a * f * h - b * d * i + b * f * g + c * d * h - c * e * g;\n  return [\n    (e * i - f * h) / det,\n    (c * h - b * i) / det,\n    (b * f - c * e) / det,\n    (f * g - d * i) / det,\n    (a * i - c * g) / det,\n    (c * d - a * f) / det,\n    (d * h - e * g) / det,\n    (b * g - a * h) / det,\n    (a * e - b * d) / det\n  ];\n}\n\nexport function multiply(a, b) {\n  return [\n    a[0] * b[0] + a[1] * b[3] + a[2] * b[6],\n    a[0] * b[1] + a[1] * b[4] + a[2] * b[7],\n    a[0] * b[2] + a[1] * b[5] + a[2] * b[8],\n    a[3] * b[0] + a[4] * b[3] + a[5] * b[6],\n    a[3] * b[1] + a[4] * b[4] + a[5] * b[7],\n    a[3] * b[2] + a[4] * b[5] + a[5] * b[8],\n    a[6] * b[0] + a[7] * b[3] + a[8] * b[6],\n    a[6] * b[1] + a[7] * b[4] + a[8] * b[7],\n    a[6] * b[2] + a[7] * b[5] + a[8] * b[8]\n  ];\n}\n"],"file":"matrix.js"}