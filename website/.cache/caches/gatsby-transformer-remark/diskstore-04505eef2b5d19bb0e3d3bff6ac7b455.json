{"expireTime":9007200809748944000,"key":"transformer-remark-markdown-html-ast-475fe1da8c4897ba035aa60b72519453-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-autolink-headers-","val":{"type":"root","children":[{"type":"element","tagName":"h1","properties":{"id":"animationloop"},"children":[{"type":"element","tagName":"a","properties":{"href":"#animationloop","aria-hidden":true,"class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"AnimationLoop","position":{"start":{"line":1,"column":3,"offset":2},"end":{"line":1,"column":16,"offset":15}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":1,"column":16,"offset":15}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Manages an animation loop and optionally a WebGL context and a WebGL canvas. It provides a number of features related to initialization and animation of a WebGL context.","position":{"start":{"line":3,"column":1,"offset":17},"end":{"line":3,"column":170,"offset":186}}}],"position":{"start":{"line":3,"column":1,"offset":17},"end":{"line":3,"column":170,"offset":186}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Provides a number of commonly needed variables as part of the ","position":{"start":{"line":5,"column":3,"offset":190},"end":{"line":5,"column":65,"offset":252}}},{"type":"raw","value":"<code class=\"language-text\">context</code>","position":{"start":{"line":5,"column":65,"offset":252},"end":{"line":5,"column":74,"offset":261}}},{"type":"text","value":" object which is passed to ","position":{"start":{"line":5,"column":74,"offset":261},"end":{"line":5,"column":101,"offset":288}}},{"type":"raw","value":"<code class=\"language-text\">onRender</code>","position":{"start":{"line":5,"column":101,"offset":288},"end":{"line":5,"column":111,"offset":298}}},{"type":"text","value":" and ","position":{"start":{"line":5,"column":111,"offset":298},"end":{"line":5,"column":116,"offset":303}}},{"type":"raw","value":"<code class=\"language-text\">onFinalize</code>","position":{"start":{"line":5,"column":116,"offset":303},"end":{"line":5,"column":128,"offset":315}}},{"type":"text","value":" callbacks.","position":{"start":{"line":5,"column":128,"offset":315},"end":{"line":5,"column":139,"offset":326}}}],"position":{"start":{"line":5,"column":1,"offset":188},"end":{"line":5,"column":139,"offset":326}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Objects returned by ","position":{"start":{"line":6,"column":3,"offset":329},"end":{"line":6,"column":23,"offset":349}}},{"type":"raw","value":"<code class=\"language-text\">onInitialize</code>","position":{"start":{"line":6,"column":23,"offset":349},"end":{"line":6,"column":37,"offset":363}}},{"type":"text","value":" will be appended to ","position":{"start":{"line":6,"column":37,"offset":363},"end":{"line":6,"column":58,"offset":384}}},{"type":"raw","value":"<code class=\"language-text\">context</code>","position":{"start":{"line":6,"column":58,"offset":384},"end":{"line":6,"column":67,"offset":393}}},{"type":"text","value":" object hence available to ","position":{"start":{"line":6,"column":67,"offset":393},"end":{"line":6,"column":94,"offset":420}}},{"type":"raw","value":"<code class=\"language-text\">onRender</code>","position":{"start":{"line":6,"column":94,"offset":420},"end":{"line":6,"column":104,"offset":430}}},{"type":"text","value":" and ","position":{"start":{"line":6,"column":104,"offset":430},"end":{"line":6,"column":109,"offset":435}}},{"type":"raw","value":"<code class=\"language-text\">onFinalize</code>","position":{"start":{"line":6,"column":109,"offset":435},"end":{"line":6,"column":121,"offset":447}}},{"type":"text","value":".","position":{"start":{"line":6,"column":121,"offset":447},"end":{"line":6,"column":122,"offset":448}}}],"position":{"start":{"line":6,"column":1,"offset":327},"end":{"line":6,"column":122,"offset":448}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"To avoid problems with page load timing, move context creation to the ","position":{"start":{"line":7,"column":3,"offset":451},"end":{"line":7,"column":73,"offset":521}}},{"type":"raw","value":"<code class=\"language-text\">onCreateContext</code>","position":{"start":{"line":7,"column":73,"offset":521},"end":{"line":7,"column":90,"offset":538}}},{"type":"text","value":" method.","position":{"start":{"line":7,"column":90,"offset":538},"end":{"line":7,"column":98,"offset":546}}}],"position":{"start":{"line":7,"column":1,"offset":449},"end":{"line":7,"column":98,"offset":546}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"By default, ","position":{"start":{"line":8,"column":3,"offset":549},"end":{"line":8,"column":15,"offset":561}}},{"type":"raw","value":"<code class=\"language-text\">onRender</code>","position":{"start":{"line":8,"column":15,"offset":561},"end":{"line":8,"column":25,"offset":571}}},{"type":"text","value":" method manages resizing of canvas, viewport and framebuffer.","position":{"start":{"line":8,"column":25,"offset":571},"end":{"line":8,"column":86,"offset":632}}}],"position":{"start":{"line":8,"column":1,"offset":547},"end":{"line":8,"column":86,"offset":632}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Makes it easy to wait for the HTML page to load before creating a canvas and WebGL resources.","position":{"start":{"line":9,"column":3,"offset":635},"end":{"line":9,"column":96,"offset":728}}}],"position":{"start":{"line":9,"column":1,"offset":633},"end":{"line":9,"column":96,"offset":728}}},{"type":"text","value":"\n"}],"position":{"start":{"line":5,"column":1,"offset":188},"end":{"line":9,"column":96,"offset":728}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"References:","position":{"start":{"line":11,"column":1,"offset":730},"end":{"line":11,"column":12,"offset":741}}}],"position":{"start":{"line":11,"column":1,"offset":730},"end":{"line":11,"column":12,"offset":741}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://webglfundamentals.org/webgl/lessons/webgl-anti-patterns.html#drawingbuffer"},"children":[{"type":"text","value":"WebGL Fundamentals","position":{"start":{"line":13,"column":4,"offset":746},"end":{"line":13,"column":22,"offset":764}}}],"position":{"start":{"line":13,"column":3,"offset":745},"end":{"line":13,"column":107,"offset":849}}},{"type":"text","value":" contains excellent information on the subtleties of the how the WebGL context's drawing buffer and the HTML canvas interact.","position":{"start":{"line":13,"column":107,"offset":849},"end":{"line":13,"column":232,"offset":974}}}],"position":{"start":{"line":13,"column":1,"offset":743},"end":{"line":13,"column":232,"offset":974}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"When running in the browser, this class uses ","position":{"start":{"line":14,"column":3,"offset":977},"end":{"line":14,"column":48,"offset":1022}}},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/API/window/requestAnimationFrame"},"children":[{"type":"raw","value":"<code class=\"language-text\">requestAnimationFrame</code>","position":{"start":{"line":14,"column":49,"offset":1023},"end":{"line":14,"column":72,"offset":1046}}}],"position":{"start":{"line":14,"column":48,"offset":1022},"end":{"line":14,"column":152,"offset":1126}}}],"position":{"start":{"line":14,"column":1,"offset":975},"end":{"line":14,"column":152,"offset":1126}}},{"type":"text","value":"\n"}],"position":{"start":{"line":13,"column":1,"offset":743},"end":{"line":14,"column":152,"offset":1126}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"usage"},"children":[{"type":"element","tagName":"a","properties":{"href":"#usage","aria-hidden":true,"class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"Usage","position":{"start":{"line":17,"column":4,"offset":1132},"end":{"line":17,"column":9,"offset":1137}}}],"position":{"start":{"line":17,"column":1,"offset":1129},"end":{"line":17,"column":9,"offset":1137}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Autocreates a canvas/context","position":{"start":{"line":19,"column":1,"offset":1139},"end":{"line":19,"column":29,"offset":1167}}}],"position":{"start":{"line":19,"column":1,"offset":1139},"end":{"line":19,"column":29,"offset":1167}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span>AnimationLoop<span class=\"token punctuation\">,</span> ClipSpace<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@luma.gl/core'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> animationLoop <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">AnimationLoop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token function\">onInitialize</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span>gl<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// Keys in the object returned here will be available in onRender</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n      clipSpaceQuad<span class=\"token punctuation\">:</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ClipSpace</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>gl<span class=\"token punctuation\">,</span> fs<span class=\"token punctuation\">:</span> <span class=\"token constant\">FRAGMENT_SHADER</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">onRender</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span>tick<span class=\"token punctuation\">,</span> clipSpaceQuad<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// Tick is autoupdated by AnimationLoop</span>\n    clipSpaceQuad<span class=\"token punctuation\">.</span><span class=\"token function\">setUniforms</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>uTime<span class=\"token punctuation\">:</span> tick <span class=\"token operator\">*</span> <span class=\"token number\">0.01</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">draw</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nanimationLoop<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>","position":{"start":{"line":20,"column":1,"offset":1168},"end":{"line":37,"column":4,"offset":1628}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Use a canvas in the existing DOM through its HTML id","position":{"start":{"line":39,"column":1,"offset":1630},"end":{"line":39,"column":53,"offset":1682}}}],"position":{"start":{"line":39,"column":1,"offset":1630},"end":{"line":39,"column":53,"offset":1682}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">animationLoop<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>canvas<span class=\"token punctuation\">:</span> <span class=\"token string\">'my-canvas'</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>","position":{"start":{"line":40,"column":1,"offset":1683},"end":{"line":42,"column":4,"offset":1736}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"methods"},"children":[{"type":"element","tagName":"a","properties":{"href":"#methods","aria-hidden":true,"class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"Methods","position":{"start":{"line":44,"column":4,"offset":1741},"end":{"line":44,"column":11,"offset":1748}}}],"position":{"start":{"line":44,"column":1,"offset":1738},"end":{"line":44,"column":11,"offset":1748}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"constructorprops--object"},"children":[{"type":"element","tagName":"a","properties":{"href":"#constructorprops--object","aria-hidden":true,"class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"constructor(props : Object)","position":{"start":{"line":46,"column":5,"offset":1754},"end":{"line":46,"column":32,"offset":1781}}}],"position":{"start":{"line":46,"column":1,"offset":1750},"end":{"line":46,"column":32,"offset":1781}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">new</span> <span class=\"token class-name\">AnimationLoop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  onCreateContext<span class=\"token punctuation\">,</span>\n  onInitialize<span class=\"token punctuation\">,</span>\n  onFinalize<span class=\"token punctuation\">,</span>\n  onRender<span class=\"token punctuation\">,</span>\n\n  autoResizeViewport<span class=\"token punctuation\">,</span>\n  autoResizeDrawingBuffer\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>","position":{"start":{"line":48,"column":1,"offset":1783},"end":{"line":58,"column":4,"offset":1926}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">props.onCreateContext</code>","position":{"start":{"line":60,"column":3,"offset":1930},"end":{"line":60,"column":26,"offset":1953}}},{"type":"text","value":"=","position":{"start":{"line":60,"column":26,"offset":1953},"end":{"line":60,"column":27,"offset":1954}}},{"type":"raw","value":"<code class=\"language-text\">null</code>","position":{"start":{"line":60,"column":27,"offset":1954},"end":{"line":60,"column":33,"offset":1960}}},{"type":"text","value":" (callback) - function without parameters that returns a ","position":{"start":{"line":60,"column":33,"offset":1960},"end":{"line":60,"column":90,"offset":2017}}},{"type":"raw","value":"<code class=\"language-text\">WebGLRenderingContext</code>","position":{"start":{"line":60,"column":90,"offset":2017},"end":{"line":60,"column":113,"offset":2040}}},{"type":"text","value":". This callback will be called exactly once, after page load completes.","position":{"start":{"line":60,"column":113,"offset":2040},"end":{"line":60,"column":184,"offset":2111}}}],"position":{"start":{"line":60,"column":1,"offset":1928},"end":{"line":60,"column":184,"offset":2111}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">props.onInitialize</code>","position":{"start":{"line":61,"column":3,"offset":2114},"end":{"line":61,"column":23,"offset":2134}}},{"type":"text","value":" (callback) - if supplied, will be called once after first ","position":{"start":{"line":61,"column":23,"offset":2134},"end":{"line":61,"column":82,"offset":2193}}},{"type":"raw","value":"<code class=\"language-text\">start()</code>","position":{"start":{"line":61,"column":82,"offset":2193},"end":{"line":61,"column":91,"offset":2202}}},{"type":"text","value":" has been called, after page load completes and a context has been created.","position":{"start":{"line":61,"column":91,"offset":2202},"end":{"line":61,"column":166,"offset":2277}}}],"position":{"start":{"line":61,"column":1,"offset":2112},"end":{"line":61,"column":166,"offset":2277}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">props.onRender</code>","position":{"start":{"line":62,"column":3,"offset":2280},"end":{"line":62,"column":19,"offset":2296}}},{"type":"text","value":"=","position":{"start":{"line":62,"column":19,"offset":2296},"end":{"line":62,"column":20,"offset":2297}}},{"type":"raw","value":"<code class=\"language-text\">null</code>","position":{"start":{"line":62,"column":20,"offset":2297},"end":{"line":62,"column":26,"offset":2303}}},{"type":"text","value":" (callback) - Called on every animation frame.","position":{"start":{"line":62,"column":26,"offset":2303},"end":{"line":62,"column":72,"offset":2349}}}],"position":{"start":{"line":62,"column":1,"offset":2278},"end":{"line":62,"column":72,"offset":2349}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">props.onFinalize</code>","position":{"start":{"line":63,"column":3,"offset":2352},"end":{"line":63,"column":21,"offset":2370}}},{"type":"text","value":"=","position":{"start":{"line":63,"column":21,"offset":2370},"end":{"line":63,"column":22,"offset":2371}}},{"type":"raw","value":"<code class=\"language-text\">null</code>","position":{"start":{"line":63,"column":22,"offset":2371},"end":{"line":63,"column":28,"offset":2377}}},{"type":"text","value":" (callback) - Called once when animation is stopped. Can be used to delete objects or free any resources created during ","position":{"start":{"line":63,"column":28,"offset":2377},"end":{"line":63,"column":148,"offset":2497}}},{"type":"raw","value":"<code class=\"language-text\">onInitialize</code>","position":{"start":{"line":63,"column":148,"offset":2497},"end":{"line":63,"column":162,"offset":2511}}},{"type":"text","value":".","position":{"start":{"line":63,"column":162,"offset":2511},"end":{"line":63,"column":163,"offset":2512}}}],"position":{"start":{"line":63,"column":1,"offset":2350},"end":{"line":63,"column":163,"offset":2512}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">props.autoResizeViewport</code>","position":{"start":{"line":64,"column":3,"offset":2515},"end":{"line":64,"column":29,"offset":2541}}},{"type":"text","value":"=","position":{"start":{"line":64,"column":29,"offset":2541},"end":{"line":64,"column":30,"offset":2542}}},{"type":"raw","value":"<code class=\"language-text\">true</code>","position":{"start":{"line":64,"column":30,"offset":2542},"end":{"line":64,"column":36,"offset":2548}}},{"type":"text","value":" - If true, calls ","position":{"start":{"line":64,"column":36,"offset":2548},"end":{"line":64,"column":54,"offset":2566}}},{"type":"raw","value":"<code class=\"language-text\">gl.viewport(0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight)</code>","position":{"start":{"line":64,"column":54,"offset":2566},"end":{"line":64,"column":120,"offset":2632}}},{"type":"text","value":" each frame before ","position":{"start":{"line":64,"column":120,"offset":2632},"end":{"line":64,"column":139,"offset":2651}}},{"type":"raw","value":"<code class=\"language-text\">onRender</code>","position":{"start":{"line":64,"column":139,"offset":2651},"end":{"line":64,"column":149,"offset":2661}}},{"type":"text","value":" is called. Set to false to control viewport size.","position":{"start":{"line":64,"column":149,"offset":2661},"end":{"line":64,"column":199,"offset":2711}}}],"position":{"start":{"line":64,"column":1,"offset":2513},"end":{"line":64,"column":199,"offset":2711}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">props.autoResizeDrawingBuffer</code>","position":{"start":{"line":65,"column":3,"offset":2714},"end":{"line":65,"column":34,"offset":2745}}},{"type":"text","value":"=","position":{"start":{"line":65,"column":34,"offset":2745},"end":{"line":65,"column":35,"offset":2746}}},{"type":"raw","value":"<code class=\"language-text\">true</code>","position":{"start":{"line":65,"column":35,"offset":2746},"end":{"line":65,"column":41,"offset":2752}}},{"type":"text","value":" - If true, checks the canvas size every frame and updates the drawing buffer size if needed.","position":{"start":{"line":65,"column":41,"offset":2752},"end":{"line":65,"column":134,"offset":2845}}}],"position":{"start":{"line":65,"column":1,"offset":2712},"end":{"line":65,"column":134,"offset":2845}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">props.useDevicePixels</code>","position":{"start":{"line":66,"column":3,"offset":2848},"end":{"line":66,"column":26,"offset":2871}}},{"type":"text","value":" - Whether to use ","position":{"start":{"line":66,"column":26,"offset":2871},"end":{"line":66,"column":44,"offset":2889}}},{"type":"raw","value":"<code class=\"language-text\">window.devicePixelRatio</code>","position":{"start":{"line":66,"column":44,"offset":2889},"end":{"line":66,"column":69,"offset":2914}}},{"type":"text","value":" as a multiplier, e.g. in ","position":{"start":{"line":66,"column":69,"offset":2914},"end":{"line":66,"column":95,"offset":2940}}},{"type":"raw","value":"<code class=\"language-text\">autoResizeDrawingBuffer</code>","position":{"start":{"line":66,"column":95,"offset":2940},"end":{"line":66,"column":120,"offset":2965}}},{"type":"text","value":" etc.","position":{"start":{"line":66,"column":120,"offset":2965},"end":{"line":66,"column":125,"offset":2970}}}],"position":{"start":{"line":66,"column":1,"offset":2846},"end":{"line":66,"column":125,"offset":2970}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">props.gl</code>","position":{"start":{"line":67,"column":3,"offset":2973},"end":{"line":67,"column":13,"offset":2983}}},{"type":"text","value":"=","position":{"start":{"line":67,"column":13,"offset":2983},"end":{"line":67,"column":14,"offset":2984}}},{"type":"raw","value":"<code class=\"language-text\">null</code>","position":{"start":{"line":67,"column":14,"offset":2984},"end":{"line":67,"column":20,"offset":2990}}},{"type":"text","value":" (WebGLContext) - If supplied, will render into this external context instead of creating a new one.","position":{"start":{"line":67,"column":20,"offset":2990},"end":{"line":67,"column":120,"offset":3090}}}],"position":{"start":{"line":67,"column":1,"offset":2971},"end":{"line":67,"column":120,"offset":3090}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">props.glOptions</code>","position":{"start":{"line":68,"column":3,"offset":3093},"end":{"line":68,"column":20,"offset":3110}}},{"type":"text","value":"=","position":{"start":{"line":68,"column":20,"offset":3110},"end":{"line":68,"column":21,"offset":3111}}},{"type":"raw","value":"<code class=\"language-text\">{}</code>","position":{"start":{"line":68,"column":21,"offset":3111},"end":{"line":68,"column":25,"offset":3115}}},{"type":"text","value":" (object) - Options to create the WebGLContext with. See ","position":{"start":{"line":68,"column":25,"offset":3115},"end":{"line":68,"column":82,"offset":3172}}},{"type":"element","tagName":"a","properties":{"href":"/docs/api-reference/webgl/context/context.md"},"children":[{"type":"text","value":"createGLContext","position":{"start":{"line":68,"column":83,"offset":3173},"end":{"line":68,"column":98,"offset":3188}}}],"position":{"start":{"line":68,"column":82,"offset":3172},"end":{"line":68,"column":145,"offset":3235}}},{"type":"text","value":".","position":{"start":{"line":68,"column":145,"offset":3235},"end":{"line":68,"column":146,"offset":3236}}}],"position":{"start":{"line":68,"column":1,"offset":3091},"end":{"line":68,"column":146,"offset":3236}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">props.debug</code>","position":{"start":{"line":69,"column":3,"offset":3239},"end":{"line":69,"column":16,"offset":3252}}},{"type":"text","value":"=","position":{"start":{"line":69,"column":16,"offset":3252},"end":{"line":69,"column":17,"offset":3253}}},{"type":"raw","value":"<code class=\"language-text\">false</code>","position":{"start":{"line":69,"column":17,"offset":3253},"end":{"line":69,"column":24,"offset":3260}}},{"type":"text","value":" (bool) - Enable debug mode will provide more validations and error messages, but less performant.","position":{"start":{"line":69,"column":24,"offset":3260},"end":{"line":69,"column":122,"offset":3358}}}],"position":{"start":{"line":69,"column":1,"offset":3237},"end":{"line":69,"column":122,"offset":3358}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">props.createFramebuffer</code>","position":{"start":{"line":70,"column":3,"offset":3361},"end":{"line":70,"column":28,"offset":3386}}},{"type":"text","value":"=","position":{"start":{"line":70,"column":28,"offset":3386},"end":{"line":70,"column":29,"offset":3387}}},{"type":"raw","value":"<code class=\"language-text\">false</code>","position":{"start":{"line":70,"column":29,"offset":3387},"end":{"line":70,"column":36,"offset":3394}}},{"type":"text","value":" (bool) - If true, will make a ","position":{"start":{"line":70,"column":36,"offset":3394},"end":{"line":70,"column":67,"offset":3425}}},{"type":"raw","value":"<code class=\"language-text\">framebuffer</code>","position":{"start":{"line":70,"column":67,"offset":3425},"end":{"line":70,"column":80,"offset":3438}}},{"type":"text","value":" (FrameBuffer) parameter available to ","position":{"start":{"line":70,"column":80,"offset":3438},"end":{"line":70,"column":118,"offset":3476}}},{"type":"raw","value":"<code class=\"language-text\">onInitialize</code>","position":{"start":{"line":70,"column":118,"offset":3476},"end":{"line":70,"column":132,"offset":3490}}},{"type":"text","value":" and ","position":{"start":{"line":70,"column":132,"offset":3490},"end":{"line":70,"column":137,"offset":3495}}},{"type":"raw","value":"<code class=\"language-text\">onRender</code>","position":{"start":{"line":70,"column":137,"offset":3495},"end":{"line":70,"column":147,"offset":3505}}},{"type":"text","value":" callbacks.","position":{"start":{"line":70,"column":147,"offset":3505},"end":{"line":70,"column":158,"offset":3516}}}],"position":{"start":{"line":70,"column":1,"offset":3359},"end":{"line":70,"column":158,"offset":3516}}},{"type":"text","value":"\n"}],"position":{"start":{"line":60,"column":1,"offset":1928},"end":{"line":70,"column":158,"offset":3516}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"startoptions--object--animationloop"},"children":[{"type":"element","tagName":"a","properties":{"href":"#startoptions--object--animationloop","aria-hidden":true,"class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"start(","position":{"start":{"line":73,"column":5,"offset":3523},"end":{"line":73,"column":11,"offset":3529}}},{"type":"text","value":"[options : Object]","position":{"start":{"line":73,"column":12,"offset":3530},"end":{"line":73,"column":28,"offset":3546}}},{"type":"text","value":") : AnimationLoop","position":{"start":{"line":73,"column":29,"offset":3547},"end":{"line":73,"column":46,"offset":3564}}}],"position":{"start":{"line":73,"column":1,"offset":3519},"end":{"line":73,"column":46,"offset":3564}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Restarts the animation","position":{"start":{"line":75,"column":1,"offset":3566},"end":{"line":75,"column":23,"offset":3588}}}],"position":{"start":{"line":75,"column":1,"offset":3566},"end":{"line":75,"column":23,"offset":3588}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">animationLoop.start(options)</code>","position":{"start":{"line":77,"column":1,"offset":3590},"end":{"line":77,"column":31,"offset":3620}}}],"position":{"start":{"line":77,"column":1,"offset":3590},"end":{"line":77,"column":31,"offset":3620}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">options</code>","position":{"start":{"line":79,"column":3,"offset":3624},"end":{"line":79,"column":12,"offset":3633}}},{"type":"text","value":"=","position":{"start":{"line":79,"column":12,"offset":3633},"end":{"line":79,"column":13,"offset":3634}}},{"type":"raw","value":"<code class=\"language-text\">{}</code>","position":{"start":{"line":79,"column":13,"offset":3634},"end":{"line":79,"column":17,"offset":3638}}},{"type":"text","value":" (object) - Options to create the WebGLContext with. See ","position":{"start":{"line":79,"column":17,"offset":3638},"end":{"line":79,"column":74,"offset":3695}}},{"type":"element","tagName":"a","properties":{"href":"/docs/api-reference/webgl/context/context.md"},"children":[{"type":"text","value":"createGLContext","position":{"start":{"line":79,"column":75,"offset":3696},"end":{"line":79,"column":90,"offset":3711}}}],"position":{"start":{"line":79,"column":74,"offset":3695},"end":{"line":79,"column":137,"offset":3758}}},{"type":"text","value":".","position":{"start":{"line":79,"column":137,"offset":3758},"end":{"line":79,"column":138,"offset":3759}}}],"position":{"start":{"line":79,"column":1,"offset":3622},"end":{"line":79,"column":138,"offset":3759}}},{"type":"text","value":"\n"}],"position":{"start":{"line":79,"column":1,"offset":3622},"end":{"line":79,"column":138,"offset":3759}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"stop--animationloop"},"children":[{"type":"element","tagName":"a","properties":{"href":"#stop--animationloop","aria-hidden":true,"class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"stop() : AnimationLoop","position":{"start":{"line":81,"column":5,"offset":3765},"end":{"line":81,"column":27,"offset":3787}}}],"position":{"start":{"line":81,"column":1,"offset":3761},"end":{"line":81,"column":27,"offset":3787}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Stops the animation","position":{"start":{"line":83,"column":1,"offset":3789},"end":{"line":83,"column":20,"offset":3808}}}],"position":{"start":{"line":83,"column":1,"offset":3789},"end":{"line":83,"column":20,"offset":3808}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">animationLoop.stop()</code>","position":{"start":{"line":85,"column":1,"offset":3810},"end":{"line":85,"column":23,"offset":3832}}}],"position":{"start":{"line":85,"column":1,"offset":3810},"end":{"line":85,"column":23,"offset":3832}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"waitforrender--promise"},"children":[{"type":"element","tagName":"a","properties":{"href":"#waitforrender--promise","aria-hidden":true,"class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"waitForRender() : Promise","position":{"start":{"line":87,"column":5,"offset":3838},"end":{"line":87,"column":30,"offset":3863}}}],"position":{"start":{"line":87,"column":1,"offset":3834},"end":{"line":87,"column":30,"offset":3863}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Returns a promise which resolves in the next frame after rendering and the ","position":{"start":{"line":89,"column":1,"offset":3865},"end":{"line":89,"column":76,"offset":3940}}},{"type":"raw","value":"<code class=\"language-text\">onRender</code>","position":{"start":{"line":89,"column":76,"offset":3940},"end":{"line":89,"column":86,"offset":3950}}},{"type":"text","value":" callback have completed.","position":{"start":{"line":89,"column":86,"offset":3950},"end":{"line":89,"column":111,"offset":3975}}}],"position":{"start":{"line":89,"column":1,"offset":3865},"end":{"line":89,"column":111,"offset":3975}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> loop <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> animationLoop<span class=\"token punctuation\">.</span><span class=\"token function\">waitForRender</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// can now read pixels from webgl context</span>\nloop<span class=\"token punctuation\">.</span>gl<span class=\"token punctuation\">.</span><span class=\"token function\">readPixels</span><span class=\"token punctuation\">(</span><span class=\"token operator\">...</span><span class=\"token punctuation\">)</span></code></pre></div>","position":{"start":{"line":91,"column":1,"offset":3977},"end":{"line":95,"column":4,"offset":4101}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"redraw--animationloop"},"children":[{"type":"element","tagName":"a","properties":{"href":"#redraw--animationloop","aria-hidden":true,"class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"redraw() : AnimationLoop","position":{"start":{"line":97,"column":5,"offset":4107},"end":{"line":97,"column":29,"offset":4131}}}],"position":{"start":{"line":97,"column":1,"offset":4103},"end":{"line":97,"column":29,"offset":4131}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Immediately invokes a redraw (call ","position":{"start":{"line":99,"column":1,"offset":4133},"end":{"line":99,"column":36,"offset":4168}}},{"type":"raw","value":"<code class=\"language-text\">onRender</code>","position":{"start":{"line":99,"column":36,"offset":4168},"end":{"line":99,"column":46,"offset":4178}}},{"type":"text","value":" with updated animation props). Only use if the canvas must be updated synchronously.","position":{"start":{"line":99,"column":46,"offset":4178},"end":{"line":99,"column":131,"offset":4263}}}],"position":{"start":{"line":99,"column":1,"offset":4133},"end":{"line":99,"column":131,"offset":4263}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"setneedsredrawreason--string--animationloop"},"children":[{"type":"element","tagName":"a","properties":{"href":"#setneedsredrawreason--string--animationloop","aria-hidden":true,"class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"setNeedsRedraw(reason : String) : AnimationLoop","position":{"start":{"line":101,"column":5,"offset":4269},"end":{"line":101,"column":52,"offset":4316}}}],"position":{"start":{"line":101,"column":1,"offset":4265},"end":{"line":101,"column":52,"offset":4316}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">animationLoop.setNeedsRedraw(reason)</code>","position":{"start":{"line":103,"column":1,"offset":4318},"end":{"line":103,"column":39,"offset":4356}}}],"position":{"start":{"line":103,"column":1,"offset":4318},"end":{"line":103,"column":39,"offset":4356}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">reason</code>","position":{"start":{"line":105,"column":3,"offset":4360},"end":{"line":105,"column":11,"offset":4368}}},{"type":"text","value":" (","position":{"start":{"line":105,"column":11,"offset":4368},"end":{"line":105,"column":13,"offset":4370}}},{"type":"raw","value":"<code class=\"language-text\">String</code>","position":{"start":{"line":105,"column":13,"offset":4370},"end":{"line":105,"column":21,"offset":4378}}},{"type":"text","value":") - A human readable string giving a hint as to why redraw was needed (e.g. \"geometry changed\").","position":{"start":{"line":105,"column":21,"offset":4378},"end":{"line":105,"column":117,"offset":4474}}}],"position":{"start":{"line":105,"column":1,"offset":4358},"end":{"line":105,"column":117,"offset":4474}}},{"type":"text","value":"\n"}],"position":{"start":{"line":105,"column":1,"offset":4358},"end":{"line":105,"column":117,"offset":4474}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If set, the value will be provided as the ","position":{"start":{"line":107,"column":1,"offset":4476},"end":{"line":107,"column":43,"offset":4518}}},{"type":"raw","value":"<code class=\"language-text\">needsRedraw</code>","position":{"start":{"line":107,"column":43,"offset":4518},"end":{"line":107,"column":56,"offset":4531}}},{"type":"text","value":" field to the ","position":{"start":{"line":107,"column":56,"offset":4531},"end":{"line":107,"column":70,"offset":4545}}},{"type":"raw","value":"<code class=\"language-text\">onRender</code>","position":{"start":{"line":107,"column":70,"offset":4545},"end":{"line":107,"column":80,"offset":4555}}},{"type":"text","value":" callback.","position":{"start":{"line":107,"column":80,"offset":4555},"end":{"line":107,"column":90,"offset":4565}}}],"position":{"start":{"line":107,"column":1,"offset":4476},"end":{"line":107,"column":90,"offset":4565}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Notes:","position":{"start":{"line":109,"column":1,"offset":4567},"end":{"line":109,"column":7,"offset":4573}}}],"position":{"start":{"line":109,"column":1,"offset":4567},"end":{"line":109,"column":7,"offset":4573}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">onRender</code>","position":{"start":{"line":110,"column":3,"offset":4576},"end":{"line":110,"column":13,"offset":4586}}},{"type":"text","value":" will be called for each animation frame regardless of whether this flag is set, and the redraw reason is automatically cleared.","position":{"start":{"line":110,"column":13,"offset":4586},"end":{"line":110,"column":141,"offset":4714}}}],"position":{"start":{"line":110,"column":1,"offset":4574},"end":{"line":110,"column":141,"offset":4714}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If called multiple times, the ","position":{"start":{"line":111,"column":3,"offset":4717},"end":{"line":111,"column":33,"offset":4747}}},{"type":"raw","value":"<code class=\"language-text\">reason</code>","position":{"start":{"line":111,"column":33,"offset":4747},"end":{"line":111,"column":41,"offset":4755}}},{"type":"text","value":" provided in the first call will be remembered.","position":{"start":{"line":111,"column":41,"offset":4755},"end":{"line":111,"column":88,"offset":4802}}}],"position":{"start":{"line":111,"column":1,"offset":4715},"end":{"line":111,"column":88,"offset":4802}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">AnimationLoop</code>","position":{"start":{"line":112,"column":3,"offset":4805},"end":{"line":112,"column":18,"offset":4820}}},{"type":"text","value":" automatically sets this flag if the WebGL context's drawing buffer size changes.","position":{"start":{"line":112,"column":18,"offset":4820},"end":{"line":112,"column":99,"offset":4901}}}],"position":{"start":{"line":112,"column":1,"offset":4803},"end":{"line":112,"column":99,"offset":4901}}},{"type":"text","value":"\n"}],"position":{"start":{"line":110,"column":1,"offset":4574},"end":{"line":112,"column":99,"offset":4901}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"setpropsprops--object--animationloop"},"children":[{"type":"element","tagName":"a","properties":{"href":"#setpropsprops--object--animationloop","aria-hidden":true,"class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"setProps(props : Object) : AnimationLoop","position":{"start":{"line":115,"column":5,"offset":4908},"end":{"line":115,"column":45,"offset":4948}}}],"position":{"start":{"line":115,"column":1,"offset":4904},"end":{"line":115,"column":45,"offset":4948}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">animationLoop.setProps({...props})</code>","position":{"start":{"line":117,"column":1,"offset":4950},"end":{"line":117,"column":37,"offset":4986}}}],"position":{"start":{"line":117,"column":1,"offset":4950},"end":{"line":117,"column":37,"offset":4986}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">props.autoResizeViewport</code>","position":{"start":{"line":119,"column":3,"offset":4990},"end":{"line":119,"column":29,"offset":5016}}},{"type":"text","value":" - Call ","position":{"start":{"line":119,"column":29,"offset":5016},"end":{"line":119,"column":37,"offset":5024}}},{"type":"raw","value":"<code class=\"language-text\">gl.viewport</code>","position":{"start":{"line":119,"column":37,"offset":5024},"end":{"line":119,"column":50,"offset":5037}}},{"type":"text","value":" before each call to ","position":{"start":{"line":119,"column":50,"offset":5037},"end":{"line":119,"column":71,"offset":5058}}},{"type":"raw","value":"<code class=\"language-text\">onRender()</code>","position":{"start":{"line":119,"column":71,"offset":5058},"end":{"line":119,"column":83,"offset":5070}}}],"position":{"start":{"line":119,"column":1,"offset":4988},"end":{"line":119,"column":83,"offset":5070}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">props.autoResizeDrawingBuffer</code>","position":{"start":{"line":120,"column":3,"offset":5073},"end":{"line":120,"column":34,"offset":5104}}},{"type":"text","value":" - Update the drawing buffer size to match the canvas size before each call to ","position":{"start":{"line":120,"column":34,"offset":5104},"end":{"line":120,"column":113,"offset":5183}}},{"type":"raw","value":"<code class=\"language-text\">onRender()</code>","position":{"start":{"line":120,"column":113,"offset":5183},"end":{"line":120,"column":125,"offset":5195}}}],"position":{"start":{"line":120,"column":1,"offset":5071},"end":{"line":120,"column":125,"offset":5195}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">props.useDevicePixels</code>","position":{"start":{"line":121,"column":3,"offset":5198},"end":{"line":121,"column":26,"offset":5221}}},{"type":"text","value":" - Whether to use ","position":{"start":{"line":121,"column":26,"offset":5221},"end":{"line":121,"column":44,"offset":5239}}},{"type":"raw","value":"<code class=\"language-text\">window.devicePixelRatio</code>","position":{"start":{"line":121,"column":44,"offset":5239},"end":{"line":121,"column":69,"offset":5264}}},{"type":"text","value":" as a multiplier, e.g. in ","position":{"start":{"line":121,"column":69,"offset":5264},"end":{"line":121,"column":95,"offset":5290}}},{"type":"raw","value":"<code class=\"language-text\">autoResizeDrawingBuffer</code>","position":{"start":{"line":121,"column":95,"offset":5290},"end":{"line":121,"column":120,"offset":5315}}},{"type":"text","value":" etc.","position":{"start":{"line":121,"column":120,"offset":5315},"end":{"line":121,"column":125,"offset":5320}}}],"position":{"start":{"line":121,"column":1,"offset":5196},"end":{"line":121,"column":125,"offset":5320}}},{"type":"text","value":"\n"}],"position":{"start":{"line":119,"column":1,"offset":4988},"end":{"line":121,"column":125,"offset":5320}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"todataurl"},"children":[{"type":"element","tagName":"a","properties":{"href":"#todataurl","aria-hidden":true,"class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"toDataURL","position":{"start":{"line":123,"column":5,"offset":5326},"end":{"line":123,"column":14,"offset":5335}}}],"position":{"start":{"line":123,"column":1,"offset":5322},"end":{"line":123,"column":14,"offset":5335}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Returns returns a ","position":{"start":{"line":125,"column":1,"offset":5337},"end":{"line":125,"column":19,"offset":5355}}},{"type":"raw","value":"<code class=\"language-text\">Promise</code>","position":{"start":{"line":125,"column":19,"offset":5355},"end":{"line":125,"column":28,"offset":5364}}},{"type":"text","value":" that resolves to the data URL of the canvas once drawing operations are complete for the current frame. The data URL can be used as the ","position":{"start":{"line":125,"column":28,"offset":5364},"end":{"line":125,"column":165,"offset":5501}}},{"type":"raw","value":"<code class=\"language-text\">src</code>","position":{"start":{"line":125,"column":165,"offset":5501},"end":{"line":125,"column":170,"offset":5506}}},{"type":"text","value":" for an HTML image element.","position":{"start":{"line":125,"column":170,"offset":5506},"end":{"line":125,"column":197,"offset":5533}}}],"position":{"start":{"line":125,"column":1,"offset":5337},"end":{"line":125,"column":197,"offset":5533}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">animationLoop.toDataURL()</code>","position":{"start":{"line":127,"column":1,"offset":5535},"end":{"line":127,"column":28,"offset":5562}}}],"position":{"start":{"line":127,"column":1,"offset":5535},"end":{"line":127,"column":28,"offset":5562}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"callback-parameters"},"children":[{"type":"element","tagName":"a","properties":{"href":"#callback-parameters","aria-hidden":true,"class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"Callback Parameters","position":{"start":{"line":130,"column":4,"offset":5568},"end":{"line":130,"column":23,"offset":5587}}}],"position":{"start":{"line":130,"column":1,"offset":5565},"end":{"line":130,"column":23,"offset":5587}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The callbacks ","position":{"start":{"line":132,"column":1,"offset":5589},"end":{"line":132,"column":15,"offset":5603}}},{"type":"raw","value":"<code class=\"language-text\">onInitialize</code>","position":{"start":{"line":132,"column":15,"offset":5603},"end":{"line":132,"column":29,"offset":5617}}},{"type":"text","value":", ","position":{"start":{"line":132,"column":29,"offset":5617},"end":{"line":132,"column":31,"offset":5619}}},{"type":"raw","value":"<code class=\"language-text\">onRender</code>","position":{"start":{"line":132,"column":31,"offset":5619},"end":{"line":132,"column":41,"offset":5629}}},{"type":"text","value":" and ","position":{"start":{"line":132,"column":41,"offset":5629},"end":{"line":132,"column":46,"offset":5634}}},{"type":"raw","value":"<code class=\"language-text\">onFinalize</code>","position":{"start":{"line":132,"column":46,"offset":5634},"end":{"line":132,"column":58,"offset":5646}}},{"type":"text","value":" that the app supplies to the ","position":{"start":{"line":132,"column":58,"offset":5646},"end":{"line":132,"column":88,"offset":5676}}},{"type":"raw","value":"<code class=\"language-text\">AnimationLoop</code>","position":{"start":{"line":132,"column":88,"offset":5676},"end":{"line":132,"column":103,"offset":5691}}},{"type":"text","value":", will be called with an object containing named parameters:","position":{"start":{"line":132,"column":103,"offset":5691},"end":{"line":132,"column":163,"offset":5751}}}],"position":{"start":{"line":132,"column":1,"offset":5589},"end":{"line":132,"column":163,"offset":5751}}},{"type":"text","value":"\n"},{"type":"element","tagName":"table","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"thead","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"th","properties":{"align":null},"children":[{"type":"text","value":"Parameter","position":{"start":{"line":134,"column":3,"offset":5755},"end":{"line":134,"column":12,"offset":5764}}}],"position":{"start":{"line":134,"column":3,"offset":5755},"end":{"line":134,"column":12,"offset":5764}}},{"type":"text","value":"\n"},{"type":"element","tagName":"th","properties":{"align":null},"children":[{"type":"text","value":"Type","position":{"start":{"line":134,"column":15,"offset":5767},"end":{"line":134,"column":19,"offset":5771}}}],"position":{"start":{"line":134,"column":15,"offset":5767},"end":{"line":134,"column":19,"offset":5771}}},{"type":"text","value":"\n"},{"type":"element","tagName":"th","properties":{"align":null},"children":[{"type":"text","value":"Description","position":{"start":{"line":134,"column":22,"offset":5774},"end":{"line":134,"column":33,"offset":5785}}}],"position":{"start":{"line":134,"column":22,"offset":5774},"end":{"line":134,"column":33,"offset":5785}}},{"type":"text","value":"\n"}],"position":{"start":{"line":134,"column":1,"offset":5753},"end":{"line":134,"column":35,"offset":5787}}},{"type":"text","value":"\n"}],"position":{"start":{"line":134,"column":1,"offset":5753},"end":{"line":134,"column":35,"offset":5787}}},{"type":"text","value":"\n"},{"type":"element","tagName":"tbody","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{"align":null},"children":[{"type":"raw","value":"<code class=\"language-text\">_animationLoop</code>","position":{"start":{"line":136,"column":3,"offset":5817},"end":{"line":136,"column":19,"offset":5833}}}],"position":{"start":{"line":136,"column":3,"offset":5817},"end":{"line":136,"column":19,"offset":5833}}},{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{"align":null},"children":[{"type":"raw","value":"<code class=\"language-text\">AnimationLoop</code>","position":{"start":{"line":136,"column":22,"offset":5836},"end":{"line":136,"column":37,"offset":5851}}}],"position":{"start":{"line":136,"column":22,"offset":5836},"end":{"line":136,"column":37,"offset":5851}}},{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{"align":null},"children":[{"type":"text","value":"(","position":{"start":{"line":136,"column":40,"offset":5854},"end":{"line":136,"column":41,"offset":5855}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"experimental","position":{"start":{"line":136,"column":43,"offset":5857},"end":{"line":136,"column":55,"offset":5869}}}],"position":{"start":{"line":136,"column":41,"offset":5855},"end":{"line":136,"column":57,"offset":5871}}},{"type":"text","value":") The calling ","position":{"start":{"line":136,"column":57,"offset":5871},"end":{"line":136,"column":71,"offset":5885}}},{"type":"raw","value":"<code class=\"language-text\">AnimationLoop</code>","position":{"start":{"line":136,"column":71,"offset":5885},"end":{"line":136,"column":86,"offset":5900}}},{"type":"text","value":" instance","position":{"start":{"line":136,"column":86,"offset":5900},"end":{"line":136,"column":95,"offset":5909}}}],"position":{"start":{"line":136,"column":40,"offset":5854},"end":{"line":136,"column":95,"offset":5909}}},{"type":"text","value":"\n"}],"position":{"start":{"line":136,"column":1,"offset":5815},"end":{"line":136,"column":97,"offset":5911}}},{"type":"text","value":"\n"},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{"align":null},"children":[{"type":"raw","value":"<code class=\"language-text\">gl</code>","position":{"start":{"line":137,"column":3,"offset":5914},"end":{"line":137,"column":7,"offset":5918}}}],"position":{"start":{"line":137,"column":3,"offset":5914},"end":{"line":137,"column":12,"offset":5923}}},{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{"align":null},"children":[{"type":"raw","value":"<code class=\"language-text\">WebGLRenderingContext</code>","position":{"start":{"line":137,"column":15,"offset":5926},"end":{"line":137,"column":38,"offset":5949}}}],"position":{"start":{"line":137,"column":15,"offset":5926},"end":{"line":137,"column":38,"offset":5949}}},{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{"align":null},"children":[{"type":"text","value":"This ","position":{"start":{"line":137,"column":41,"offset":5952},"end":{"line":137,"column":46,"offset":5957}}},{"type":"raw","value":"<code class=\"language-text\">AnimationLoop</code>","position":{"start":{"line":137,"column":46,"offset":5957},"end":{"line":137,"column":61,"offset":5972}}},{"type":"text","value":"'s gl context.","position":{"start":{"line":137,"column":61,"offset":5972},"end":{"line":137,"column":75,"offset":5986}}}],"position":{"start":{"line":137,"column":41,"offset":5952},"end":{"line":137,"column":75,"offset":5986}}},{"type":"text","value":"\n"}],"position":{"start":{"line":137,"column":1,"offset":5912},"end":{"line":137,"column":77,"offset":5988}}},{"type":"text","value":"\n"},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{"align":null},"children":[{"type":"raw","value":"<code class=\"language-text\">canvas</code>","position":{"start":{"line":138,"column":3,"offset":5991},"end":{"line":138,"column":11,"offset":5999}}}],"position":{"start":{"line":138,"column":3,"offset":5991},"end":{"line":138,"column":12,"offset":6000}}},{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{"align":null},"children":[{"type":"raw","value":"<code class=\"language-text\">HTMLCanvasElement</code>","position":{"start":{"line":138,"column":15,"offset":6003},"end":{"line":138,"column":34,"offset":6022}}},{"type":"text","value":" or ","position":{"start":{"line":138,"column":34,"offset":6022},"end":{"line":138,"column":38,"offset":6026}}},{"type":"raw","value":"<code class=\"language-text\">OffscreenCanvas</code>","position":{"start":{"line":138,"column":38,"offset":6026},"end":{"line":138,"column":55,"offset":6043}}}],"position":{"start":{"line":138,"column":15,"offset":6003},"end":{"line":138,"column":55,"offset":6043}}},{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{"align":null},"children":[{"type":"text","value":"The canvas associated with this context.","position":{"start":{"line":138,"column":58,"offset":6046},"end":{"line":138,"column":98,"offset":6086}}}],"position":{"start":{"line":138,"column":58,"offset":6046},"end":{"line":138,"column":98,"offset":6086}}},{"type":"text","value":"\n"}],"position":{"start":{"line":138,"column":1,"offset":5989},"end":{"line":138,"column":100,"offset":6088}}},{"type":"text","value":"\n"},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{"align":null},"children":[{"type":"raw","value":"<code class=\"language-text\">width</code>","position":{"start":{"line":139,"column":3,"offset":6091},"end":{"line":139,"column":10,"offset":6098}}}],"position":{"start":{"line":139,"column":3,"offset":6091},"end":{"line":139,"column":12,"offset":6100}}},{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{"align":null},"children":[{"type":"text","value":"The drawing buffer width, in \"device\" pixels (can be different from canvas.width).","position":{"start":{"line":139,"column":15,"offset":6103},"end":{"line":139,"column":97,"offset":6185}}}],"position":{"start":{"line":139,"column":15,"offset":6103},"end":{"line":139,"column":97,"offset":6185}}},{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{"align":null},"children":[]},{"type":"text","value":"\n"}],"position":{"start":{"line":139,"column":1,"offset":6089},"end":{"line":139,"column":99,"offset":6187}}},{"type":"text","value":"\n"},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{"align":null},"children":[{"type":"raw","value":"<code class=\"language-text\">height</code>","position":{"start":{"line":140,"column":3,"offset":6190},"end":{"line":140,"column":11,"offset":6198}}}],"position":{"start":{"line":140,"column":3,"offset":6190},"end":{"line":140,"column":12,"offset":6199}}},{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{"align":null},"children":[{"type":"text","value":"The drawing buffer height, in \"device\" pixels (can be different from canvas.width).","position":{"start":{"line":140,"column":15,"offset":6202},"end":{"line":140,"column":98,"offset":6285}}}],"position":{"start":{"line":140,"column":15,"offset":6202},"end":{"line":140,"column":98,"offset":6285}}},{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{"align":null},"children":[]},{"type":"text","value":"\n"}],"position":{"start":{"line":140,"column":1,"offset":6188},"end":{"line":140,"column":100,"offset":6287}}},{"type":"text","value":"\n"},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{"align":null},"children":[{"type":"raw","value":"<code class=\"language-text\">aspect</code>","position":{"start":{"line":141,"column":3,"offset":6290},"end":{"line":141,"column":11,"offset":6298}}}],"position":{"start":{"line":141,"column":3,"offset":6290},"end":{"line":141,"column":12,"offset":6299}}},{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{"align":null},"children":[{"type":"text","value":"The canvas aspect ratio (width/height) to update projection matrices","position":{"start":{"line":141,"column":15,"offset":6302},"end":{"line":141,"column":83,"offset":6370}}}],"position":{"start":{"line":141,"column":15,"offset":6302},"end":{"line":141,"column":83,"offset":6370}}},{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{"align":null},"children":[]},{"type":"text","value":"\n"}],"position":{"start":{"line":141,"column":1,"offset":6288},"end":{"line":141,"column":85,"offset":6372}}},{"type":"text","value":"\n"},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{"align":null},"children":[{"type":"raw","value":"<code class=\"language-text\">useDevicePixels</code>","position":{"start":{"line":142,"column":3,"offset":6375},"end":{"line":142,"column":20,"offset":6392}}}],"position":{"start":{"line":142,"column":3,"offset":6375},"end":{"line":142,"column":20,"offset":6392}}},{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{"align":null},"children":[{"type":"text","value":"Boolean indicating if canvas is utilizes full resolution of Retina/","position":{"start":{"line":142,"column":23,"offset":6395},"end":{"line":142,"column":90,"offset":6462}}}],"position":{"start":{"line":142,"column":23,"offset":6395},"end":{"line":142,"column":90,"offset":6462}}},{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{"align":null},"children":[]},{"type":"text","value":"\n"}],"position":{"start":{"line":142,"column":1,"offset":6373},"end":{"line":142,"column":90,"offset":6462}}},{"type":"text","value":"\n"},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{"align":null},"children":[{"type":"raw","value":"<code class=\"language-text\">needsRedraw</code>","position":{"start":{"line":143,"column":3,"offset":6465},"end":{"line":143,"column":16,"offset":6478}}}],"position":{"start":{"line":143,"column":3,"offset":6465},"end":{"line":143,"column":16,"offset":6478}}},{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{"align":null},"children":[{"type":"raw","value":"<code class=\"language-text\">String</code>","position":{"start":{"line":143,"column":19,"offset":6481},"end":{"line":143,"column":27,"offset":6489}}}],"position":{"start":{"line":143,"column":19,"offset":6481},"end":{"line":143,"column":27,"offset":6489}}},{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{"align":null},"children":[{"type":"text","value":"Redraw flag (will be automatically set if drawingBuffer resizes)","position":{"start":{"line":143,"column":30,"offset":6492},"end":{"line":143,"column":94,"offset":6556}}}],"position":{"start":{"line":143,"column":30,"offset":6492},"end":{"line":143,"column":94,"offset":6556}}},{"type":"text","value":"\n"}],"position":{"start":{"line":143,"column":1,"offset":6463},"end":{"line":143,"column":96,"offset":6558}}},{"type":"text","value":"\n"},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{"align":null},"children":[{"type":"raw","value":"<code class=\"language-text\">time</code>","position":{"start":{"line":144,"column":3,"offset":6561},"end":{"line":144,"column":9,"offset":6567}}}],"position":{"start":{"line":144,"column":3,"offset":6561},"end":{"line":144,"column":12,"offset":6570}}},{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{"align":null},"children":[{"type":"raw","value":"<code class=\"language-text\">Number</code>","position":{"start":{"line":144,"column":15,"offset":6573},"end":{"line":144,"column":23,"offset":6581}}}],"position":{"start":{"line":144,"column":15,"offset":6573},"end":{"line":144,"column":23,"offset":6581}}},{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{"align":null},"children":[{"type":"text","value":"Milliseconds since ","position":{"start":{"line":144,"column":26,"offset":6584},"end":{"line":144,"column":45,"offset":6603}}},{"type":"raw","value":"<code class=\"language-text\">AnimationLoop</code>","position":{"start":{"line":144,"column":45,"offset":6603},"end":{"line":144,"column":60,"offset":6618}}},{"type":"text","value":" was created (monotonic).","position":{"start":{"line":144,"column":60,"offset":6618},"end":{"line":144,"column":85,"offset":6643}}}],"position":{"start":{"line":144,"column":26,"offset":6584},"end":{"line":144,"column":85,"offset":6643}}},{"type":"text","value":"\n"}],"position":{"start":{"line":144,"column":1,"offset":6559},"end":{"line":144,"column":87,"offset":6645}}},{"type":"text","value":"\n"},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{"align":null},"children":[{"type":"raw","value":"<code class=\"language-text\">tick</code>","position":{"start":{"line":145,"column":3,"offset":6648},"end":{"line":145,"column":9,"offset":6654}}}],"position":{"start":{"line":145,"column":3,"offset":6648},"end":{"line":145,"column":12,"offset":6657}}},{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{"align":null},"children":[{"type":"raw","value":"<code class=\"language-text\">Number</code>","position":{"start":{"line":145,"column":15,"offset":6660},"end":{"line":145,"column":23,"offset":6668}}}],"position":{"start":{"line":145,"column":15,"offset":6660},"end":{"line":145,"column":23,"offset":6668}}},{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{"align":null},"children":[{"type":"text","value":"Counter that updates for every frame rendered (monotonic).","position":{"start":{"line":145,"column":26,"offset":6671},"end":{"line":145,"column":84,"offset":6729}}}],"position":{"start":{"line":145,"column":26,"offset":6671},"end":{"line":145,"column":84,"offset":6729}}},{"type":"text","value":"\n"}],"position":{"start":{"line":145,"column":1,"offset":6646},"end":{"line":145,"column":86,"offset":6731}}},{"type":"text","value":"\n"},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{"align":null},"children":[{"type":"raw","value":"<code class=\"language-text\">framebuffer</code>","position":{"start":{"line":146,"column":3,"offset":6734},"end":{"line":146,"column":16,"offset":6747}}}],"position":{"start":{"line":146,"column":3,"offset":6734},"end":{"line":146,"column":16,"offset":6747}}},{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{"align":null},"children":[{"type":"raw","value":"<code class=\"language-text\">FrameBuffer</code>","position":{"start":{"line":146,"column":19,"offset":6750},"end":{"line":146,"column":32,"offset":6763}}}],"position":{"start":{"line":146,"column":19,"offset":6750},"end":{"line":146,"column":32,"offset":6763}}},{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{"align":null},"children":[{"type":"text","value":"Availabel if ","position":{"start":{"line":146,"column":35,"offset":6766},"end":{"line":146,"column":48,"offset":6779}}},{"type":"raw","value":"<code class=\"language-text\">createFrameBuffer: true</code>","position":{"start":{"line":146,"column":48,"offset":6779},"end":{"line":146,"column":73,"offset":6804}}},{"type":"text","value":" was passed to the constructor.","position":{"start":{"line":146,"column":73,"offset":6804},"end":{"line":146,"column":104,"offset":6835}}}],"position":{"start":{"line":146,"column":35,"offset":6766},"end":{"line":146,"column":104,"offset":6835}}},{"type":"text","value":"\n"}],"position":{"start":{"line":146,"column":1,"offset":6732},"end":{"line":146,"column":106,"offset":6837}}},{"type":"text","value":"\n"},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{"align":null},"children":[{"type":"raw","value":"<code class=\"language-text\">_mousePosition</code>","position":{"start":{"line":147,"column":3,"offset":6840},"end":{"line":147,"column":19,"offset":6856}}}],"position":{"start":{"line":147,"column":3,"offset":6840},"end":{"line":147,"column":19,"offset":6856}}},{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{"align":null},"children":[{"type":"raw","value":"<code class=\"language-text\">[x, y]</code>","position":{"start":{"line":147,"column":22,"offset":6859},"end":{"line":147,"column":30,"offset":6867}}},{"type":"text","value":" or ","position":{"start":{"line":147,"column":30,"offset":6867},"end":{"line":147,"column":34,"offset":6871}}},{"type":"raw","value":"<code class=\"language-text\">null</code>","position":{"start":{"line":147,"column":34,"offset":6871},"end":{"line":147,"column":40,"offset":6877}}}],"position":{"start":{"line":147,"column":22,"offset":6859},"end":{"line":147,"column":40,"offset":6877}}},{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{"align":null},"children":[{"type":"text","value":"(","position":{"start":{"line":147,"column":43,"offset":6880},"end":{"line":147,"column":44,"offset":6881}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"experimental","position":{"start":{"line":147,"column":46,"offset":6883},"end":{"line":147,"column":58,"offset":6895}}}],"position":{"start":{"line":147,"column":44,"offset":6881},"end":{"line":147,"column":60,"offset":6897}}},{"type":"text","value":") Current mouse position over the canvas.","position":{"start":{"line":147,"column":60,"offset":6897},"end":{"line":147,"column":101,"offset":6938}}}],"position":{"start":{"line":147,"column":43,"offset":6880},"end":{"line":147,"column":101,"offset":6938}}},{"type":"text","value":"\n"}],"position":{"start":{"line":147,"column":1,"offset":6838},"end":{"line":147,"column":103,"offset":6940}}},{"type":"text","value":"\n"},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{"align":null},"children":[{"type":"raw","value":"<code class=\"language-text\">_offScreen</code>","position":{"start":{"line":148,"column":3,"offset":6943},"end":{"line":148,"column":15,"offset":6955}}}],"position":{"start":{"line":148,"column":3,"offset":6943},"end":{"line":148,"column":15,"offset":6955}}},{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{"align":null},"children":[{"type":"raw","value":"<code class=\"language-text\">Boolean</code>","position":{"start":{"line":148,"column":18,"offset":6958},"end":{"line":148,"column":27,"offset":6967}}}],"position":{"start":{"line":148,"column":18,"offset":6958},"end":{"line":148,"column":27,"offset":6967}}},{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{"align":null},"children":[{"type":"text","value":"(","position":{"start":{"line":148,"column":30,"offset":6970},"end":{"line":148,"column":31,"offset":6971}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"experimental","position":{"start":{"line":148,"column":33,"offset":6973},"end":{"line":148,"column":45,"offset":6985}}}],"position":{"start":{"line":148,"column":31,"offset":6971},"end":{"line":148,"column":47,"offset":6987}}},{"type":"text","value":") If the animation loop is rendering to an OffscreenCanvas.","position":{"start":{"line":148,"column":47,"offset":6987},"end":{"line":148,"column":106,"offset":7046}}}],"position":{"start":{"line":148,"column":30,"offset":6970},"end":{"line":148,"column":106,"offset":7046}}},{"type":"text","value":"\n"}],"position":{"start":{"line":148,"column":1,"offset":6941},"end":{"line":148,"column":108,"offset":7048}}},{"type":"text","value":"\n"},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{"align":null},"children":[{"type":"text","value":"...","position":{"start":{"line":149,"column":3,"offset":7051},"end":{"line":149,"column":6,"offset":7054}}}],"position":{"start":{"line":149,"column":3,"offset":7051},"end":{"line":149,"column":12,"offset":7060}}},{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{"align":null},"children":[{"type":"text","value":"Any fields in the object that was returned by the ","position":{"start":{"line":149,"column":15,"offset":7063},"end":{"line":149,"column":65,"offset":7113}}},{"type":"raw","value":"<code class=\"language-text\">onInitialize</code>","position":{"start":{"line":149,"column":65,"offset":7113},"end":{"line":149,"column":79,"offset":7127}}},{"type":"text","value":" method.","position":{"start":{"line":149,"column":79,"offset":7127},"end":{"line":149,"column":87,"offset":7135}}}],"position":{"start":{"line":149,"column":15,"offset":7063},"end":{"line":149,"column":87,"offset":7135}}},{"type":"text","value":"\n"},{"type":"element","tagName":"td","properties":{"align":null},"children":[]},{"type":"text","value":"\n"}],"position":{"start":{"line":149,"column":1,"offset":7049},"end":{"line":149,"column":89,"offset":7137}}},{"type":"text","value":"\n"}],"position":{"start":{"line":136,"column":1,"offset":5815},"end":{"line":149,"column":89,"offset":7137}}},{"type":"text","value":"\n"}],"position":{"start":{"line":134,"column":1,"offset":5753},"end":{"line":149,"column":89,"offset":7137}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"frame-timers"},"children":[{"type":"element","tagName":"a","properties":{"href":"#frame-timers","aria-hidden":true,"class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"Frame timers","position":{"start":{"line":151,"column":5,"offset":7143},"end":{"line":151,"column":17,"offset":7155}}}],"position":{"start":{"line":151,"column":1,"offset":7139},"end":{"line":151,"column":17,"offset":7155}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"The animation loop tracks GPU and CPU render time of each frame the in member properties ","position":{"start":{"line":152,"column":3,"offset":7158},"end":{"line":152,"column":92,"offset":7247}}},{"type":"raw","value":"<code class=\"language-text\">cpuTime</code>","position":{"start":{"line":152,"column":92,"offset":7247},"end":{"line":152,"column":101,"offset":7256}}},{"type":"text","value":" and ","position":{"start":{"line":152,"column":101,"offset":7256},"end":{"line":152,"column":106,"offset":7261}}},{"type":"raw","value":"<code class=\"language-text\">gpuTime</code>","position":{"start":{"line":152,"column":106,"offset":7261},"end":{"line":152,"column":115,"offset":7270}}},{"type":"text","value":". If ","position":{"start":{"line":152,"column":115,"offset":7270},"end":{"line":152,"column":120,"offset":7275}}},{"type":"raw","value":"<code class=\"language-text\">gpuTime</code>","position":{"start":{"line":152,"column":120,"offset":7275},"end":{"line":152,"column":129,"offset":7284}}},{"type":"text","value":" is set to ","position":{"start":{"line":152,"column":129,"offset":7284},"end":{"line":152,"column":140,"offset":7295}}},{"type":"raw","value":"<code class=\"language-text\">-1</code>","position":{"start":{"line":152,"column":140,"offset":7295},"end":{"line":152,"column":144,"offset":7299}}},{"type":"text","value":", then the timing for the last frame was invalid and should not be used (this rare and might occur, for example, if the GPU was throttled mid-frame).","position":{"start":{"line":152,"column":144,"offset":7299},"end":{"line":152,"column":293,"offset":7448}}}],"position":{"start":{"line":152,"column":1,"offset":7156},"end":{"line":152,"column":293,"offset":7448}}},{"type":"text","value":"\n"}],"position":{"start":{"line":152,"column":1,"offset":7156},"end":{"line":152,"column":293,"offset":7448}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"remarks"},"children":[{"type":"element","tagName":"a","properties":{"href":"#remarks","aria-hidden":true,"class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"Remarks","position":{"start":{"line":154,"column":4,"offset":7453},"end":{"line":154,"column":11,"offset":7460}}}],"position":{"start":{"line":154,"column":1,"offset":7450},"end":{"line":154,"column":11,"offset":7460}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"You can instantiate multiple ","position":{"start":{"line":156,"column":3,"offset":7464},"end":{"line":156,"column":32,"offset":7493}}},{"type":"raw","value":"<code class=\"language-text\">AnimationLoop</code>","position":{"start":{"line":156,"column":32,"offset":7493},"end":{"line":156,"column":47,"offset":7508}}},{"type":"text","value":" classes in parallel, rendering into the same or different ","position":{"start":{"line":156,"column":47,"offset":7508},"end":{"line":156,"column":106,"offset":7567}}},{"type":"raw","value":"<code class=\"language-text\">WebGLRenderingContext</code>","position":{"start":{"line":156,"column":106,"offset":7567},"end":{"line":156,"column":129,"offset":7590}}},{"type":"text","value":"s.","position":{"start":{"line":156,"column":129,"offset":7590},"end":{"line":156,"column":131,"offset":7592}}}],"position":{"start":{"line":156,"column":1,"offset":7462},"end":{"line":156,"column":131,"offset":7592}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Works both in browser and under Node.js.","position":{"start":{"line":157,"column":3,"offset":7595},"end":{"line":157,"column":43,"offset":7635}}}],"position":{"start":{"line":157,"column":1,"offset":7593},"end":{"line":157,"column":43,"offset":7635}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"All ","position":{"start":{"line":158,"column":3,"offset":7638},"end":{"line":158,"column":7,"offset":7642}}},{"type":"raw","value":"<code class=\"language-text\">AnimationLoop</code>","position":{"start":{"line":158,"column":7,"offset":7642},"end":{"line":158,"column":22,"offset":7657}}},{"type":"text","value":" methods can be chained.","position":{"start":{"line":158,"column":22,"offset":7657},"end":{"line":158,"column":46,"offset":7681}}}],"position":{"start":{"line":158,"column":1,"offset":7636},"end":{"line":158,"column":46,"offset":7681}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Postpones context creation until the page (i.e. all HTML) has been loaded. At this time it is safe to specify canvas ids when calling ","position":{"start":{"line":159,"column":3,"offset":7684},"end":{"line":159,"column":137,"offset":7818}}},{"type":"element","tagName":"a","properties":{"href":"/docs/api-reference/webgl/context/context.md"},"children":[{"type":"raw","value":"<code class=\"language-text\">createGLContext</code>","position":{"start":{"line":159,"column":138,"offset":7819},"end":{"line":159,"column":155,"offset":7836}}}],"position":{"start":{"line":159,"column":137,"offset":7818},"end":{"line":159,"column":202,"offset":7883}}},{"type":"text","value":".","position":{"start":{"line":159,"column":202,"offset":7883},"end":{"line":159,"column":203,"offset":7884}}}],"position":{"start":{"line":159,"column":1,"offset":7682},"end":{"line":159,"column":203,"offset":7884}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"The supplied callback function must return a WebGLRenderingContext or an error will be thrown.","position":{"start":{"line":160,"column":3,"offset":7887},"end":{"line":160,"column":97,"offset":7981}}}],"position":{"start":{"line":160,"column":1,"offset":7885},"end":{"line":160,"column":97,"offset":7981}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"This callback registration function should not be called if a ","position":{"start":{"line":161,"column":3,"offset":7984},"end":{"line":161,"column":65,"offset":8046}}},{"type":"raw","value":"<code class=\"language-text\">WebGLRenderingContext</code>","position":{"start":{"line":161,"column":65,"offset":8046},"end":{"line":161,"column":88,"offset":8069}}},{"type":"text","value":" was supplied to the AnimationLoop constructor.","position":{"start":{"line":161,"column":88,"offset":8069},"end":{"line":161,"column":135,"offset":8116}}}],"position":{"start":{"line":161,"column":1,"offset":7982},"end":{"line":161,"column":135,"offset":8116}}},{"type":"text","value":"\n"}],"position":{"start":{"line":156,"column":1,"offset":7462},"end":{"line":161,"column":135,"offset":8116}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":162,"column":1,"offset":8117}}}}