{"expireTime":9007200809748944000,"key":"transformer-remark-markdown-html-7f067344c25c49cf2cb4d4c11e65dda5-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-autolink-headers-","val":"<h1 id=\"transform-webgl2\"><a href=\"#transform-webgl2\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Transform (WebGL2)</h1>\n<p>The <code class=\"language-text\">Transform</code> class provides easy interface to perform Transform Feedback operations on given data. Applications can use this class to move data processing from CPU to GPU, where multiple parallel execution units will be used for processing. Data is handled in form of <code class=\"language-text\">Buffer</code> objects, i.e. data resides in the GPU memory. Output of this class can directly set as attributes on <code class=\"language-text\">Model</code> or <code class=\"language-text\">VertexArray</code> for regular rendering operations, CPU access is not required hence avoids expensive CPU and GPU sync.</p>\n<p><code class=\"language-text\">Transform</code> class creates and holds <code class=\"language-text\">Model</code> and <code class=\"language-text\">TransformFeedback</code> instances.</p>\n<p>This class is only supported when using <code class=\"language-text\">WebGL2RenderingContext</code>.</p>\n<h3 id=\"use-case--specify-source-and-destination-buffers\"><a href=\"#use-case--specify-source-and-destination-buffers\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Use case : Specify source and destination buffers.</h3>\n<p>Create a <code class=\"language-text\">Transform</code> object by passing, vs (vertex shader), source buffer(s), varyings (output variable names in vertex shader) and destination buffers. Then call <code class=\"language-text\">run</code> to perform one transform feedback iteration.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token constant\">VS</span> <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token string\">`\\\n#version 300 es\nattribute float inValue;\nvarying float outValue;\n\nvoid main()\n{\n  outValue = 2.0 * inValue;\n}\n`</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> sourceData <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Float32Array</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span> <span class=\"token number\">31</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">57</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> sourceBuffer <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Buffer</span><span class=\"token punctuation\">(</span>gl<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>data<span class=\"token punctuation\">:</span> sourceData<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Default values applied for size (1) and type (gl.FLOAT)</span>\n<span class=\"token keyword\">const</span> feedbackBuffer <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Buffer</span><span class=\"token punctuation\">(</span>gl<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>byteLength<span class=\"token punctuation\">:</span> sourceData<span class=\"token punctuation\">.</span>length <span class=\"token operator\">*</span> <span class=\"token number\">4</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> transform <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Transform</span><span class=\"token punctuation\">(</span>gl2<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  sourceBuffers<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    inValue<span class=\"token punctuation\">:</span> sourceBuffer\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  feedbackBuffers<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    outValue<span class=\"token punctuation\">:</span> feedbackBuffer\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  vs<span class=\"token punctuation\">:</span> <span class=\"token constant\">VS</span><span class=\"token punctuation\">,</span>\n  varyings<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'outValue'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  elementCount<span class=\"token punctuation\">:</span> <span class=\"token number\">5</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Perform one transform feedback iteration</span>\ntransform<span class=\"token punctuation\">.</span><span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3 id=\"use-case--create-destination-buffers-automatically\"><a href=\"#use-case--create-destination-buffers-automatically\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Use case : Create destination buffers automatically.</h3>\n<p><code class=\"language-text\">Transform</code> can internally create destination buffers (i.e. feedback buffers), when <code class=\"language-text\">feedbackMap</code> is provided. Each destination buffer is created with same settings and layout as corresponding source buffer as per <code class=\"language-text\">feedbackMap</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> transform <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Transform</span><span class=\"token punctuation\">(</span>gl2<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  sourceBuffers<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    inValue<span class=\"token punctuation\">:</span> sourceBuffer\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  feedbackMap<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    inValue<span class=\"token punctuation\">:</span> <span class=\"token string\">'outValue'</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  vs<span class=\"token punctuation\">:</span> <span class=\"token constant\">VS</span><span class=\"token punctuation\">,</span>\n  varyings<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'outValue'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  elementCount<span class=\"token punctuation\">:</span> <span class=\"token number\">5</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3 id=\"use-case--multiple-iterations-using-swap\"><a href=\"#use-case--multiple-iterations-using-swap\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Use case : Multiple iterations using swap().</h3>\n<p>When <code class=\"language-text\">feedbackMap</code> is specified buffers can be swapped using a single call to <code class=\"language-text\">swap()</code>, this is useful for cases like particle simulation, where output of one transform feedback iteration is piped as input to the next iteration.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// Setup Transform with `feedbackMap` as above</span>\n\ntransform<span class=\"token punctuation\">.</span><span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">let</span> bufferWithNewValues <span class=\"token operator\">=</span> transform<span class=\"token punctuation\">.</span><span class=\"token function\">getBuffer</span><span class=\"token punctuation\">(</span><span class=\"token string\">'outValue'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token operator\">...</span>\n<span class=\"token comment\">// Render using 'bufferWithNewValues'</span>\n<span class=\"token operator\">...</span>\n\n<span class=\"token comment\">//swap buffers</span>\ntransform<span class=\"token punctuation\">.</span><span class=\"token function\">swap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ntransform<span class=\"token punctuation\">.</span><span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nbufferWithNewValues <span class=\"token operator\">=</span> transform<span class=\"token punctuation\">.</span><span class=\"token function\">getBuffer</span><span class=\"token punctuation\">(</span><span class=\"token string\">'outValue'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token operator\">...</span>\n<span class=\"token comment\">// Render using 'bufferWithNewValues'</span>\n<span class=\"token operator\">...</span></code></pre></div>\n<h3 id=\"use-case--update-one-or-more-buffers-using-update-method\"><a href=\"#use-case--update-one-or-more-buffers-using-update-method\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Use case : Update one or more buffers using update() method..</h3>\n<p>Once <code class=\"language-text\">Transform</code> object is constructed and used, one or more source or destination buffers can be updated using <code class=\"language-text\">update</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// transform is set up as above</span>\n<span class=\"token operator\">...</span>\n\n<span class=\"token comment\">// update buffer binding for 'inValue' attribute</span>\n<span class=\"token keyword\">const</span> newSourceBuffer <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Buffer</span><span class=\"token punctuation\">(</span>gl<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>data<span class=\"token punctuation\">:</span> newSourceData<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ntransform<span class=\"token punctuation\">.</span><span class=\"token function\">update</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  sourceBuffers<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    inValue<span class=\"token punctuation\">:</span> newSourceBuffer\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// now data is provided from newly bound buffer.</span>\ntransform<span class=\"token punctuation\">.</span><span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3 id=\"use-case--reading-source-data-from-texture-object-experimental\"><a href=\"#use-case--reading-source-data-from-texture-object-experimental\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Use case : Reading source data from texture object (Experimental)</h3>\n<p>In addition to reading data from Buffer objects, Transform can read from texture objects. Transform allows to access texture data in the same way as buffer data and internally generates required texture co-ordinates and sample instructions.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// simple shader that adds data from a buffer and texture to generate new buffer.</span>\n\n<span class=\"token keyword\">const</span> vs <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token string\">`\\\n#version 300 es\nin float inBuffer;\nin float inTexture;\nout float outBuffer;\n\nvoid main()\n{\n  outBuffer = inTexture + inBuffer;\n}`</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> sourceBuffer <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Buffer</span><span class=\"token punctuation\">(</span><span class=\"token operator\">...</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> sourceTexture <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Texture2D</span><span class=\"token punctuation\">(</span><span class=\"token operator\">...</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> transform <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Transform</span><span class=\"token punctuation\">(</span>gl2<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  sourceBuffers<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    inBuffer<span class=\"token punctuation\">:</span> sourceBuffer\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">// specify source texture object using input attribute name</span>\n  _sourceTextures<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    inTexture<span class=\"token punctuation\">:</span> sourceTexture\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  vs<span class=\"token punctuation\">,</span>\n  feedbackMap<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    inBuffer<span class=\"token punctuation\">:</span> <span class=\"token string\">'outBuffer'</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  elementCount\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\ntransform<span class=\"token punctuation\">.</span><span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// resulting buffer contains sum of input buffer and texture data.</span>\n<span class=\"token keyword\">const</span> outData <span class=\"token operator\">=</span> transform<span class=\"token punctuation\">.</span><span class=\"token function\">getBuffer</span><span class=\"token punctuation\">(</span><span class=\"token string\">'outBuffer'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3 id=\"use-case--generating-a-texture-object-experimental\"><a href=\"#use-case--generating-a-texture-object-experimental\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Use case : Generating a texture object (Experimental)</h3>\n<p>In addition to reading data from a texture object, Transform can generate texture object, by rendering data into it offline. Source data can be either buffer(s), texture(s) or any combination.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> vs <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token string\">`\\\n#version 300 es\nin vec4 inTexture;\nout vec4 outTexture;\n\nvoid main()\n{\n  outTexture = 2. *  inTexture;\n}\n`</span></span>\n<span class=\"token keyword\">const</span> sourceTexture <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Texture2D</span><span class=\"token punctuation\">(</span><span class=\"token operator\">...</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> transform <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Transform</span><span class=\"token punctuation\">(</span>gl2<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  _sourceTextures<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    inTexture<span class=\"token punctuation\">:</span> sourceTexture\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  _targetTexture<span class=\"token punctuation\">:</span> <span class=\"token string\">'inTexture'</span><span class=\"token punctuation\">,</span>\n  _targetTextureVarying<span class=\"token punctuation\">:</span> <span class=\"token string\">'outTexture'</span><span class=\"token punctuation\">,</span>\n  vs<span class=\"token punctuation\">,</span>\n  elementCount\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\ntransform<span class=\"token punctuation\">.</span><span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> outTexture <span class=\"token operator\">=</span> transform<span class=\"token punctuation\">.</span><span class=\"token function\">_getTargetTexture</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"constructor\"><a href=\"#constructor\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Constructor</h2>\n<h3 id=\"transformgl--webgl2renderingcontext-props-object\"><a href=\"#transformgl--webgl2renderingcontext-props-object\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Transform(gl : WebGL2RenderingContext, props: Object)</h3>\n<p>Constructs a <code class=\"language-text\">Transform</code> object. It then creates destination buffers if needed and binds the buffers to <code class=\"language-text\">Model</code> and <code class=\"language-text\">TransformFeedback</code> objects.</p>\n<ul>\n<li><code class=\"language-text\">gl</code> (<code class=\"language-text\">WebGL2RenderingContext</code>) gl - context</li>\n<li><code class=\"language-text\">props.sourceBuffers</code> (<code class=\"language-text\">Object</code>) - key and value pairs, where key is the name of vertex shader attribute and value is the corresponding <code class=\"language-text\">Attribute</code>, <code class=\"language-text\">Buffer</code> or attribute descriptor object.</li>\n<li>\n<p><code class=\"language-text\">props.feedbackBuffers</code> (<code class=\"language-text\">Object</code>, Optional) - key and value pairs, where key is the name of vertex shader varying and value is the corresponding <code class=\"language-text\">Buffer</code> object or buffer params object. If a buffer params object is specified, it will contain following fields, these can be used to capture data into the buffer a particular offset and size.</p>\n<ul>\n<li><code class=\"language-text\">buffer</code>=(Buffer) - Buffer object to be bound.</li>\n<li><code class=\"language-text\">byteOffset</code>=(Number, default: 0) - Byte offset that is used to start recording the data in the buffer.</li>\n<li><code class=\"language-text\">byteSize</code>=(Number, default: remaining buffer size) - Size in bytes that is used for recording the data.</li>\n</ul>\n</li>\n<li><code class=\"language-text\">props.vs</code> (<code class=\"language-text\">String</code>) - vertex shader string.</li>\n<li><code class=\"language-text\">props.modules</code> - shader modules to be applied.</li>\n<li><code class=\"language-text\">props.varyings</code> (<code class=\"language-text\">Array</code>) - Array of vertex shader varyings names. When not provided this can be deduced from <code class=\"language-text\">feedbackMap</code>. Either <code class=\"language-text\">varyings</code> or <code class=\"language-text\">feedbackMap</code> must be provided.</li>\n<li><code class=\"language-text\">props.feedbackMap</code> (<code class=\"language-text\">Object</code>, Optional) - key and value pairs, where key is a vertex shader attribute name and value is a vertex shader varying name.</li>\n<li><code class=\"language-text\">props.drawMode</code> (<code class=\"language-text\">GLEnum</code> = gl.POINTS, Optional) - Draw mode to be set on <code class=\"language-text\">Model</code> and <code class=\"language-text\">TransformFeedback</code> objects during draw/render time.</li>\n<li>\n<p><code class=\"language-text\">props.elementCount</code> (<code class=\"language-text\">Integer</code>) - Number set to vertex count when rendering the model.</p>\n<h4 id=\"experimental\"><a href=\"#experimental\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Experimental</h4>\n</li>\n<li><code class=\"language-text\">props._sourceTextures</code> (<code class=\"language-text\">Object</code>) - key and value pairs, where key is the name of vertex shader attribute and value is the corresponding <code class=\"language-text\">Texture2D</code> object.</li>\n<li><code class=\"language-text\">props._targetTexture</code> (<code class=\"language-text\">Texture2D</code> or <code class=\"language-text\">String</code>) - Defines texture object that is used as color attachment for rendering. If <code class=\"language-text\">Texture2D</code> object, it is used as is, if <code class=\"language-text\">String</code>, it must be one of the source texture attributes name, a new texture object is cloned from corresponding texture and used as color attachment.</li>\n<li><code class=\"language-text\">props._targetTextureVarying</code> (<code class=\"language-text\">String</code>) : varying name used in vertex shader who's data should go into target texture.</li>\n<li><code class=\"language-text\">props._swapTexture</code> (<code class=\"language-text\">String</code>) : source texture attribute name, that is swapped with target texture every time <code class=\"language-text\">swap()</code> is called.</li>\n</ul>\n<p>Notes:</p>\n<ul>\n<li>Internally, creates <code class=\"language-text\">Model</code>, <code class=\"language-text\">TransformFeedback</code> and <code class=\"language-text\">Framebuffer</code> instances.</li>\n</ul>\n<h3 id=\"delete--transform\"><a href=\"#delete--transform\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>delete() : Transform</h3>\n<p>Deletes all owned resources, <code class=\"language-text\">Model</code>, <code class=\"language-text\">TransformFeedback</code> and any <code class=\"language-text\">Buffer</code> objects that are crated internally.</p>\n<h2 id=\"methods\"><a href=\"#methods\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Methods</h2>\n<h3 id=\"getbuffervaryingname--string--buffer\"><a href=\"#getbuffervaryingname--string--buffer\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>getBuffer(varyingName : String) : Buffer</h3>\n<p>Returns current destination buffer corresponding to given varying name.</p>\n<ul>\n<li><code class=\"language-text\">varyingName</code> (<code class=\"language-text\">String</code>) - varying name.</li>\n</ul>\n<h3 id=\"getdataoptions--object--arraybufferview\"><a href=\"#getdataoptions--object--arraybufferview\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>getData([options : Object]) : ArrayBufferView</h3>\n<p>Reads and returns data from current destination buffer corresponding to the given varying name. When no 'varyingName' is provided, it reads and returns data from current target texture.</p>\n<ul>\n<li><code class=\"language-text\">options.varyingName</code> (<code class=\"language-text\">String</code>, Optional) - when specified, first checks if there is a corresponding feedback buffer, if so reads data from this buffer and returns. When not specified, there must be target texture and data is read from this texture and returned.</li>\n<li><code class=\"language-text\">options.packed</code> (Boolean, Optional, Default: false) - applicable only when reading data from target texture, when true, data is packed to the actual size varyings. When false return array contains 4 values (R, G, B and A) for each element. Un-used element value will be 0 for R, G and B and 1 for A channel.</li>\n</ul>\n<h3 id=\"getframebuffer--framebuffer\"><a href=\"#getframebuffer--framebuffer\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>getFramebuffer() : Framebuffer</h3>\n<p>When rendering to a texture, i.e. <code class=\"language-text\">_targetTexture</code> is set, <code class=\"language-text\">Transform</code> class internally setups a <code class=\"language-text\">Framebuffer</code> object. <code class=\"language-text\">getFramebuffer()</code> returns this <code class=\"language-text\">Framebuffer</code> object.</p>\n<h3 id=\"rununiforms--object-unbindmodels--object--transform\"><a href=\"#rununiforms--object-unbindmodels--object--transform\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>run({uniforms : Object, unbindModels : Object}) : Transform</h3>\n<p>Performs one transform feedback iteration.</p>\n<ul>\n<li><code class=\"language-text\">uniforms</code>=<code class=\"language-text\">null</code> (<code class=\"language-text\">Object</code> = {}, Optional) - Sets uniforms before rendering.</li>\n<li><code class=\"language-text\">unbindModels</code>=<code class=\"language-text\">[]</code> (Model[]) - Array of models whose VertexAttributes will be temporarily unbound during the transform feedback to avoid triggering a possible <a href=\"https://github.com/KhronosGroup/WebGL/issues/2346\">Khronos/Chrome bug</a>.</li>\n</ul>\n<h3 id=\"updateprops--transform\"><a href=\"#updateprops--transform\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>update(props) : Transform</h3>\n<p>Updates buffer bindings with provided buffer objects for one or more source or destination buffers.</p>\n<ul>\n<li><code class=\"language-text\">props.sourceBuffers</code> (<code class=\"language-text\">Object</code>) - key and value pairs, where key is the name of vertex shader attribute and value is the corresponding <code class=\"language-text\">Attribute</code>, <code class=\"language-text\">Buffer</code> or attribute descriptor object.</li>\n<li><code class=\"language-text\">props.feedbackBuffers</code> (<code class=\"language-text\">Object</code>, Optional) - key and value pairs, where key is the name of vertex shader varying and value is the corresponding <code class=\"language-text\">Buffer</code> object.</li>\n<li><code class=\"language-text\">props.elementCount</code> (<code class=\"language-text\">Integer</code>, Optional) - Number set to vertex count when rendering the model. If not supplied, the previously set element count is used.</li>\n</ul>\n<h3 id=\"swap--transform\"><a href=\"#swap--transform\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>swap() : Transform</h3>\n<p>Swaps source and destination buffers and textures. Buffer swapping is performed when <code class=\"language-text\">feedbackMap</code> is provided and texture swapping is performed when <code class=\"language-text\">_swapTexture</code> is provided. If buffer swapping is needed, <code class=\"language-text\">sourceBuffers</code> and <code class=\"language-text\">feedbackBuffers</code> supplied to the constructor and/or the <code class=\"language-text\">update</code> method must be <code class=\"language-text\">Buffer</code> objects.</p>\n<h3 id=\"_gettargettexture--texture2dnull-experimental\"><a href=\"#_gettargettexture--texture2dnull-experimental\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>_getTargetTexture() : Texture2D/null (EXPERIMENTAL)</h3>\n<p>When transform is setup to render to a texture, returns current target texture, otherwise null.</p>"}