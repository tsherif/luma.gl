{"expireTime":9007200809748944000,"key":"transformer-remark-markdown-html-3815c5bb50152bea09562f4de35aac3c-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-autolink-headers-","val":"<h1 id=\"vertexarray\"><a href=\"#vertexarray\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>VertexArray</h1>\n<p>The <code class=\"language-text\">VertexArray</code> class (like its lower level counterpart, the <code class=\"language-text\">VertexArrayObject</code>) manages an \"array\" of values (\"buffers\") that will be made available as input data to shaders during a draw call. For each WebGL <code class=\"language-text\">Buffer</code>, the <code class=\"language-text\">VertexArray</code> also stores some additional information about how that data in the buffer should be accessed, such as offsets, strides, etc, and whether the attribute is instanced.</p>\n<p>The <code class=\"language-text\">VertexArray</code> class provides the following features on top of the lower level <code class=\"language-text\">VertexArrayObject</code> class:</p>\n<ul>\n<li>\n<p>Reads a \"program configuration\", enabling attributes to be set using names instead of locations</p>\n</li>\n<li>\n<p>Avoids duplicating information already specified in shaders, such as size and type of attributes.</p>\n</li>\n<li>\n<p>Automatic deduction of draw parameters from currently set attributes</p>\n</li>\n<li>\n<p>Handles the \"constant attribute 0\" complication that is common on desktop WebGL browsers.</p>\n</li>\n<li>\n<p>Can generated debug output of attribute bank</p>\n</li>\n<li>\n<p>Can fall back to sharing single <code class=\"language-text\">VertexArrayObject</code> across all <code class=\"language-text\">VertexArray</code> objects.</p>\n</li>\n</ul>\n<blockquote>\n<p>The <code class=\"language-text\">VertexArray</code> is a wrapper class around the <code class=\"language-text\">VertexArrayObject</code> class which encapsulates the underlying WebGL object. The <code class=\"language-text\">VertexArrayObject</code> class has a number of complications that the <code class=\"language-text\">VertexArray</code> takes care of.</p>\n</blockquote>\n<blockquote>\n<p>It is usually not necessary to create <code class=\"language-text\">VertexArray</code> instances in luma.gl applications. The application can just supply a map of <code class=\"language-text\">attributes</code> to the <a href=\"/docs/api-reference/core/model.md\"><code class=\"language-text\">Model</code></a> class, and rely on that class to automatically manage the vertex attributes array and supply it to any draw calls (e.g. when rendering, picking etc). Still, it can be useful to review this documentation to better understand how attributes are handled.</p>\n</blockquote>\n<p>For more information on the WebGL <code class=\"language-text\">VertexArrayObject</code>, see the <a href=\"https://www.khronos.org/opengl/wiki/Vertex_Specification#Vertex_Array_Object\">OpenGL Wiki</a>.</p>\n<h2 id=\"usage\"><a href=\"#usage\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Usage</h2>\n<p>Import the <code class=\"language-text\">VertexArray</code> class so that your app can use it:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span>VertexArray<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@luma.gl/core'</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Create a new VertexArray</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> vao <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">VertexArray</span><span class=\"token punctuation\">(</span>gl<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Deleting a VertexArray</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">vertexArrayObject<span class=\"token punctuation\">.</span><span class=\"token function\">delete</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Adding attributes to a VertexArray: without program metadata, buffers must be specified using location indices</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">const vertexArray2 = new VertexArray(gl);\nvertexArray2.setBuffers({\n  0: new Buffer({data: new Float32Array([...]), ...})\n});</code></pre></div>\n<p>Adding attributes to a VertexArray: adding a program configuration enables setting attributes by name</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// Register attribute info extracted from program shaders</span>\n<span class=\"token keyword\">const</span> program <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Program</span><span class=\"token punctuation\">(</span>gl<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> vertexArray <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">VertexArray</span><span class=\"token punctuation\">(</span>gl<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>program<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Now it is possible to set buffers using attribute names</span>\nvertexArray<span class=\"token punctuation\">.</span><span class=\"token function\">setAttributes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  aColor<span class=\"token punctuation\">:</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Buffer</span><span class=\"token punctuation\">(</span>gl<span class=\"token punctuation\">,</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Uint8Array</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token operator\">...</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nSetting a <span class=\"token keyword\">set</span> <span class=\"token keyword\">of</span> attributes and an elements array\n\n<span class=\"token template-string\"><span class=\"token string\">``</span></span><span class=\"token template-string\"><span class=\"token string\">`js\nconst vertexArray = new VertexArray(gl, {\n  attributes: {\n    elements: new Buffer(gl, {target: GL.ELEMENT_ARRAY_BUFFER, data: new Uint32Array([...])}),\n  \tpositions: new Buffer(gl, {data: new Float32Array([...])})\n  }\n}\n\nSetting a constant vertex attribute\n\n`</span></span><span class=\"token template-string\"><span class=\"token string\">``</span></span>js\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span>VertexArray<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@luma.gl/core'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> vao <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">VertexArray</span><span class=\"token punctuation\">(</span>gl<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nvao<span class=\"token punctuation\">.</span><span class=\"token function\">setConstant</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"constructor\"><a href=\"#constructor\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Constructor</h2>\n<h3 id=\"vertexarraygl--webglrenderingcontext-props--object\"><a href=\"#vertexarraygl--webglrenderingcontext-props--object\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>VertexArray(gl : WebGLRenderingContext, props : Object)</h3>\n<p>Creates a new VertexArray</p>\n<ul>\n<li><code class=\"language-text\">props</code> (Object) - passed through to <code class=\"language-text\">Resource</code> superclass constructor and to <code class=\"language-text\">initialize</code> it.</li>\n</ul>\n<h2 id=\"methods\"><a href=\"#methods\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Methods</h2>\n<h3 id=\"initializeprops--object--vertexarray\"><a href=\"#initializeprops--object--vertexarray\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>initialize(props : Object) : VertexArray</h3>\n<p>Reinitializes a <code class=\"language-text\">VertexArray</code>.</p>\n<ul>\n<li><code class=\"language-text\">attributes</code>=<code class=\"language-text\">{}</code> (<code class=\"language-text\">Object</code>) - map of attributes, can be keyed by index or names, can be constants (small arrays), <code class=\"language-text\">Buffer</code>, arrays or typed arrays of numbers, or attribute descriptors.</li>\n<li><code class=\"language-text\">elements</code>=<code class=\"language-text\">null</code> (<code class=\"language-text\">Buffer</code>) - optional buffer representing elements array (i.e. indices)</li>\n<li><code class=\"language-text\">program</code> - Transfers information on vertex attribute locations and types to this vertex array.</li>\n</ul>\n<h3 id=\"setattributesattributes--object--vertexarray\"><a href=\"#setattributesattributes--object--vertexarray\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>setAttributes(attributes : Object) : VertexArray</h3>\n<p>Sets named uniforms from a map.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">program<span class=\"token punctuation\">.</span><span class=\"token function\">setAttributes</span><span class=\"token punctuation\">(</span>attributes <span class=\"token punctuation\">:</span> Object<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li><code class=\"language-text\">attributes</code> - (<em>object</em>) An object with key value pairs matching a buffer name and its value respectively.</li>\n</ul>\n<p>Attributes is an object with key-value pairs: <code class=\"language-text\">{nameOrLocation: value, ....}</code>.</p>\n<ul>\n<li><code class=\"language-text\">nameOrLocation</code> - (<em>string|number</em>) The name of the attribute as declared in the shader, or the location specified by a layout qualifier in the shader. The name can contain an offset to the actual location in the format of <code class=\"language-text\">name__LOCATION_0</code>. This is useful for setting <em>mat</em> type attributes. See the section at the bottom for more details.</li>\n<li><code class=\"language-text\">value</code> - (<em>Buffer|Array|typed array</em>) An attribute value must be a <code class=\"language-text\">Buffer</code> or a typed array.</li>\n</ul>\n<p>Each value can be an a <code class=\"language-text\">Buffer</code>, an <code class=\"language-text\">Array</code> starting with a <code class=\"language-text\">Buffer</code> or a typed array.</p>\n<ul>\n<li>Typed Array - Sets a constant value as if <code class=\"language-text\">.setConstant(value)</code>  was called.</li>\n<li><code class=\"language-text\">Buffer</code> - Binds the atttribute to a buffer, using buffer's accessor data as if <code class=\"language-text\">.setBuffer(value)</code> was called.</li>\n<li><code class=\"language-text\">Array</code> - Binds the atttribute to a buffer, with extra accessor data overrides. Expects a two element array with <code class=\"language-text\">[buffer : Buffer, accessor : Object]</code>. Binds the attribute to the buffer as if <code class=\"language-text\">.setBuffer(buffer, accessor)</code> was called.</li>\n</ul>\n<h3 id=\"setconstantvalue--array---accessor--object--vertexarray\"><a href=\"#setconstantvalue--array---accessor--object--vertexarray\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>setConstant(value : Array  [, accessor : Object]) : VertexArray</h3>\n<p>Sets a constant value for a vertex attribute. When this <code class=\"language-text\">VertexArray</code> is used in a <code class=\"language-text\">Program.draw()</code> call, all Vertex Shader invocations will get the same value.</p>\n<p><code class=\"language-text\">VertexArray.setConstant(location, array);</code></p>\n<ul>\n<li><code class=\"language-text\">gl</code> (<code class=\"language-text\">WebGLRenderingContext</code>) - gl context</li>\n<li><code class=\"language-text\">location</code> (<em>GLuint</em>) - index of the attribute</li>\n</ul>\n<p>WebGL APIs:\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/vertexAttrib\">vertexAttrib4[u]{f,i}v</a></p>\n<h3 id=\"setbuffernameorlocation-buffer--buffer--accessor--object--vertexarray\"><a href=\"#setbuffernameorlocation-buffer--buffer--accessor--object--vertexarray\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>setBuffer(nameOrLocation, buffer : Buffer [, accessor : Object]) : VertexArray</h3>\n<p>Binds the specified attribute in this vertex array to the supplied buffer</p>\n<ul>\n<li>Set a location in vertex attributes array to a buffer, specifying</li>\n<li>its data layout and integer to float conversion and normalization flags</li>\n</ul>\n<p><code class=\"language-text\">setBuffer(location, buffer);</code>\n<code class=\"language-text\">setBuffer(location, buffer, {offset = 0, stride = 0, normalized = false, integer = false});</code></p>\n<ul>\n<li><code class=\"language-text\">location</code> (<em>GLuint</em> | <em>String</em>) - index/ordinal number of the attribute</li>\n<li><code class=\"language-text\">buffer</code> (<em>WebGLBuffer</em>|<em>Buffer</em>) - WebGL buffer to set as value</li>\n</ul>\n<p><a href=\"\">gl.vertexAttrib{I}Pointer</a>, <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/WebGL2RenderingContext/vertexAttribDivisor\">gl.vertexAttribDivisor</a></p>\n<h3 id=\"setelementbufferbuffer--buffer--accessor--object--vertexarray\"><a href=\"#setelementbufferbuffer--buffer--accessor--object--vertexarray\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>setElementBuffer(buffer : Buffer [, accessor : Object]) : VertexArray</h3>\n<p>Binds the supplied buffer as index buffer (<code class=\"language-text\">GL.ELEMENT_ARRAY_BUFFER</code>).</p>\n<h2 id=\"attribute-accessors\"><a href=\"#attribute-accessors\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Attribute Accessors</h2>\n<p>When setting <code class=\"language-text\">Buffer</code> attributes, additional data can be provided to specify how the buffer should be accessed. This data can be stored directly on the <code class=\"language-text\">Buffer</code> accessor or supplied to <code class=\"language-text\">.setBuffer</code>.</p>\n<ul>\n<li>\n<p><code class=\"language-text\">target</code>=<code class=\"language-text\">buffer.target</code> (<em>GLuint</em>, ) - which target to bind to</p>\n</li>\n<li>\n<p><code class=\"language-text\">size</code> (<em>GLuint</em>)  - number of values (components) per element (1-4)</p>\n</li>\n<li>\n<p><code class=\"language-text\">type</code> (<em>GLuint</em>)  - type of values (e.g. gl.FLOAT)</p>\n</li>\n<li>\n<p><code class=\"language-text\">normalized</code> (<em>boolean</em>, false) - normalize integers to [-1,1] or [0,1]</p>\n</li>\n<li>\n<p><code class=\"language-text\">integer</code> (<em>boolean</em>, false) - <code class=\"language-text\">WebGL2</code> disable int-to-float conversion</p>\n</li>\n<li>\n<p><code class=\"language-text\">stride</code> (<em>GLuint</em>, 0) - supports strided arrays</p>\n</li>\n<li>\n<p><code class=\"language-text\">offset</code> (<em>GLuint</em>, 0) - supports strided arrays</p>\n</li>\n<li>\n<p><code class=\"language-text\">layout.normalized</code>=<code class=\"language-text\">false</code> (GLbool) - normalize integers to [-1,1], [0,1]</p>\n</li>\n<li>\n<p><code class=\"language-text\">layout.integer</code>=<code class=\"language-text\">false</code> (GLuint) - WebGL2 only, disable int-to-float conv.</p>\n</li>\n<li>\n<p><code class=\"language-text\">divisor</code> - Sets the frequency divisor used for instanced rendering (instances that pass between updates of attribute). Usually simply set to 1 or 0 to enable/disable instanced rendering. 0 disables instancing, >=1 enables it.</p>\n</li>\n</ul>\n<h2 id=\"notes-about-integer-attributes\"><a href=\"#notes-about-integer-attributes\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Notes about Integer Attributes</h2>\n<ul>\n<li>The application can enable normalization by setting the <code class=\"language-text\">normalized</code> flag to <code class=\"language-text\">true</code> in the <code class=\"language-text\">setBuffer</code> call.</li>\n<li><strong>WebGL2</strong> The application can disable integer to float conversion when running under WebGL2, by setting the <code class=\"language-text\">integer</code> flag to <code class=\"language-text\">true</code>.</li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/WebGL2RenderingContext/vertexAttribIPointer\"><code class=\"language-text\">glVertexAttribIPointer</code></a> specifies <em>integer</em> data formats and locations of vertex attributes. Values are always left as integer values. Only accepts the integer types gl.BYTE, gl.UNSIGNED<em>BYTE, gl.SHORT, gl.UNSIGNED</em>SHORT, gl.INT, gl.UNSIGNED_INT</li>\n</ul>\n<h2 id=\"notes-about-instanced-rendering\"><a href=\"#notes-about-instanced-rendering\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Notes about Instanced Rendering</h2>\n<ul>\n<li>About setting <code class=\"language-text\">divisor</code> in attributes: Instanced attributes requires WebGL2 or a (widely supported) WebGL1 extension. Apps can use the luma.gl feature detection system to determine if instanced rendering is available, though the extension is so ubiquitously supported that many apps just make the assumption: <a href=\"https://webglstats.com/webgl/extension/ANGLE_instanced_arrays\">instanced_arrays</a>.</li>\n<li>An attribute is referred to as <strong>instanced</strong> if its divisor value is non-zero.</li>\n<li>The divisor modifies the rate at which vertex attributes advance when rendering multiple instances of primitives in a single draw call.</li>\n<li>If divisor is zero, the attribute at slot index advances once per vertex.</li>\n<li>If divisor is non-zero, the attribute advances once per divisor instances of the set(s) of vertices being rendered.</li>\n</ul>\n<h2 id=\"notes-about-setting-mat-type-attributes\"><a href=\"#notes-about-setting-mat-type-attributes\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Notes about setting <em>mat</em> type attributes</h2>\n<ul>\n<li>Setting a <strong>mat</strong> type in the shader requires to manually add an <em>offset</em> to the location.</li>\n<li>This can be done by using special name format <code class=\"language-text\">name__LOCATION_0</code>. This will add 0 to the <em>LOCATION</em> resulting in no change. <code class=\"language-text\">name__LOCATION_1</code> will add <strong>1</strong>.</li>\n<li>\n<p>For example:</p>\n<ul>\n<li>\n<p>if we have the following declaration in the shader:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">attribute mat4 matrix;</code></pre></div>\n</li>\n<li>We should specify <code class=\"language-text\">matrix__LOCATION_0</code>, <code class=\"language-text\">matrix__LOCATION_1</code>, <code class=\"language-text\">matrix__LOCATION_2</code> <strong>and</strong> <code class=\"language-text\">matrix__LOCATION_3</code> as <em>vec4</em>.</li>\n</ul>\n</li>\n</ul>"}