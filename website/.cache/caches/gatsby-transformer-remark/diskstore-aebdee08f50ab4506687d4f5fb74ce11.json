{"expireTime":9007200809748933000,"key":"transformer-remark-markdown-ast-9cebeaf0c34ccd5303d9051b4f5c241d-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-autolink-headers-","val":{"type":"root","children":[{"type":"heading","depth":1,"children":[{"type":"link","url":"#using-with-nodejs","title":null,"data":{"hProperties":{"aria-hidden":true,"class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Using with Node.js","position":{"start":{"line":1,"column":3,"offset":2},"end":{"line":1,"column":21,"offset":20},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":1,"column":21,"offset":20},"indent":[]},"data":{"id":"using-with-nodejs","htmlAttributes":{"id":"using-with-nodejs"},"hProperties":{"id":"using-with-nodejs"}}},{"type":"paragraph","children":[{"type":"text","value":"Even though WebGL is a browser API, when running in Node.js applications can safely import luma.gl without any ill effects. However in a default luma.gl configuration (installation) the application will not be able to create WebGL contexts under Node.js, meaning that most of the luma.gl API remains unavailable.","position":{"start":{"line":3,"column":1,"offset":22},"end":{"line":3,"column":313,"offset":334},"indent":[]}}],"position":{"start":{"line":3,"column":1,"offset":22},"end":{"line":3,"column":313,"offset":334},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"To get around this, luma.gl is integrated with the ","position":{"start":{"line":5,"column":1,"offset":336},"end":{"line":5,"column":52,"offset":387},"indent":[]}},{"type":"link","title":null,"url":"https://www.npmjs.com/package/gl","children":[{"type":"text","value":"headless-gl","position":{"start":{"line":5,"column":53,"offset":388},"end":{"line":5,"column":64,"offset":399},"indent":[]}}],"position":{"start":{"line":5,"column":52,"offset":387},"end":{"line":5,"column":99,"offset":434},"indent":[]}},{"type":"text","value":" module which provides a WebGL1 API implementation under Node.js (even emulating OpenGL in software if needed, allowing luma.gl to run on server machines that do not have GPUs).","position":{"start":{"line":5,"column":99,"offset":434},"end":{"line":5,"column":276,"offset":611},"indent":[]}}],"position":{"start":{"line":5,"column":1,"offset":336},"end":{"line":5,"column":276,"offset":611},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The main limitation is that ","position":{"start":{"line":7,"column":1,"offset":613},"end":{"line":7,"column":29,"offset":641},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">headless-gl</code>","position":{"start":{"line":7,"column":29,"offset":641},"end":{"line":7,"column":42,"offset":654},"indent":[]}},{"type":"text","value":" only supports WebGL1 and almost no extensions, so you will need to carefully choose what features you use in your code. luma.gl's capability detection API and shader transpilation features can be helpful here.","position":{"start":{"line":7,"column":42,"offset":654},"end":{"line":7,"column":252,"offset":864},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":613},"end":{"line":7,"column":252,"offset":864},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"To minimize the amount of configuration needed, luma.gl always attempts to load headless gl when running under Node.js. Use ","position":{"start":{"line":9,"column":1,"offset":866},"end":{"line":9,"column":125,"offset":990},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">npm install gl</code>","position":{"start":{"line":9,"column":125,"offset":990},"end":{"line":9,"column":141,"offset":1006},"indent":[]}},{"type":"text","value":" to install ","position":{"start":{"line":9,"column":141,"offset":1006},"end":{"line":9,"column":153,"offset":1018},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">headless-gl</code>","position":{"start":{"line":9,"column":153,"offset":1018},"end":{"line":9,"column":166,"offset":1031},"indent":[]}},{"type":"text","value":". If ","position":{"start":{"line":9,"column":166,"offset":1031},"end":{"line":9,"column":171,"offset":1036},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">gl</code>","position":{"start":{"line":9,"column":171,"offset":1036},"end":{"line":9,"column":175,"offset":1040},"indent":[]}},{"type":"text","value":" is installed and properly configured on your system (","position":{"start":{"line":9,"column":175,"offset":1040},"end":{"line":9,"column":229,"offset":1094},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">gl</code>","position":{"start":{"line":9,"column":229,"offset":1094},"end":{"line":9,"column":233,"offset":1098},"indent":[]}},{"type":"text","value":" can often autodetect your configuration), you should be able to run luma.gl in Node.js from the console, even on machines that do not have GPUs.","position":{"start":{"line":9,"column":233,"offset":1098},"end":{"line":9,"column":378,"offset":1243},"indent":[]}}],"position":{"start":{"line":9,"column":1,"offset":866},"end":{"line":9,"column":378,"offset":1243},"indent":[]}},{"type":"html","lang":"js","value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token string\">'luma.gl'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span>createGLContext<span class=\"token punctuation\">,</span> Model<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span><span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@luma.gl/core'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> gl <span class=\"token operator\">=</span> <span class=\"token function\">createGLContext</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>width<span class=\"token punctuation\">,</span> height<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>","position":{"start":{"line":11,"column":1,"offset":1245},"end":{"line":15,"column":4,"offset":1381},"indent":[1,1,1,1]}},{"type":"heading","depth":1,"children":[{"type":"link","url":"#remarks","title":null,"data":{"hProperties":{"aria-hidden":true,"class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Remarks","position":{"start":{"line":17,"column":3,"offset":1385},"end":{"line":17,"column":10,"offset":1392},"indent":[]}}],"position":{"start":{"line":17,"column":1,"offset":1383},"end":{"line":17,"column":10,"offset":1392},"indent":[]},"data":{"id":"remarks","htmlAttributes":{"id":"remarks"},"hProperties":{"id":"remarks"}}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"While you can certainly use ","position":{"start":{"line":19,"column":3,"offset":1396},"end":{"line":19,"column":31,"offset":1424},"indent":[]}},{"type":"link","title":null,"url":"https://www.npmjs.com/package/gl","children":[{"type":"text","value":"headless-gl","position":{"start":{"line":19,"column":32,"offset":1425},"end":{"line":19,"column":43,"offset":1436},"indent":[]}}],"position":{"start":{"line":19,"column":31,"offset":1424},"end":{"line":19,"column":78,"offset":1471},"indent":[]}},{"type":"text","value":" directly to create a context (without passing it to ","position":{"start":{"line":19,"column":78,"offset":1471},"end":{"line":19,"column":131,"offset":1524},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">createGLContext</code>","position":{"start":{"line":19,"column":131,"offset":1524},"end":{"line":19,"column":148,"offset":1541},"indent":[]}},{"type":"text","value":"), the ","position":{"start":{"line":19,"column":148,"offset":1541},"end":{"line":19,"column":155,"offset":1548},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">createGLContext</code>","position":{"start":{"line":19,"column":155,"offset":1548},"end":{"line":19,"column":172,"offset":1565},"indent":[]}},{"type":"text","value":" method will automatically create a browser or headless context depending on the environment, enabling you to write cleaner application code that works both in both environments.","position":{"start":{"line":19,"column":172,"offset":1565},"end":{"line":19,"column":350,"offset":1743},"indent":[]}}],"position":{"start":{"line":19,"column":3,"offset":1396},"end":{"line":19,"column":350,"offset":1743},"indent":[]}}],"position":{"start":{"line":19,"column":1,"offset":1394},"end":{"line":19,"column":350,"offset":1743},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"If working in Node.js, also note that luma.gl has two separate implementations of its I/O functions, e.g. ","position":{"start":{"line":20,"column":3,"offset":1746},"end":{"line":20,"column":109,"offset":1852},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">loadImage</code>","position":{"start":{"line":20,"column":109,"offset":1852},"end":{"line":20,"column":120,"offset":1863},"indent":[]}},{"type":"text","value":"/","position":{"start":{"line":20,"column":120,"offset":1863},"end":{"line":20,"column":121,"offset":1864},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">loadImages</code>","position":{"start":{"line":20,"column":121,"offset":1864},"end":{"line":20,"column":133,"offset":1876},"indent":[]}},{"type":"text","value":", that work both in browser and under Node.js. (Browser apps tend to rely on the DOM ","position":{"start":{"line":20,"column":133,"offset":1876},"end":{"line":20,"column":218,"offset":1961},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">Image</code>","position":{"start":{"line":20,"column":218,"offset":1961},"end":{"line":20,"column":225,"offset":1968},"indent":[]}},{"type":"text","value":" class to load images, which is not available under Node.js).","position":{"start":{"line":20,"column":225,"offset":1968},"end":{"line":20,"column":286,"offset":2029},"indent":[]}}],"position":{"start":{"line":20,"column":3,"offset":1746},"end":{"line":20,"column":286,"offset":2029},"indent":[]}}],"position":{"start":{"line":20,"column":1,"offset":1744},"end":{"line":20,"column":286,"offset":2029},"indent":[]}}],"position":{"start":{"line":19,"column":1,"offset":1394},"end":{"line":20,"column":286,"offset":2029},"indent":[1]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":21,"column":1,"offset":2030}}}}