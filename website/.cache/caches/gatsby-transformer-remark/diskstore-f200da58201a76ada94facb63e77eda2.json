{"expireTime":9007200809748933000,"key":"transformer-remark-markdown-ast-40787d25f0081c4e368aaac5446aecf1-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-autolink-headers-","val":{"type":"root","children":[{"type":"heading","depth":1,"children":[{"type":"link","url":"#animationloopproxy-experimental","title":null,"data":{"hProperties":{"aria-hidden":true,"class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"AnimationLoopProxy (Experimental)","position":{"start":{"line":1,"column":3,"offset":2},"end":{"line":1,"column":36,"offset":35},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":1,"column":36,"offset":35},"indent":[]},"data":{"id":"animationloopproxy-experimental","htmlAttributes":{"id":"animationloopproxy-experimental"},"hProperties":{"id":"animationloopproxy-experimental"}}},{"type":"blockquote","children":[{"type":"paragraph","children":[{"type":"text","value":"This class is experimental. Its API may change between minor releases.","position":{"start":{"line":3,"column":3,"offset":39},"end":{"line":3,"column":73,"offset":109},"indent":[]}}],"position":{"start":{"line":3,"column":3,"offset":39},"end":{"line":3,"column":73,"offset":109},"indent":[]}}],"position":{"start":{"line":3,"column":1,"offset":37},"end":{"line":3,"column":73,"offset":109},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Manages an ","position":{"start":{"line":5,"column":1,"offset":111},"end":{"line":5,"column":12,"offset":122},"indent":[]}},{"type":"link","title":null,"url":"/docs/api-reference/core/animation-loop.md","children":[{"type":"text","value":"AnimationLoop","position":{"start":{"line":5,"column":13,"offset":123},"end":{"line":5,"column":26,"offset":136},"indent":[]}}],"position":{"start":{"line":5,"column":12,"offset":122},"end":{"line":5,"column":71,"offset":181},"indent":[]}},{"type":"text","value":" that runs on a worker thread.","position":{"start":{"line":5,"column":71,"offset":181},"end":{"line":5,"column":101,"offset":211},"indent":[]}}],"position":{"start":{"line":5,"column":1,"offset":111},"end":{"line":5,"column":101,"offset":211},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#usage","title":null,"data":{"hProperties":{"aria-hidden":true,"class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Usage","position":{"start":{"line":7,"column":4,"offset":216},"end":{"line":7,"column":9,"offset":221},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":213},"end":{"line":7,"column":9,"offset":221},"indent":[]},"data":{"id":"usage","htmlAttributes":{"id":"usage"},"hProperties":{"id":"usage"}}},{"type":"paragraph","children":[{"type":"text","value":"Create a worker:","position":{"start":{"line":9,"column":1,"offset":223},"end":{"line":9,"column":17,"offset":239},"indent":[]}}],"position":{"start":{"line":9,"column":1,"offset":223},"end":{"line":9,"column":17,"offset":239},"indent":[]}},{"type":"html","lang":"js","value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// animation-worker.js</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span>\n  AnimationLoop<span class=\"token punctuation\">,</span> _AnimationLoopProxy <span class=\"token keyword\">as</span> AnimationLoopProxy\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@luma.gl/core'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> animationLoop <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">AnimationLoop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token operator\">...</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nAnimationLoopProxy<span class=\"token punctuation\">.</span><span class=\"token function\">createWorker</span><span class=\"token punctuation\">(</span>animationLoop<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>","position":{"start":{"line":10,"column":1,"offset":240},"end":{"line":18,"column":4,"offset":467},"indent":[1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Use a bundler e.g. Webpack to transpile and bundle ","position":{"start":{"line":20,"column":1,"offset":469},"end":{"line":20,"column":52,"offset":520},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">animation-worker.js</code>","position":{"start":{"line":20,"column":52,"offset":520},"end":{"line":20,"column":73,"offset":541},"indent":[]}},{"type":"text","value":" into a file e.g. ","position":{"start":{"line":20,"column":73,"offset":541},"end":{"line":20,"column":91,"offset":559},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">animation-worker.es5.js</code>","position":{"start":{"line":20,"column":91,"offset":559},"end":{"line":20,"column":116,"offset":584},"indent":[]}},{"type":"text","value":". You can then use it as this:","position":{"start":{"line":20,"column":116,"offset":584},"end":{"line":20,"column":146,"offset":614},"indent":[]}}],"position":{"start":{"line":20,"column":1,"offset":469},"end":{"line":20,"column":146,"offset":614},"indent":[]}},{"type":"html","lang":"js","value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span>_AnimationLoopProxy <span class=\"token keyword\">as</span> AnimationLoopProxy<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@luma.gl/core'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">new</span> <span class=\"token class-name\">AnimationLoopProxy</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Worker</span><span class=\"token punctuation\">(</span><span class=\"token string\">'animation-worker.es5.js'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>","position":{"start":{"line":22,"column":1,"offset":616},"end":{"line":26,"column":4,"offset":770},"indent":[1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#static-methods","title":null,"data":{"hProperties":{"aria-hidden":true,"class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Static Methods","position":{"start":{"line":28,"column":4,"offset":775},"end":{"line":28,"column":18,"offset":789},"indent":[]}}],"position":{"start":{"line":28,"column":1,"offset":772},"end":{"line":28,"column":18,"offset":789},"indent":[]},"data":{"id":"static-methods","htmlAttributes":{"id":"static-methods"},"hProperties":{"id":"static-methods"}}},{"type":"heading","depth":3,"children":[{"type":"link","url":"#createworker","title":null,"data":{"hProperties":{"aria-hidden":true,"class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"createWorker","position":{"start":{"line":30,"column":5,"offset":795},"end":{"line":30,"column":17,"offset":807},"indent":[]}}],"position":{"start":{"line":30,"column":1,"offset":791},"end":{"line":30,"column":17,"offset":807},"indent":[]},"data":{"id":"createworker","htmlAttributes":{"id":"createworker"},"hProperties":{"id":"createworker"}}},{"type":"html","lang":"js","value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">AnimationLoopProxy<span class=\"token punctuation\">.</span><span class=\"token function\">createWorker</span><span class=\"token punctuation\">(</span>animationLoop<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>","position":{"start":{"line":32,"column":1,"offset":809},"end":{"line":34,"column":4,"offset":866},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Returns a function ","position":{"start":{"line":36,"column":1,"offset":868},"end":{"line":36,"column":20,"offset":887},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">self =&gt; {...}</code>","position":{"start":{"line":36,"column":20,"offset":887},"end":{"line":36,"column":35,"offset":902},"indent":[]}},{"type":"text","value":" that sets up the message handling inside the worker thread when called with a ","position":{"start":{"line":36,"column":35,"offset":902},"end":{"line":36,"column":114,"offset":981},"indent":[]}},{"type":"link","title":null,"url":"https://developer.mozilla.org/en-US/docs/Web/API/WorkerGlobalScope","children":[{"type":"text","value":"WorkerGlobalScope","position":{"start":{"line":36,"column":115,"offset":982},"end":{"line":36,"column":132,"offset":999},"indent":[]}}],"position":{"start":{"line":36,"column":114,"offset":981},"end":{"line":36,"column":201,"offset":1068},"indent":[]}},{"type":"text","value":" instance.","position":{"start":{"line":36,"column":201,"offset":1068},"end":{"line":36,"column":211,"offset":1078},"indent":[]}}],"position":{"start":{"line":36,"column":1,"offset":868},"end":{"line":36,"column":211,"offset":1078},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#methods","title":null,"data":{"hProperties":{"aria-hidden":true,"class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Methods","position":{"start":{"line":38,"column":4,"offset":1083},"end":{"line":38,"column":11,"offset":1090},"indent":[]}}],"position":{"start":{"line":38,"column":1,"offset":1080},"end":{"line":38,"column":11,"offset":1090},"indent":[]},"data":{"id":"methods","htmlAttributes":{"id":"methods"},"hProperties":{"id":"methods"}}},{"type":"heading","depth":3,"children":[{"type":"link","url":"#constructorworker-worker-props--object","title":null,"data":{"hProperties":{"aria-hidden":true,"class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"constructor(worker: Worker, props : Object)","position":{"start":{"line":40,"column":5,"offset":1096},"end":{"line":40,"column":48,"offset":1139},"indent":[]}}],"position":{"start":{"line":40,"column":1,"offset":1092},"end":{"line":40,"column":48,"offset":1139},"indent":[]},"data":{"id":"constructorworker-worker-props--object","htmlAttributes":{"id":"constructorworker-worker-props--object"},"hProperties":{"id":"constructorworker-worker-props--object"}}},{"type":"html","lang":"js","value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">new</span> <span class=\"token class-name\">AnimationLoopProxy</span><span class=\"token punctuation\">(</span>worker<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  onInitialize<span class=\"token punctuation\">,</span>\n  onFinalize<span class=\"token punctuation\">,</span>\n  useDevicePixels<span class=\"token punctuation\">,</span>\n  autoResizeDrawingBuffer\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>","position":{"start":{"line":42,"column":1,"offset":1141},"end":{"line":49,"column":4,"offset":1262},"indent":[1,1,1,1,1,1,1]}},{"type":"list","ordered":false,"start":null,"loose":true,"children":[{"type":"listItem","loose":true,"checked":null,"children":[{"type":"paragraph","children":[{"type":"html","value":"<code class=\"language-text\">worker</code>","position":{"start":{"line":51,"column":3,"offset":1266},"end":{"line":51,"column":11,"offset":1274},"indent":[]}},{"type":"text","value":" - a ","position":{"start":{"line":51,"column":11,"offset":1274},"end":{"line":51,"column":16,"offset":1279},"indent":[]}},{"type":"link","title":null,"url":"https://developer.mozilla.org/en-US/docs/Web/API/Worker","children":[{"type":"text","value":"Worker","position":{"start":{"line":51,"column":17,"offset":1280},"end":{"line":51,"column":23,"offset":1286},"indent":[]}}],"position":{"start":{"line":51,"column":16,"offset":1279},"end":{"line":51,"column":81,"offset":1344},"indent":[]}},{"type":"text","value":" instance using code created from ","position":{"start":{"line":51,"column":81,"offset":1344},"end":{"line":51,"column":115,"offset":1378},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">AnimationLoopProxy.createWorker</code>","position":{"start":{"line":51,"column":115,"offset":1378},"end":{"line":51,"column":148,"offset":1411},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":51,"column":148,"offset":1411},"end":{"line":51,"column":149,"offset":1412},"indent":[]}}],"position":{"start":{"line":51,"column":3,"offset":1266},"end":{"line":51,"column":149,"offset":1412},"indent":[]}}],"position":{"start":{"line":51,"column":1,"offset":1264},"end":{"line":52,"column":1,"offset":1413},"indent":[1]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"html","value":"<code class=\"language-text\">props.onInitialize</code>","position":{"start":{"line":53,"column":3,"offset":1416},"end":{"line":53,"column":23,"offset":1436},"indent":[]}},{"type":"text","value":" (callback) - if supplied, will be called once after first ","position":{"start":{"line":53,"column":23,"offset":1436},"end":{"line":53,"column":82,"offset":1495},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">start()</code>","position":{"start":{"line":53,"column":82,"offset":1495},"end":{"line":53,"column":91,"offset":1504},"indent":[]}},{"type":"text","value":" has been called, after page load completes and a context has been created.","position":{"start":{"line":53,"column":91,"offset":1504},"end":{"line":53,"column":166,"offset":1579},"indent":[]}}],"position":{"start":{"line":53,"column":3,"offset":1416},"end":{"line":53,"column":166,"offset":1579},"indent":[]}}],"position":{"start":{"line":53,"column":1,"offset":1414},"end":{"line":53,"column":166,"offset":1579},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"html","value":"<code class=\"language-text\">props.onFinalize</code>","position":{"start":{"line":54,"column":3,"offset":1582},"end":{"line":54,"column":21,"offset":1600},"indent":[]}},{"type":"text","value":"=","position":{"start":{"line":54,"column":21,"offset":1600},"end":{"line":54,"column":22,"offset":1601},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">null</code>","position":{"start":{"line":54,"column":22,"offset":1601},"end":{"line":54,"column":28,"offset":1607},"indent":[]}},{"type":"text","value":" (callback) - Called once when animation is stopped. Can be used to delete objects or free any resources created during ","position":{"start":{"line":54,"column":28,"offset":1607},"end":{"line":54,"column":148,"offset":1727},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">onInitialize</code>","position":{"start":{"line":54,"column":148,"offset":1727},"end":{"line":54,"column":162,"offset":1741},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":54,"column":162,"offset":1741},"end":{"line":54,"column":163,"offset":1742},"indent":[]}}],"position":{"start":{"line":54,"column":3,"offset":1582},"end":{"line":54,"column":163,"offset":1742},"indent":[]}}],"position":{"start":{"line":54,"column":1,"offset":1580},"end":{"line":54,"column":163,"offset":1742},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"html","value":"<code class=\"language-text\">props.autoResizeDrawingBuffer</code>","position":{"start":{"line":55,"column":3,"offset":1745},"end":{"line":55,"column":34,"offset":1776},"indent":[]}},{"type":"text","value":"=","position":{"start":{"line":55,"column":34,"offset":1776},"end":{"line":55,"column":35,"offset":1777},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">true</code>","position":{"start":{"line":55,"column":35,"offset":1777},"end":{"line":55,"column":41,"offset":1783},"indent":[]}},{"type":"text","value":" - If true, checks the canvas size every frame and updates the drawing buffer size if needed.","position":{"start":{"line":55,"column":41,"offset":1783},"end":{"line":55,"column":134,"offset":1876},"indent":[]}}],"position":{"start":{"line":55,"column":3,"offset":1745},"end":{"line":55,"column":134,"offset":1876},"indent":[]}}],"position":{"start":{"line":55,"column":1,"offset":1743},"end":{"line":55,"column":134,"offset":1876},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"html","value":"<code class=\"language-text\">props.useDevicePixels</code>","position":{"start":{"line":56,"column":3,"offset":1879},"end":{"line":56,"column":26,"offset":1902},"indent":[]}},{"type":"text","value":" - Whether to use ","position":{"start":{"line":56,"column":26,"offset":1902},"end":{"line":56,"column":44,"offset":1920},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">window.devicePixelRatio</code>","position":{"start":{"line":56,"column":44,"offset":1920},"end":{"line":56,"column":69,"offset":1945},"indent":[]}},{"type":"text","value":" as a multiplier, e.g. in ","position":{"start":{"line":56,"column":69,"offset":1945},"end":{"line":56,"column":95,"offset":1971},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">autoResizeDrawingBuffer</code>","position":{"start":{"line":56,"column":95,"offset":1971},"end":{"line":56,"column":120,"offset":1996},"indent":[]}},{"type":"text","value":" etc.","position":{"start":{"line":56,"column":120,"offset":1996},"end":{"line":56,"column":125,"offset":2001},"indent":[]}}],"position":{"start":{"line":56,"column":3,"offset":1879},"end":{"line":56,"column":125,"offset":2001},"indent":[]}}],"position":{"start":{"line":56,"column":1,"offset":1877},"end":{"line":56,"column":125,"offset":2001},"indent":[]}}],"position":{"start":{"line":51,"column":1,"offset":1264},"end":{"line":56,"column":125,"offset":2001},"indent":[1,1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"link","url":"#startoptions--object--animationloopproxy","title":null,"data":{"hProperties":{"aria-hidden":true,"class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"start(","position":{"start":{"line":58,"column":5,"offset":2007},"end":{"line":58,"column":11,"offset":2013},"indent":[]}},{"type":"linkReference","identifier":"options : object","referenceType":"shortcut","children":[{"type":"text","value":"options : Object","position":{"start":{"line":58,"column":12,"offset":2014},"end":{"line":58,"column":28,"offset":2030},"indent":[]}}],"position":{"start":{"line":58,"column":11,"offset":2013},"end":{"line":58,"column":29,"offset":2031},"indent":[]}},{"type":"text","value":") : AnimationLoopProxy","position":{"start":{"line":58,"column":29,"offset":2031},"end":{"line":58,"column":51,"offset":2053},"indent":[]}}],"position":{"start":{"line":58,"column":1,"offset":2003},"end":{"line":58,"column":51,"offset":2053},"indent":[]},"data":{"id":"startoptions--object--animationloopproxy","htmlAttributes":{"id":"startoptions--object--animationloopproxy"},"hProperties":{"id":"startoptions--object--animationloopproxy"}}},{"type":"paragraph","children":[{"type":"text","value":"Initializes and then (re)starts the animation","position":{"start":{"line":60,"column":1,"offset":2055},"end":{"line":60,"column":46,"offset":2100},"indent":[]}}],"position":{"start":{"line":60,"column":1,"offset":2055},"end":{"line":60,"column":46,"offset":2100},"indent":[]}},{"type":"html","lang":"js","value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">animationLoopProxy<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span>options<span class=\"token punctuation\">)</span></code></pre></div>","position":{"start":{"line":62,"column":1,"offset":2102},"end":{"line":64,"column":4,"offset":2145},"indent":[1,1]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"html","value":"<code class=\"language-text\">options.canvas</code>","position":{"start":{"line":66,"column":3,"offset":2149},"end":{"line":66,"column":19,"offset":2165},"indent":[]}},{"type":"text","value":" (string | HTMLCanvasElement) - A ","position":{"start":{"line":66,"column":19,"offset":2165},"end":{"line":66,"column":53,"offset":2199},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"string","position":{"start":{"line":66,"column":54,"offset":2200},"end":{"line":66,"column":60,"offset":2206},"indent":[]}}],"position":{"start":{"line":66,"column":53,"offset":2199},"end":{"line":66,"column":61,"offset":2207},"indent":[]}},{"type":"text","value":" containing the ","position":{"start":{"line":66,"column":61,"offset":2207},"end":{"line":66,"column":77,"offset":2223},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">id</code>","position":{"start":{"line":66,"column":77,"offset":2223},"end":{"line":66,"column":81,"offset":2227},"indent":[]}},{"type":"text","value":" of an existing HTML element or a ","position":{"start":{"line":66,"column":81,"offset":2227},"end":{"line":66,"column":115,"offset":2261},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"DOMElement","position":{"start":{"line":66,"column":116,"offset":2262},"end":{"line":66,"column":126,"offset":2272},"indent":[]}}],"position":{"start":{"line":66,"column":115,"offset":2261},"end":{"line":66,"column":127,"offset":2273},"indent":[]}},{"type":"text","value":" instance. If ","position":{"start":{"line":66,"column":127,"offset":2273},"end":{"line":66,"column":141,"offset":2287},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">null</code>","position":{"start":{"line":66,"column":141,"offset":2287},"end":{"line":66,"column":147,"offset":2293},"indent":[]}},{"type":"text","value":" or not provided, a new canvas will be created.","position":{"start":{"line":66,"column":147,"offset":2293},"end":{"line":66,"column":194,"offset":2340},"indent":[]}}],"position":{"start":{"line":66,"column":3,"offset":2149},"end":{"line":66,"column":194,"offset":2340},"indent":[]}}],"position":{"start":{"line":66,"column":1,"offset":2147},"end":{"line":66,"column":194,"offset":2340},"indent":[]}}],"position":{"start":{"line":66,"column":1,"offset":2147},"end":{"line":66,"column":194,"offset":2340},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"link","url":"#stop--animationloopproxy","title":null,"data":{"hProperties":{"aria-hidden":true,"class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"stop() : AnimationLoopProxy","position":{"start":{"line":68,"column":5,"offset":2346},"end":{"line":68,"column":32,"offset":2373},"indent":[]}}],"position":{"start":{"line":68,"column":1,"offset":2342},"end":{"line":68,"column":32,"offset":2373},"indent":[]},"data":{"id":"stop--animationloopproxy","htmlAttributes":{"id":"stop--animationloopproxy"},"hProperties":{"id":"stop--animationloopproxy"}}},{"type":"paragraph","children":[{"type":"text","value":"Stops the animation","position":{"start":{"line":70,"column":1,"offset":2375},"end":{"line":70,"column":20,"offset":2394},"indent":[]}}],"position":{"start":{"line":70,"column":1,"offset":2375},"end":{"line":70,"column":20,"offset":2394},"indent":[]}},{"type":"html","lang":"js","value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">animationLoopProxy<span class=\"token punctuation\">.</span><span class=\"token function\">stop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>","position":{"start":{"line":72,"column":1,"offset":2396},"end":{"line":74,"column":4,"offset":2432},"indent":[1,1]}},{"type":"heading","depth":3,"children":[{"type":"link","url":"#waitforrender--promise","title":null,"data":{"hProperties":{"aria-hidden":true,"class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"waitForRender() : Promise","position":{"start":{"line":76,"column":5,"offset":2438},"end":{"line":76,"column":30,"offset":2463},"indent":[]}}],"position":{"start":{"line":76,"column":1,"offset":2434},"end":{"line":76,"column":30,"offset":2463},"indent":[]},"data":{"id":"waitforrender--promise","htmlAttributes":{"id":"waitforrender--promise"},"hProperties":{"id":"waitforrender--promise"}}},{"type":"paragraph","children":[{"type":"text","value":"Returns a promise which resolves in the next frame after rendering has completed.","position":{"start":{"line":78,"column":1,"offset":2465},"end":{"line":78,"column":82,"offset":2546},"indent":[]}}],"position":{"start":{"line":78,"column":1,"offset":2465},"end":{"line":78,"column":82,"offset":2546},"indent":[]}},{"type":"html","lang":"js","value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> loop <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> animationLoop<span class=\"token punctuation\">.</span><span class=\"token function\">waitForRender</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// can now read pixels from webgl context</span>\nloop<span class=\"token punctuation\">.</span>gl<span class=\"token punctuation\">.</span><span class=\"token function\">readPixels</span><span class=\"token punctuation\">(</span><span class=\"token operator\">...</span><span class=\"token punctuation\">)</span></code></pre></div>","position":{"start":{"line":80,"column":1,"offset":2548},"end":{"line":84,"column":4,"offset":2672},"indent":[1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"link","url":"#setpropsprops-object--animationloopproxy","title":null,"data":{"hProperties":{"aria-hidden":true,"class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"setProps(props: Object) : AnimationLoopProxy","position":{"start":{"line":86,"column":5,"offset":2678},"end":{"line":86,"column":49,"offset":2722},"indent":[]}}],"position":{"start":{"line":86,"column":1,"offset":2674},"end":{"line":86,"column":49,"offset":2722},"indent":[]},"data":{"id":"setpropsprops-object--animationloopproxy","htmlAttributes":{"id":"setpropsprops-object--animationloopproxy"},"hProperties":{"id":"setpropsprops-object--animationloopproxy"}}},{"type":"html","lang":"js","value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">animationLoopProxy<span class=\"token punctuation\">.</span><span class=\"token function\">setProps</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token operator\">...</span>props<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>","position":{"start":{"line":88,"column":1,"offset":2724},"end":{"line":90,"column":4,"offset":2774},"indent":[1,1]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"html","value":"<code class=\"language-text\">props.autoResizeDrawingBuffer</code>","position":{"start":{"line":92,"column":3,"offset":2778},"end":{"line":92,"column":34,"offset":2809},"indent":[]}},{"type":"text","value":" - Update the drawing buffer size to match the canvas size before each call to ","position":{"start":{"line":92,"column":34,"offset":2809},"end":{"line":92,"column":113,"offset":2888},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">onRenderFrame()</code>","position":{"start":{"line":92,"column":113,"offset":2888},"end":{"line":92,"column":130,"offset":2905},"indent":[]}}],"position":{"start":{"line":92,"column":3,"offset":2778},"end":{"line":92,"column":130,"offset":2905},"indent":[]}}],"position":{"start":{"line":92,"column":1,"offset":2776},"end":{"line":92,"column":130,"offset":2905},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"html","value":"<code class=\"language-text\">props.useDevicePixels</code>","position":{"start":{"line":93,"column":3,"offset":2908},"end":{"line":93,"column":26,"offset":2931},"indent":[]}},{"type":"text","value":" - Whether to use ","position":{"start":{"line":93,"column":26,"offset":2931},"end":{"line":93,"column":44,"offset":2949},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">window.devicePixelRatio</code>","position":{"start":{"line":93,"column":44,"offset":2949},"end":{"line":93,"column":69,"offset":2974},"indent":[]}},{"type":"text","value":" as a multiplier, e.g. in ","position":{"start":{"line":93,"column":69,"offset":2974},"end":{"line":93,"column":95,"offset":3000},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">autoResizeDrawingBuffer</code>","position":{"start":{"line":93,"column":95,"offset":3000},"end":{"line":93,"column":120,"offset":3025},"indent":[]}},{"type":"text","value":" etc.","position":{"start":{"line":93,"column":120,"offset":3025},"end":{"line":93,"column":125,"offset":3030},"indent":[]}}],"position":{"start":{"line":93,"column":3,"offset":2908},"end":{"line":93,"column":125,"offset":3030},"indent":[]}}],"position":{"start":{"line":93,"column":1,"offset":2906},"end":{"line":93,"column":125,"offset":3030},"indent":[]}}],"position":{"start":{"line":92,"column":1,"offset":2776},"end":{"line":93,"column":125,"offset":3030},"indent":[1]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":94,"column":1,"offset":3031}}}}